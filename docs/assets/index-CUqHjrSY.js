var V1=Object.defineProperty;var Z1=(e,t,n)=>t in e?V1(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var W=(e,t,n)=>Z1(e,typeof t!="symbol"?t+"":t,n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Y1(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $0={exports:{}},gu={},W0={exports:{}},ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wa=Symbol.for("react.element"),q1=Symbol.for("react.portal"),G1=Symbol.for("react.fragment"),K1=Symbol.for("react.strict_mode"),X1=Symbol.for("react.profiler"),J1=Symbol.for("react.provider"),Q1=Symbol.for("react.context"),eE=Symbol.for("react.forward_ref"),tE=Symbol.for("react.suspense"),nE=Symbol.for("react.memo"),rE=Symbol.for("react.lazy"),fg=Symbol.iterator;function iE(e){return e===null||typeof e!="object"?null:(e=fg&&e[fg]||e["@@iterator"],typeof e=="function"?e:null)}var U0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H0=Object.assign,V0={};function Ps(e,t,n){this.props=e,this.context=t,this.refs=V0,this.updater=n||U0}Ps.prototype.isReactComponent={};Ps.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ps.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Z0(){}Z0.prototype=Ps.prototype;function ep(e,t,n){this.props=e,this.context=t,this.refs=V0,this.updater=n||U0}var tp=ep.prototype=new Z0;tp.constructor=ep;H0(tp,Ps.prototype);tp.isPureReactComponent=!0;var hg=Array.isArray,Y0=Object.prototype.hasOwnProperty,np={current:null},q0={key:!0,ref:!0,__self:!0,__source:!0};function G0(e,t,n){var r,i={},s=null,o=null;if(t!=null)for(r in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Y0.call(t,r)&&!q0.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:wa,type:e,key:s,ref:o,props:i,_owner:np.current}}function sE(e,t){return{$$typeof:wa,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function rp(e){return typeof e=="object"&&e!==null&&e.$$typeof===wa}function oE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var pg=/\/+/g;function id(e,t){return typeof e=="object"&&e!==null&&e.key!=null?oE(""+e.key):t.toString(36)}function $l(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case wa:case q1:o=!0}}if(o)return o=e,i=i(o),e=r===""?"."+id(o,0):r,hg(i)?(n="",e!=null&&(n=e.replace(pg,"$&/")+"/"),$l(i,t,n,"",function(c){return c})):i!=null&&(rp(i)&&(i=sE(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(pg,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=r===""?".":r+":",hg(e))for(var a=0;a<e.length;a++){s=e[a];var l=r+id(s,a);o+=$l(s,t,n,l,i)}else if(l=iE(e),typeof l=="function")for(e=l.call(e),a=0;!(s=e.next()).done;)s=s.value,l=r+id(s,a++),o+=$l(s,t,n,l,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function Va(e,t,n){if(e==null)return e;var r=[],i=0;return $l(e,r,"","",function(s){return t.call(n,s,i++)}),r}function aE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},Wl={transition:null},lE={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Wl,ReactCurrentOwner:np};function K0(){throw Error("act(...) is not supported in production builds of React.")}ne.Children={map:Va,forEach:function(e,t,n){Va(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Va(e,function(){t++}),t},toArray:function(e){return Va(e,function(t){return t})||[]},only:function(e){if(!rp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ne.Component=Ps;ne.Fragment=G1;ne.Profiler=X1;ne.PureComponent=ep;ne.StrictMode=K1;ne.Suspense=tE;ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lE;ne.act=K0;ne.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=H0({},e.props),i=e.key,s=e.ref,o=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=np.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Y0.call(t,l)&&!q0.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:wa,type:e.type,key:i,ref:s,props:r,_owner:o}};ne.createContext=function(e){return e={$$typeof:Q1,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:J1,_context:e},e.Consumer=e};ne.createElement=G0;ne.createFactory=function(e){var t=G0.bind(null,e);return t.type=e,t};ne.createRef=function(){return{current:null}};ne.forwardRef=function(e){return{$$typeof:eE,render:e}};ne.isValidElement=rp;ne.lazy=function(e){return{$$typeof:rE,_payload:{_status:-1,_result:e},_init:aE}};ne.memo=function(e,t){return{$$typeof:nE,type:e,compare:t===void 0?null:t}};ne.startTransition=function(e){var t=Wl.transition;Wl.transition={};try{e()}finally{Wl.transition=t}};ne.unstable_act=K0;ne.useCallback=function(e,t){return ht.current.useCallback(e,t)};ne.useContext=function(e){return ht.current.useContext(e)};ne.useDebugValue=function(){};ne.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};ne.useEffect=function(e,t){return ht.current.useEffect(e,t)};ne.useId=function(){return ht.current.useId()};ne.useImperativeHandle=function(e,t,n){return ht.current.useImperativeHandle(e,t,n)};ne.useInsertionEffect=function(e,t){return ht.current.useInsertionEffect(e,t)};ne.useLayoutEffect=function(e,t){return ht.current.useLayoutEffect(e,t)};ne.useMemo=function(e,t){return ht.current.useMemo(e,t)};ne.useReducer=function(e,t,n){return ht.current.useReducer(e,t,n)};ne.useRef=function(e){return ht.current.useRef(e)};ne.useState=function(e){return ht.current.useState(e)};ne.useSyncExternalStore=function(e,t,n){return ht.current.useSyncExternalStore(e,t,n)};ne.useTransition=function(){return ht.current.useTransition()};ne.version="18.3.1";W0.exports=ne;var L=W0.exports;const ss=Y1(L);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cE=L,uE=Symbol.for("react.element"),dE=Symbol.for("react.fragment"),fE=Object.prototype.hasOwnProperty,hE=cE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pE={key:!0,ref:!0,__self:!0,__source:!0};function X0(e,t,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)fE.call(t,r)&&!pE.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:uE,type:e,key:s,ref:o,props:i,_owner:hE.current}}gu.Fragment=dE;gu.jsx=X0;gu.jsxs=X0;$0.exports=gu;var u=$0.exports,gf={},J0={exports:{}},zt={},Q0={exports:{}},ex={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,j){var B=R.length;R.push(j);e:for(;0<B;){var Z=B-1>>>1,X=R[Z];if(0<i(X,j))R[Z]=j,R[B]=X,B=Z;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var j=R[0],B=R.pop();if(B!==j){R[0]=B;e:for(var Z=0,X=R.length,Fe=X>>>1;Z<Fe;){var fe=2*(Z+1)-1,Ce=R[fe],Oe=fe+1,er=R[Oe];if(0>i(Ce,B))Oe<X&&0>i(er,Ce)?(R[Z]=er,R[Oe]=B,Z=Oe):(R[Z]=Ce,R[fe]=B,Z=fe);else if(Oe<X&&0>i(er,B))R[Z]=er,R[Oe]=B,Z=Oe;else break e}}return j}function i(R,j){var B=R.sortIndex-j.sortIndex;return B!==0?B:R.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,h=3,p=!1,m=!1,g=!1,_=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(R){for(var j=n(c);j!==null;){if(j.callback===null)r(c);else if(j.startTime<=R)r(c),j.sortIndex=j.expirationTime,t(l,j);else break;j=n(c)}}function S(R){if(g=!1,x(R),!m)if(n(l)!==null)m=!0,z(b);else{var j=n(c);j!==null&&P(S,j.startTime-R)}}function b(R,j){m=!1,g&&(g=!1,y(E),E=-1),p=!0;var B=h;try{for(x(j),f=n(l);f!==null&&(!(f.expirationTime>j)||R&&!I());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,h=f.priorityLevel;var X=Z(f.expirationTime<=j);j=e.unstable_now(),typeof X=="function"?f.callback=X:f===n(l)&&r(l),x(j)}else r(l);f=n(l)}if(f!==null)var Fe=!0;else{var fe=n(c);fe!==null&&P(S,fe.startTime-j),Fe=!1}return Fe}finally{f=null,h=B,p=!1}}var k=!1,w=null,E=-1,C=5,T=-1;function I(){return!(e.unstable_now()-T<C)}function D(){if(w!==null){var R=e.unstable_now();T=R;var j=!0;try{j=w(!0,R)}finally{j?F():(k=!1,w=null)}}else k=!1}var F;if(typeof v=="function")F=function(){v(D)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,A=U.port2;U.port1.onmessage=D,F=function(){A.postMessage(null)}}else F=function(){_(D,0)};function z(R){w=R,k||(k=!0,F())}function P(R,j){E=_(function(){R(e.unstable_now())},j)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,z(b))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var B=h;h=j;try{return R()}finally{h=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,j){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=h;h=R;try{return j()}finally{h=B}},e.unstable_scheduleCallback=function(R,j,B){var Z=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Z+B:Z):B=Z,R){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=B+X,R={id:d++,callback:j,priorityLevel:R,startTime:B,expirationTime:X,sortIndex:-1},B>Z?(R.sortIndex=B,t(c,R),n(l)===null&&R===n(c)&&(g?(y(E),E=-1):g=!0,P(S,B-Z))):(R.sortIndex=X,t(l,R),m||p||(m=!0,z(b))),R},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(R){var j=h;return function(){var B=h;h=j;try{return R.apply(this,arguments)}finally{h=B}}}})(ex);Q0.exports=ex;var mE=Q0.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gE=L,Ot=mE;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tx=new Set,Wo={};function ki(e,t){ms(e,t),ms(e+"Capture",t)}function ms(e,t){for(Wo[e]=t,e=0;e<t.length;e++)tx.add(t[e])}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yf=Object.prototype.hasOwnProperty,yE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mg={},gg={};function vE(e){return yf.call(gg,e)?!0:yf.call(mg,e)?!1:yE.test(e)?gg[e]=!0:(mg[e]=!0,!1)}function _E(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function xE(e,t,n,r){if(t===null||typeof t>"u"||_E(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pt(e,t,n,r,i,s,o){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){et[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];et[t]=new pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){et[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){et[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){et[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){et[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){et[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){et[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){et[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ip=/[\-:]([a-z])/g;function sp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ip,sp);et[t]=new pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ip,sp);et[t]=new pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ip,sp);et[t]=new pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){et[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});et.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){et[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function op(e,t,n,r){var i=et.hasOwnProperty(t)?et[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(xE(t,n,i,r)&&(n=null),r||i===null?vE(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Jn=gE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Za=Symbol.for("react.element"),Bi=Symbol.for("react.portal"),$i=Symbol.for("react.fragment"),ap=Symbol.for("react.strict_mode"),vf=Symbol.for("react.profiler"),nx=Symbol.for("react.provider"),rx=Symbol.for("react.context"),lp=Symbol.for("react.forward_ref"),_f=Symbol.for("react.suspense"),xf=Symbol.for("react.suspense_list"),cp=Symbol.for("react.memo"),ir=Symbol.for("react.lazy"),ix=Symbol.for("react.offscreen"),yg=Symbol.iterator;function Gs(e){return e===null||typeof e!="object"?null:(e=yg&&e[yg]||e["@@iterator"],typeof e=="function"?e:null)}var Re=Object.assign,sd;function fo(e){if(sd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);sd=t&&t[1]||""}return`
`+sd+e}var od=!1;function ad(e,t){if(!e||od)return"";od=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=o&&0<=a);break}}}finally{od=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?fo(e):""}function SE(e){switch(e.tag){case 5:return fo(e.type);case 16:return fo("Lazy");case 13:return fo("Suspense");case 19:return fo("SuspenseList");case 0:case 2:case 15:return e=ad(e.type,!1),e;case 11:return e=ad(e.type.render,!1),e;case 1:return e=ad(e.type,!0),e;default:return""}}function Sf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $i:return"Fragment";case Bi:return"Portal";case vf:return"Profiler";case ap:return"StrictMode";case _f:return"Suspense";case xf:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case rx:return(e.displayName||"Context")+".Consumer";case nx:return(e._context.displayName||"Context")+".Provider";case lp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case cp:return t=e.displayName||null,t!==null?t:Sf(e.type)||"Memo";case ir:t=e._payload,e=e._init;try{return Sf(e(t))}catch{}}return null}function bE(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sf(t);case 8:return t===ap?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Er(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function sx(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function wE(e){var t=sx(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ya(e){e._valueTracker||(e._valueTracker=wE(e))}function ox(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=sx(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function mc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function bf(e,t){var n=t.checked;return Re({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function vg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Er(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ax(e,t){t=t.checked,t!=null&&op(e,"checked",t,!1)}function wf(e,t){ax(e,t);var n=Er(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?kf(e,t.type,n):t.hasOwnProperty("defaultValue")&&kf(e,t.type,Er(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _g(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function kf(e,t,n){(t!=="number"||mc(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ho=Array.isArray;function os(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Er(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ef(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return Re({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(ho(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Er(n)}}function lx(e,t){var n=Er(t.value),r=Er(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Sg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var qa,ux=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(qa=qa||document.createElement("div"),qa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=qa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Uo(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kE=["Webkit","ms","Moz","O"];Object.keys(wo).forEach(function(e){kE.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wo[t]=wo[e]})});function dx(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wo.hasOwnProperty(e)&&wo[e]?(""+t).trim():t+"px"}function fx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=dx(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var EE=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Tf(e,t){if(t){if(EE[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function If(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rf=null;function up(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Mf=null,as=null,ls=null;function bg(e){if(e=Ca(e)){if(typeof Mf!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Su(t),Mf(e.stateNode,e.type,t))}}function hx(e){as?ls?ls.push(e):ls=[e]:as=e}function px(){if(as){var e=as,t=ls;if(ls=as=null,bg(e),t)for(e=0;e<t.length;e++)bg(t[e])}}function mx(e,t){return e(t)}function gx(){}var ld=!1;function yx(e,t,n){if(ld)return e(t,n);ld=!0;try{return mx(e,t,n)}finally{ld=!1,(as!==null||ls!==null)&&(gx(),px())}}function Ho(e,t){var n=e.stateNode;if(n===null)return null;var r=Su(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var Df=!1;if(Un)try{var Ks={};Object.defineProperty(Ks,"passive",{get:function(){Df=!0}}),window.addEventListener("test",Ks,Ks),window.removeEventListener("test",Ks,Ks)}catch{Df=!1}function CE(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var ko=!1,gc=null,yc=!1,jf=null,TE={onError:function(e){ko=!0,gc=e}};function IE(e,t,n,r,i,s,o,a,l){ko=!1,gc=null,CE.apply(TE,arguments)}function RE(e,t,n,r,i,s,o,a,l){if(IE.apply(this,arguments),ko){if(ko){var c=gc;ko=!1,gc=null}else throw Error(O(198));yc||(yc=!0,jf=c)}}function Ei(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function vx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function wg(e){if(Ei(e)!==e)throw Error(O(188))}function ME(e){var t=e.alternate;if(!t){if(t=Ei(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return wg(i),e;if(s===r)return wg(i),t;s=s.sibling}throw Error(O(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function _x(e){return e=ME(e),e!==null?xx(e):null}function xx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=xx(e);if(t!==null)return t;e=e.sibling}return null}var Sx=Ot.unstable_scheduleCallback,kg=Ot.unstable_cancelCallback,DE=Ot.unstable_shouldYield,jE=Ot.unstable_requestPaint,Ne=Ot.unstable_now,AE=Ot.unstable_getCurrentPriorityLevel,dp=Ot.unstable_ImmediatePriority,bx=Ot.unstable_UserBlockingPriority,vc=Ot.unstable_NormalPriority,PE=Ot.unstable_LowPriority,wx=Ot.unstable_IdlePriority,yu=null,En=null;function OE(e){if(En&&typeof En.onCommitFiberRoot=="function")try{En.onCommitFiberRoot(yu,e,void 0,(e.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:zE,NE=Math.log,LE=Math.LN2;function zE(e){return e>>>=0,e===0?32:31-(NE(e)/LE|0)|0}var Ga=64,Ka=4194304;function po(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function _c(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=po(a):(s&=o,s!==0&&(r=po(s)))}else o=n&~i,o!==0?r=po(o):s!==0&&(r=po(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-hn(t),i=1<<n,r|=e[n],t&=~i;return r}function FE(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function BE(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-hn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=FE(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Af(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kx(){var e=Ga;return Ga<<=1,!(Ga&4194240)&&(Ga=64),e}function cd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ka(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-hn(t),e[t]=n}function $E(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-hn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function fp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-hn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ge=0;function Ex(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Cx,hp,Tx,Ix,Rx,Pf=!1,Xa=[],mr=null,gr=null,yr=null,Vo=new Map,Zo=new Map,lr=[],WE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eg(e,t){switch(e){case"focusin":case"focusout":mr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":yr=null;break;case"pointerover":case"pointerout":Vo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Zo.delete(t.pointerId)}}function Xs(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Ca(t),t!==null&&hp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function UE(e,t,n,r,i){switch(t){case"focusin":return mr=Xs(mr,e,t,n,r,i),!0;case"dragenter":return gr=Xs(gr,e,t,n,r,i),!0;case"mouseover":return yr=Xs(yr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Vo.set(s,Xs(Vo.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Zo.set(s,Xs(Zo.get(s)||null,e,t,n,r,i)),!0}return!1}function Mx(e){var t=Kr(e.target);if(t!==null){var n=Ei(t);if(n!==null){if(t=n.tag,t===13){if(t=vx(n),t!==null){e.blockedOn=t,Rx(e.priority,function(){Tx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ul(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Of(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Rf=r,n.target.dispatchEvent(r),Rf=null}else return t=Ca(n),t!==null&&hp(t),e.blockedOn=n,!1;t.shift()}return!0}function Cg(e,t,n){Ul(e)&&n.delete(t)}function HE(){Pf=!1,mr!==null&&Ul(mr)&&(mr=null),gr!==null&&Ul(gr)&&(gr=null),yr!==null&&Ul(yr)&&(yr=null),Vo.forEach(Cg),Zo.forEach(Cg)}function Js(e,t){e.blockedOn===t&&(e.blockedOn=null,Pf||(Pf=!0,Ot.unstable_scheduleCallback(Ot.unstable_NormalPriority,HE)))}function Yo(e){function t(i){return Js(i,e)}if(0<Xa.length){Js(Xa[0],e);for(var n=1;n<Xa.length;n++){var r=Xa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(mr!==null&&Js(mr,e),gr!==null&&Js(gr,e),yr!==null&&Js(yr,e),Vo.forEach(t),Zo.forEach(t),n=0;n<lr.length;n++)r=lr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<lr.length&&(n=lr[0],n.blockedOn===null);)Mx(n),n.blockedOn===null&&lr.shift()}var cs=Jn.ReactCurrentBatchConfig,xc=!0;function VE(e,t,n,r){var i=ge,s=cs.transition;cs.transition=null;try{ge=1,pp(e,t,n,r)}finally{ge=i,cs.transition=s}}function ZE(e,t,n,r){var i=ge,s=cs.transition;cs.transition=null;try{ge=4,pp(e,t,n,r)}finally{ge=i,cs.transition=s}}function pp(e,t,n,r){if(xc){var i=Of(e,t,n,r);if(i===null)_d(e,t,r,Sc,n),Eg(e,r);else if(UE(i,e,t,n,r))r.stopPropagation();else if(Eg(e,r),t&4&&-1<WE.indexOf(e)){for(;i!==null;){var s=Ca(i);if(s!==null&&Cx(s),s=Of(e,t,n,r),s===null&&_d(e,t,r,Sc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else _d(e,t,r,null,n)}}var Sc=null;function Of(e,t,n,r){if(Sc=null,e=up(r),e=Kr(e),e!==null)if(t=Ei(e),t===null)e=null;else if(n=t.tag,n===13){if(e=vx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Sc=e,null}function Dx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AE()){case dp:return 1;case bx:return 4;case vc:case PE:return 16;case wx:return 536870912;default:return 16}default:return 16}}var ur=null,mp=null,Hl=null;function jx(){if(Hl)return Hl;var e,t=mp,n=t.length,r,i="value"in ur?ur.value:ur.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[s-r];r++);return Hl=i.slice(e,1<r?1-r:void 0)}function Vl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ja(){return!0}function Tg(){return!1}function Ft(e){function t(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ja:Tg,this.isPropagationStopped=Tg,this}return Re(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ja)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ja)},persist:function(){},isPersistent:Ja}),t}var Os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gp=Ft(Os),Ea=Re({},Os,{view:0,detail:0}),YE=Ft(Ea),ud,dd,Qs,vu=Re({},Ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qs&&(Qs&&e.type==="mousemove"?(ud=e.screenX-Qs.screenX,dd=e.screenY-Qs.screenY):dd=ud=0,Qs=e),ud)},movementY:function(e){return"movementY"in e?e.movementY:dd}}),Ig=Ft(vu),qE=Re({},vu,{dataTransfer:0}),GE=Ft(qE),KE=Re({},Ea,{relatedTarget:0}),fd=Ft(KE),XE=Re({},Os,{animationName:0,elapsedTime:0,pseudoElement:0}),JE=Ft(XE),QE=Re({},Os,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),eC=Ft(QE),tC=Re({},Os,{data:0}),Rg=Ft(tC),nC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function sC(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=iC[e])?!!t[e]:!1}function yp(){return sC}var oC=Re({},Ea,{key:function(e){if(e.key){var t=nC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?rC[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yp,charCode:function(e){return e.type==="keypress"?Vl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),aC=Ft(oC),lC=Re({},vu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mg=Ft(lC),cC=Re({},Ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yp}),uC=Ft(cC),dC=Re({},Os,{propertyName:0,elapsedTime:0,pseudoElement:0}),fC=Ft(dC),hC=Re({},vu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),pC=Ft(hC),mC=[9,13,27,32],vp=Un&&"CompositionEvent"in window,Eo=null;Un&&"documentMode"in document&&(Eo=document.documentMode);var gC=Un&&"TextEvent"in window&&!Eo,Ax=Un&&(!vp||Eo&&8<Eo&&11>=Eo),Dg=" ",jg=!1;function Px(e,t){switch(e){case"keyup":return mC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ox(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wi=!1;function yC(e,t){switch(e){case"compositionend":return Ox(t);case"keypress":return t.which!==32?null:(jg=!0,Dg);case"textInput":return e=t.data,e===Dg&&jg?null:e;default:return null}}function vC(e,t){if(Wi)return e==="compositionend"||!vp&&Px(e,t)?(e=jx(),Hl=mp=ur=null,Wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ax&&t.locale!=="ko"?null:t.data;default:return null}}var _C={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ag(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_C[e.type]:t==="textarea"}function Nx(e,t,n,r){hx(r),t=bc(t,"onChange"),0<t.length&&(n=new gp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Co=null,qo=null;function xC(e){Yx(e,0)}function _u(e){var t=Vi(e);if(ox(t))return e}function SC(e,t){if(e==="change")return t}var Lx=!1;if(Un){var hd;if(Un){var pd="oninput"in document;if(!pd){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),pd=typeof Pg.oninput=="function"}hd=pd}else hd=!1;Lx=hd&&(!document.documentMode||9<document.documentMode)}function Og(){Co&&(Co.detachEvent("onpropertychange",zx),qo=Co=null)}function zx(e){if(e.propertyName==="value"&&_u(qo)){var t=[];Nx(t,qo,e,up(e)),yx(xC,t)}}function bC(e,t,n){e==="focusin"?(Og(),Co=t,qo=n,Co.attachEvent("onpropertychange",zx)):e==="focusout"&&Og()}function wC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(qo)}function kC(e,t){if(e==="click")return _u(t)}function EC(e,t){if(e==="input"||e==="change")return _u(t)}function CC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mn=typeof Object.is=="function"?Object.is:CC;function Go(e,t){if(mn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!yf.call(t,i)||!mn(e[i],t[i]))return!1}return!0}function Ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lg(e,t){var n=Ng(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ng(n)}}function Fx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Bx(){for(var e=window,t=mc();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=mc(e.document)}return t}function _p(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function TC(e){var t=Bx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Fx(n.ownerDocument.documentElement,n)){if(r!==null&&_p(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Lg(n,s);var o=Lg(n,r);i&&o&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var IC=Un&&"documentMode"in document&&11>=document.documentMode,Ui=null,Nf=null,To=null,Lf=!1;function zg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lf||Ui==null||Ui!==mc(r)||(r=Ui,"selectionStart"in r&&_p(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),To&&Go(To,r)||(To=r,r=bc(Nf,"onSelect"),0<r.length&&(t=new gp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Ui)))}function Qa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hi={animationend:Qa("Animation","AnimationEnd"),animationiteration:Qa("Animation","AnimationIteration"),animationstart:Qa("Animation","AnimationStart"),transitionend:Qa("Transition","TransitionEnd")},md={},$x={};Un&&($x=document.createElement("div").style,"AnimationEvent"in window||(delete Hi.animationend.animation,delete Hi.animationiteration.animation,delete Hi.animationstart.animation),"TransitionEvent"in window||delete Hi.transitionend.transition);function xu(e){if(md[e])return md[e];if(!Hi[e])return e;var t=Hi[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $x)return md[e]=t[n];return e}var Wx=xu("animationend"),Ux=xu("animationiteration"),Hx=xu("animationstart"),Vx=xu("transitionend"),Zx=new Map,Fg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ar(e,t){Zx.set(e,t),ki(t,[e])}for(var gd=0;gd<Fg.length;gd++){var yd=Fg[gd],RC=yd.toLowerCase(),MC=yd[0].toUpperCase()+yd.slice(1);Ar(RC,"on"+MC)}Ar(Wx,"onAnimationEnd");Ar(Ux,"onAnimationIteration");Ar(Hx,"onAnimationStart");Ar("dblclick","onDoubleClick");Ar("focusin","onFocus");Ar("focusout","onBlur");Ar(Vx,"onTransitionEnd");ms("onMouseEnter",["mouseout","mouseover"]);ms("onMouseLeave",["mouseout","mouseover"]);ms("onPointerEnter",["pointerout","pointerover"]);ms("onPointerLeave",["pointerout","pointerover"]);ki("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ki("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ki("onBeforeInput",["compositionend","keypress","textInput","paste"]);ki("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ki("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DC=new Set("cancel close invalid load scroll toggle".split(" ").concat(mo));function Bg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,RE(r,t,void 0,e),e.currentTarget=null}function Yx(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Bg(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Bg(i,a,c),s=l}}}if(yc)throw e=jf,yc=!1,jf=null,e}function Se(e,t){var n=t[Wf];n===void 0&&(n=t[Wf]=new Set);var r=e+"__bubble";n.has(r)||(qx(t,e,2,!1),n.add(r))}function vd(e,t,n){var r=0;t&&(r|=4),qx(n,e,r,t)}var el="_reactListening"+Math.random().toString(36).slice(2);function Ko(e){if(!e[el]){e[el]=!0,tx.forEach(function(n){n!=="selectionchange"&&(DC.has(n)||vd(n,!1,e),vd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[el]||(t[el]=!0,vd("selectionchange",!1,t))}}function qx(e,t,n,r){switch(Dx(t)){case 1:var i=VE;break;case 4:i=ZE;break;default:i=pp}n=i.bind(null,t,n,e),i=void 0,!Df||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function _d(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Kr(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}yx(function(){var c=s,d=up(n),f=[];e:{var h=Zx.get(e);if(h!==void 0){var p=gp,m=e;switch(e){case"keypress":if(Vl(n)===0)break e;case"keydown":case"keyup":p=aC;break;case"focusin":m="focus",p=fd;break;case"focusout":m="blur",p=fd;break;case"beforeblur":case"afterblur":p=fd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=GE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uC;break;case Wx:case Ux:case Hx:p=JE;break;case Vx:p=fC;break;case"scroll":p=YE;break;case"wheel":p=pC;break;case"copy":case"cut":case"paste":p=eC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Mg}var g=(t&4)!==0,_=!g&&e==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var v=c,x;v!==null;){x=v;var S=x.stateNode;if(x.tag===5&&S!==null&&(x=S,y!==null&&(S=Ho(v,y),S!=null&&g.push(Xo(v,S,x)))),_)break;v=v.return}0<g.length&&(h=new p(h,m,null,n,d),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==Rf&&(m=n.relatedTarget||n.fromElement)&&(Kr(m)||m[Hn]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=c,m=m?Kr(m):null,m!==null&&(_=Ei(m),m!==_||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(g=Ig,S="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(g=Mg,S="onPointerLeave",y="onPointerEnter",v="pointer"),_=p==null?h:Vi(p),x=m==null?h:Vi(m),h=new g(S,v+"leave",p,n,d),h.target=_,h.relatedTarget=x,S=null,Kr(d)===c&&(g=new g(y,v+"enter",m,n,d),g.target=x,g.relatedTarget=_,S=g),_=S,p&&m)t:{for(g=p,y=m,v=0,x=g;x;x=ji(x))v++;for(x=0,S=y;S;S=ji(S))x++;for(;0<v-x;)g=ji(g),v--;for(;0<x-v;)y=ji(y),x--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=ji(g),y=ji(y)}g=null}else g=null;p!==null&&$g(f,h,p,g,!1),m!==null&&_!==null&&$g(f,_,m,g,!0)}}e:{if(h=c?Vi(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var b=SC;else if(Ag(h))if(Lx)b=EC;else{b=wC;var k=bC}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(b=kC);if(b&&(b=b(e,c))){Nx(f,b,n,d);break e}k&&k(e,h,c),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&kf(h,"number",h.value)}switch(k=c?Vi(c):window,e){case"focusin":(Ag(k)||k.contentEditable==="true")&&(Ui=k,Nf=c,To=null);break;case"focusout":To=Nf=Ui=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,zg(f,n,d);break;case"selectionchange":if(IC)break;case"keydown":case"keyup":zg(f,n,d)}var w;if(vp)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Wi?Px(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(Ax&&n.locale!=="ko"&&(Wi||E!=="onCompositionStart"?E==="onCompositionEnd"&&Wi&&(w=jx()):(ur=d,mp="value"in ur?ur.value:ur.textContent,Wi=!0)),k=bc(c,E),0<k.length&&(E=new Rg(E,e,null,n,d),f.push({event:E,listeners:k}),w?E.data=w:(w=Ox(n),w!==null&&(E.data=w)))),(w=gC?yC(e,n):vC(e,n))&&(c=bc(c,"onBeforeInput"),0<c.length&&(d=new Rg("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=w))}Yx(f,t)})}function Xo(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bc(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ho(e,n),s!=null&&r.unshift(Xo(e,s,i)),s=Ho(e,t),s!=null&&r.push(Xo(e,s,i))),e=e.return}return r}function ji(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function $g(e,t,n,r,i){for(var s=t._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ho(n,s),l!=null&&o.unshift(Xo(n,l,a))):i||(l=Ho(n,s),l!=null&&o.push(Xo(n,l,a)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var jC=/\r\n?/g,AC=/\u0000|\uFFFD/g;function Wg(e){return(typeof e=="string"?e:""+e).replace(jC,`
`).replace(AC,"")}function tl(e,t,n){if(t=Wg(t),Wg(e)!==t&&n)throw Error(O(425))}function wc(){}var zf=null,Ff=null;function Bf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var $f=typeof setTimeout=="function"?setTimeout:void 0,PC=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,OC=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(e){return Ug.resolve(null).then(e).catch(NC)}:$f;function NC(e){setTimeout(function(){throw e})}function xd(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Yo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yo(t)}function vr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),wn="__reactFiber$"+Ns,Jo="__reactProps$"+Ns,Hn="__reactContainer$"+Ns,Wf="__reactEvents$"+Ns,LC="__reactListeners$"+Ns,zC="__reactHandles$"+Ns;function Kr(e){var t=e[wn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Hn]||n[wn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hg(e);e!==null;){if(n=e[wn])return n;e=Hg(e)}return t}e=n,n=e.parentNode}return null}function Ca(e){return e=e[wn]||e[Hn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Vi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Su(e){return e[Jo]||null}var Uf=[],Zi=-1;function Pr(e){return{current:e}}function we(e){0>Zi||(e.current=Uf[Zi],Uf[Zi]=null,Zi--)}function _e(e,t){Zi++,Uf[Zi]=e.current,e.current=t}var Cr={},lt=Pr(Cr),kt=Pr(!1),fi=Cr;function gs(e,t){var n=e.type.contextTypes;if(!n)return Cr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Et(e){return e=e.childContextTypes,e!=null}function kc(){we(kt),we(lt)}function Vg(e,t,n){if(lt.current!==Cr)throw Error(O(168));_e(lt,t),_e(kt,n)}function Gx(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(O(108,bE(e)||"Unknown",i));return Re({},n,r)}function Ec(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,fi=lt.current,_e(lt,e),_e(kt,kt.current),!0}function Zg(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=Gx(e,t,fi),r.__reactInternalMemoizedMergedChildContext=e,we(kt),we(lt),_e(lt,e)):we(kt),_e(kt,n)}var Pn=null,bu=!1,Sd=!1;function Kx(e){Pn===null?Pn=[e]:Pn.push(e)}function FC(e){bu=!0,Kx(e)}function Or(){if(!Sd&&Pn!==null){Sd=!0;var e=0,t=ge;try{var n=Pn;for(ge=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Pn=null,bu=!1}catch(i){throw Pn!==null&&(Pn=Pn.slice(e+1)),Sx(dp,Or),i}finally{ge=t,Sd=!1}}return null}var Yi=[],qi=0,Cc=null,Tc=0,Ht=[],Vt=0,hi=null,Nn=1,Ln="";function Vr(e,t){Yi[qi++]=Tc,Yi[qi++]=Cc,Cc=e,Tc=t}function Xx(e,t,n){Ht[Vt++]=Nn,Ht[Vt++]=Ln,Ht[Vt++]=hi,hi=e;var r=Nn;e=Ln;var i=32-hn(r)-1;r&=~(1<<i),n+=1;var s=32-hn(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Nn=1<<32-hn(t)+i|n<<i|r,Ln=s+e}else Nn=1<<s|n<<i|r,Ln=e}function xp(e){e.return!==null&&(Vr(e,1),Xx(e,1,0))}function Sp(e){for(;e===Cc;)Cc=Yi[--qi],Yi[qi]=null,Tc=Yi[--qi],Yi[qi]=null;for(;e===hi;)hi=Ht[--Vt],Ht[Vt]=null,Ln=Ht[--Vt],Ht[Vt]=null,Nn=Ht[--Vt],Ht[Vt]=null}var At=null,jt=null,ke=!1,dn=null;function Jx(e,t){var n=Zt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Yg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,At=e,jt=vr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,At=e,jt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=hi!==null?{id:Nn,overflow:Ln}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Zt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,At=e,jt=null,!0):!1;default:return!1}}function Hf(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Vf(e){if(ke){var t=jt;if(t){var n=t;if(!Yg(e,t)){if(Hf(e))throw Error(O(418));t=vr(n.nextSibling);var r=At;t&&Yg(e,t)?Jx(r,n):(e.flags=e.flags&-4097|2,ke=!1,At=e)}}else{if(Hf(e))throw Error(O(418));e.flags=e.flags&-4097|2,ke=!1,At=e}}}function qg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;At=e}function nl(e){if(e!==At)return!1;if(!ke)return qg(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Bf(e.type,e.memoizedProps)),t&&(t=jt)){if(Hf(e))throw Qx(),Error(O(418));for(;t;)Jx(e,t),t=vr(t.nextSibling)}if(qg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){jt=vr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}jt=null}}else jt=At?vr(e.stateNode.nextSibling):null;return!0}function Qx(){for(var e=jt;e;)e=vr(e.nextSibling)}function ys(){jt=At=null,ke=!1}function bp(e){dn===null?dn=[e]:dn.push(e)}var BC=Jn.ReactCurrentBatchConfig;function eo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},t._stringRef=s,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function rl(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gg(e){var t=e._init;return t(e._payload)}function eS(e){function t(y,v){if(e){var x=y.deletions;x===null?(y.deletions=[v],y.flags|=16):x.push(v)}}function n(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function r(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=br(y,v),y.index=0,y.sibling=null,y}function s(y,v,x){return y.index=x,e?(x=y.alternate,x!==null?(x=x.index,x<v?(y.flags|=2,v):x):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,v,x,S){return v===null||v.tag!==6?(v=Id(x,y.mode,S),v.return=y,v):(v=i(v,x),v.return=y,v)}function l(y,v,x,S){var b=x.type;return b===$i?d(y,v,x.props.children,S,x.key):v!==null&&(v.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ir&&Gg(b)===v.type)?(S=i(v,x.props),S.ref=eo(y,v,x),S.return=y,S):(S=Jl(x.type,x.key,x.props,null,y.mode,S),S.ref=eo(y,v,x),S.return=y,S)}function c(y,v,x,S){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Rd(x,y.mode,S),v.return=y,v):(v=i(v,x.children||[]),v.return=y,v)}function d(y,v,x,S,b){return v===null||v.tag!==7?(v=ri(x,y.mode,S,b),v.return=y,v):(v=i(v,x),v.return=y,v)}function f(y,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Id(""+v,y.mode,x),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Za:return x=Jl(v.type,v.key,v.props,null,y.mode,x),x.ref=eo(y,null,v),x.return=y,x;case Bi:return v=Rd(v,y.mode,x),v.return=y,v;case ir:var S=v._init;return f(y,S(v._payload),x)}if(ho(v)||Gs(v))return v=ri(v,y.mode,x,null),v.return=y,v;rl(y,v)}return null}function h(y,v,x,S){var b=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return b!==null?null:a(y,v,""+x,S);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Za:return x.key===b?l(y,v,x,S):null;case Bi:return x.key===b?c(y,v,x,S):null;case ir:return b=x._init,h(y,v,b(x._payload),S)}if(ho(x)||Gs(x))return b!==null?null:d(y,v,x,S,null);rl(y,x)}return null}function p(y,v,x,S,b){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(x)||null,a(v,y,""+S,b);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Za:return y=y.get(S.key===null?x:S.key)||null,l(v,y,S,b);case Bi:return y=y.get(S.key===null?x:S.key)||null,c(v,y,S,b);case ir:var k=S._init;return p(y,v,x,k(S._payload),b)}if(ho(S)||Gs(S))return y=y.get(x)||null,d(v,y,S,b,null);rl(v,S)}return null}function m(y,v,x,S){for(var b=null,k=null,w=v,E=v=0,C=null;w!==null&&E<x.length;E++){w.index>E?(C=w,w=null):C=w.sibling;var T=h(y,w,x[E],S);if(T===null){w===null&&(w=C);break}e&&w&&T.alternate===null&&t(y,w),v=s(T,v,E),k===null?b=T:k.sibling=T,k=T,w=C}if(E===x.length)return n(y,w),ke&&Vr(y,E),b;if(w===null){for(;E<x.length;E++)w=f(y,x[E],S),w!==null&&(v=s(w,v,E),k===null?b=w:k.sibling=w,k=w);return ke&&Vr(y,E),b}for(w=r(y,w);E<x.length;E++)C=p(w,y,E,x[E],S),C!==null&&(e&&C.alternate!==null&&w.delete(C.key===null?E:C.key),v=s(C,v,E),k===null?b=C:k.sibling=C,k=C);return e&&w.forEach(function(I){return t(y,I)}),ke&&Vr(y,E),b}function g(y,v,x,S){var b=Gs(x);if(typeof b!="function")throw Error(O(150));if(x=b.call(x),x==null)throw Error(O(151));for(var k=b=null,w=v,E=v=0,C=null,T=x.next();w!==null&&!T.done;E++,T=x.next()){w.index>E?(C=w,w=null):C=w.sibling;var I=h(y,w,T.value,S);if(I===null){w===null&&(w=C);break}e&&w&&I.alternate===null&&t(y,w),v=s(I,v,E),k===null?b=I:k.sibling=I,k=I,w=C}if(T.done)return n(y,w),ke&&Vr(y,E),b;if(w===null){for(;!T.done;E++,T=x.next())T=f(y,T.value,S),T!==null&&(v=s(T,v,E),k===null?b=T:k.sibling=T,k=T);return ke&&Vr(y,E),b}for(w=r(y,w);!T.done;E++,T=x.next())T=p(w,y,E,T.value,S),T!==null&&(e&&T.alternate!==null&&w.delete(T.key===null?E:T.key),v=s(T,v,E),k===null?b=T:k.sibling=T,k=T);return e&&w.forEach(function(D){return t(y,D)}),ke&&Vr(y,E),b}function _(y,v,x,S){if(typeof x=="object"&&x!==null&&x.type===$i&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Za:e:{for(var b=x.key,k=v;k!==null;){if(k.key===b){if(b=x.type,b===$i){if(k.tag===7){n(y,k.sibling),v=i(k,x.props.children),v.return=y,y=v;break e}}else if(k.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===ir&&Gg(b)===k.type){n(y,k.sibling),v=i(k,x.props),v.ref=eo(y,k,x),v.return=y,y=v;break e}n(y,k);break}else t(y,k);k=k.sibling}x.type===$i?(v=ri(x.props.children,y.mode,S,x.key),v.return=y,y=v):(S=Jl(x.type,x.key,x.props,null,y.mode,S),S.ref=eo(y,v,x),S.return=y,y=S)}return o(y);case Bi:e:{for(k=x.key;v!==null;){if(v.key===k)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(y,v.sibling),v=i(v,x.children||[]),v.return=y,y=v;break e}else{n(y,v);break}else t(y,v);v=v.sibling}v=Rd(x,y.mode,S),v.return=y,y=v}return o(y);case ir:return k=x._init,_(y,v,k(x._payload),S)}if(ho(x))return m(y,v,x,S);if(Gs(x))return g(y,v,x,S);rl(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(y,v.sibling),v=i(v,x),v.return=y,y=v):(n(y,v),v=Id(x,y.mode,S),v.return=y,y=v),o(y)):n(y,v)}return _}var vs=eS(!0),tS=eS(!1),Ic=Pr(null),Rc=null,Gi=null,wp=null;function kp(){wp=Gi=Rc=null}function Ep(e){var t=Ic.current;we(Ic),e._currentValue=t}function Zf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function us(e,t){Rc=e,wp=Gi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(bt=!0),e.firstContext=null)}function Kt(e){var t=e._currentValue;if(wp!==e)if(e={context:e,memoizedValue:t,next:null},Gi===null){if(Rc===null)throw Error(O(308));Gi=e,Rc.dependencies={lanes:0,firstContext:e}}else Gi=Gi.next=e;return t}var Xr=null;function Cp(e){Xr===null?Xr=[e]:Xr.push(e)}function nS(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,Cp(t)):(n.next=i.next,i.next=n),t.interleaved=n,Vn(e,r)}function Vn(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var sr=!1;function Tp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rS(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function _r(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,se&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Vn(e,n)}return i=r.interleaved,i===null?(t.next=t,Cp(r)):(t.next=i.next,i.next=t),r.interleaved=t,Vn(e,n)}function Zl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fp(e,n)}}function Kg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mc(e,t,n,r){var i=e.updateQueue;sr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=e,g=a;switch(h=t,p=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){f=m.call(p,f,h);break e}f=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(p,f,h):m,h==null)break e;f=Re({},f,h);break e;case 2:sr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=p,l=f):d=d.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do o|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);mi|=o,e.lanes=o,e.memoizedState=f}}function Xg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(O(191,i));i.call(r)}}}var Ta={},Cn=Pr(Ta),Qo=Pr(Ta),ea=Pr(Ta);function Jr(e){if(e===Ta)throw Error(O(174));return e}function Ip(e,t){switch(_e(ea,t),_e(Qo,e),_e(Cn,Ta),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Cf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Cf(t,e)}we(Cn),_e(Cn,t)}function _s(){we(Cn),we(Qo),we(ea)}function iS(e){Jr(ea.current);var t=Jr(Cn.current),n=Cf(t,e.type);t!==n&&(_e(Qo,e),_e(Cn,n))}function Rp(e){Qo.current===e&&(we(Cn),we(Qo))}var Te=Pr(0);function Dc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var bd=[];function Mp(){for(var e=0;e<bd.length;e++)bd[e]._workInProgressVersionPrimary=null;bd.length=0}var Yl=Jn.ReactCurrentDispatcher,wd=Jn.ReactCurrentBatchConfig,pi=0,Ie=null,He=null,Ge=null,jc=!1,Io=!1,ta=0,$C=0;function tt(){throw Error(O(321))}function Dp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!mn(e[n],t[n]))return!1;return!0}function jp(e,t,n,r,i,s){if(pi=s,Ie=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Yl.current=e===null||e.memoizedState===null?VC:ZC,e=n(r,i),Io){s=0;do{if(Io=!1,ta=0,25<=s)throw Error(O(301));s+=1,Ge=He=null,t.updateQueue=null,Yl.current=YC,e=n(r,i)}while(Io)}if(Yl.current=Ac,t=He!==null&&He.next!==null,pi=0,Ge=He=Ie=null,jc=!1,t)throw Error(O(300));return e}function Ap(){var e=ta!==0;return ta=0,e}function Sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ge===null?Ie.memoizedState=Ge=e:Ge=Ge.next=e,Ge}function Xt(){if(He===null){var e=Ie.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=Ge===null?Ie.memoizedState:Ge.next;if(t!==null)Ge=t,He=e;else{if(e===null)throw Error(O(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},Ge===null?Ie.memoizedState=Ge=e:Ge=Ge.next=e}return Ge}function na(e,t){return typeof t=="function"?t(e):t}function kd(e){var t=Xt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=He,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((pi&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ie.lanes|=d,mi|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,mn(r,t.memoizedState)||(bt=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Ie.lanes|=s,mi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ed(e){var t=Xt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=e(s,o.action),o=o.next;while(o!==i);mn(s,t.memoizedState)||(bt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function sS(){}function oS(e,t){var n=Ie,r=Xt(),i=t(),s=!mn(r.memoizedState,i);if(s&&(r.memoizedState=i,bt=!0),r=r.queue,Pp(cS.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||Ge!==null&&Ge.memoizedState.tag&1){if(n.flags|=2048,ra(9,lS.bind(null,n,r,i,t),void 0,null),Ke===null)throw Error(O(349));pi&30||aS(n,t,i)}return i}function aS(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function lS(e,t,n,r){t.value=n,t.getSnapshot=r,uS(t)&&dS(e)}function cS(e,t,n){return n(function(){uS(t)&&dS(e)})}function uS(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!mn(e,n)}catch{return!0}}function dS(e){var t=Vn(e,1);t!==null&&pn(t,e,1,-1)}function Jg(e){var t=Sn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:e},t.queue=e,e=e.dispatch=HC.bind(null,Ie,e),[t.memoizedState,e]}function ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ie.updateQueue,t===null?(t={lastEffect:null,stores:null},Ie.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function fS(){return Xt().memoizedState}function ql(e,t,n,r){var i=Sn();Ie.flags|=e,i.memoizedState=ra(1|t,n,void 0,r===void 0?null:r)}function wu(e,t,n,r){var i=Xt();r=r===void 0?null:r;var s=void 0;if(He!==null){var o=He.memoizedState;if(s=o.destroy,r!==null&&Dp(r,o.deps)){i.memoizedState=ra(t,n,s,r);return}}Ie.flags|=e,i.memoizedState=ra(1|t,n,s,r)}function Qg(e,t){return ql(8390656,8,e,t)}function Pp(e,t){return wu(2048,8,e,t)}function hS(e,t){return wu(4,2,e,t)}function pS(e,t){return wu(4,4,e,t)}function mS(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gS(e,t,n){return n=n!=null?n.concat([e]):null,wu(4,4,mS.bind(null,t,e),n)}function Op(){}function yS(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function vS(e,t){var n=Xt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Dp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function _S(e,t,n){return pi&21?(mn(n,t)||(n=kx(),Ie.lanes|=n,mi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,bt=!0),e.memoizedState=n)}function WC(e,t){var n=ge;ge=n!==0&&4>n?n:4,e(!0);var r=wd.transition;wd.transition={};try{e(!1),t()}finally{ge=n,wd.transition=r}}function xS(){return Xt().memoizedState}function UC(e,t,n){var r=Sr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},SS(e))bS(t,n);else if(n=nS(e,t,n,r),n!==null){var i=ft();pn(n,e,r,i),wS(n,t,r)}}function HC(e,t,n){var r=Sr(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(SS(e))bS(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,mn(a,o)){var l=t.interleaved;l===null?(i.next=i,Cp(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}n=nS(e,t,i,r),n!==null&&(i=ft(),pn(n,e,r,i),wS(n,t,r))}}function SS(e){var t=e.alternate;return e===Ie||t!==null&&t===Ie}function bS(e,t){Io=jc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function wS(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,fp(e,n)}}var Ac={readContext:Kt,useCallback:tt,useContext:tt,useEffect:tt,useImperativeHandle:tt,useInsertionEffect:tt,useLayoutEffect:tt,useMemo:tt,useReducer:tt,useRef:tt,useState:tt,useDebugValue:tt,useDeferredValue:tt,useTransition:tt,useMutableSource:tt,useSyncExternalStore:tt,useId:tt,unstable_isNewReconciler:!1},VC={readContext:Kt,useCallback:function(e,t){return Sn().memoizedState=[e,t===void 0?null:t],e},useContext:Kt,useEffect:Qg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,ql(4194308,4,mS.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ql(4194308,4,e,t)},useInsertionEffect:function(e,t){return ql(4,2,e,t)},useMemo:function(e,t){var n=Sn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Sn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=UC.bind(null,Ie,e),[r.memoizedState,e]},useRef:function(e){var t=Sn();return e={current:e},t.memoizedState=e},useState:Jg,useDebugValue:Op,useDeferredValue:function(e){return Sn().memoizedState=e},useTransition:function(){var e=Jg(!1),t=e[0];return e=WC.bind(null,e[1]),Sn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ie,i=Sn();if(ke){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),Ke===null)throw Error(O(349));pi&30||aS(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,Qg(cS.bind(null,r,s,e),[e]),r.flags|=2048,ra(9,lS.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Sn(),t=Ke.identifierPrefix;if(ke){var n=Ln,r=Nn;n=(r&~(1<<32-hn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ta++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=$C++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ZC={readContext:Kt,useCallback:yS,useContext:Kt,useEffect:Pp,useImperativeHandle:gS,useInsertionEffect:hS,useLayoutEffect:pS,useMemo:vS,useReducer:kd,useRef:fS,useState:function(){return kd(na)},useDebugValue:Op,useDeferredValue:function(e){var t=Xt();return _S(t,He.memoizedState,e)},useTransition:function(){var e=kd(na)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:sS,useSyncExternalStore:oS,useId:xS,unstable_isNewReconciler:!1},YC={readContext:Kt,useCallback:yS,useContext:Kt,useEffect:Pp,useImperativeHandle:gS,useInsertionEffect:hS,useLayoutEffect:pS,useMemo:vS,useReducer:Ed,useRef:fS,useState:function(){return Ed(na)},useDebugValue:Op,useDeferredValue:function(e){var t=Xt();return He===null?t.memoizedState=e:_S(t,He.memoizedState,e)},useTransition:function(){var e=Ed(na)[0],t=Xt().memoizedState;return[e,t]},useMutableSource:sS,useSyncExternalStore:oS,useId:xS,unstable_isNewReconciler:!1};function on(e,t){if(e&&e.defaultProps){t=Re({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Yf(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Re({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ku={isMounted:function(e){return(e=e._reactInternals)?Ei(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ft(),i=Sr(e),s=Fn(r,i);s.payload=t,n!=null&&(s.callback=n),t=_r(e,s,i),t!==null&&(pn(t,e,i,r),Zl(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ft(),i=Sr(e),s=Fn(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=_r(e,s,i),t!==null&&(pn(t,e,i,r),Zl(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ft(),r=Sr(e),i=Fn(n,r);i.tag=2,t!=null&&(i.callback=t),t=_r(e,i,r),t!==null&&(pn(t,e,r,n),Zl(t,e,r))}};function ey(e,t,n,r,i,s,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,o):t.prototype&&t.prototype.isPureReactComponent?!Go(n,r)||!Go(i,s):!0}function kS(e,t,n){var r=!1,i=Cr,s=t.contextType;return typeof s=="object"&&s!==null?s=Kt(s):(i=Et(t)?fi:lt.current,r=t.contextTypes,s=(r=r!=null)?gs(e,i):Cr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ku,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function ty(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ku.enqueueReplaceState(t,t.state,null)}function qf(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Tp(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Kt(s):(s=Et(t)?fi:lt.current,i.context=gs(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Yf(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ku.enqueueReplaceState(i,i.state,null),Mc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function xs(e,t){try{var n="",r=t;do n+=SE(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Cd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Gf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var qC=typeof WeakMap=="function"?WeakMap:Map;function ES(e,t,n){n=Fn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Oc||(Oc=!0,sh=r),Gf(e,t)},n}function CS(e,t,n){n=Fn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Gf(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gf(e,t),typeof r!="function"&&(xr===null?xr=new Set([this]):xr.add(this));var o=t.stack;this.componentDidCatch(t.value,{componentStack:o!==null?o:""})}),n}function ny(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new qC;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=lT.bind(null,e,t,n),t.then(e,e))}function ry(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function iy(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Fn(-1,1),t.tag=2,_r(n,t,1))),n.lanes|=1),e)}var GC=Jn.ReactCurrentOwner,bt=!1;function ut(e,t,n,r){t.child=e===null?tS(t,null,n,r):vs(t,e.child,n,r)}function sy(e,t,n,r,i){n=n.render;var s=t.ref;return us(t,i),r=jp(e,t,n,r,s,i),n=Ap(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zn(e,t,i)):(ke&&n&&xp(t),t.flags|=1,ut(e,t,r,i),t.child)}function oy(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!Up(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,TS(e,t,s,r,i)):(e=Jl(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Go,n(o,r)&&e.ref===t.ref)return Zn(e,t,i)}return t.flags|=1,e=br(s,r),e.ref=t.ref,e.return=t,t.child=e}function TS(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Go(s,r)&&e.ref===t.ref)if(bt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(bt=!0);else return t.lanes=e.lanes,Zn(e,t,i)}return Kf(e,t,n,r,i)}function IS(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_e(Xi,Mt),Mt|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_e(Xi,Mt),Mt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,_e(Xi,Mt),Mt|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,_e(Xi,Mt),Mt|=r;return ut(e,t,i,n),t.child}function RS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Kf(e,t,n,r,i){var s=Et(n)?fi:lt.current;return s=gs(t,s),us(t,i),n=jp(e,t,n,r,s,i),r=Ap(),e!==null&&!bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Zn(e,t,i)):(ke&&r&&xp(t),t.flags|=1,ut(e,t,n,i),t.child)}function ay(e,t,n,r,i){if(Et(n)){var s=!0;Ec(t)}else s=!1;if(us(t,i),t.stateNode===null)Gl(e,t),kS(t,n,r),qf(t,n,r,i),r=!0;else if(e===null){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Kt(c):(c=Et(n)?fi:lt.current,c=gs(t,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&ty(t,o,r,c),sr=!1;var h=t.memoizedState;o.state=h,Mc(t,r,o,i),l=t.memoizedState,a!==r||h!==l||kt.current||sr?(typeof d=="function"&&(Yf(t,n,d,r),l=t.memoizedState),(a=sr||ey(t,n,a,r,h,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(t.flags|=4194308)):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,rS(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:on(t.type,a),o.props=c,f=t.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Kt(l):(l=Et(n)?fi:lt.current,l=gs(t,l));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||h!==l)&&ty(t,o,r,l),sr=!1,h=t.memoizedState,o.state=h,Mc(t,r,o,i);var m=t.memoizedState;a!==f||h!==m||kt.current||sr?(typeof p=="function"&&(Yf(t,n,p,r),m=t.memoizedState),(c=sr||ey(t,n,c,r,h,m,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(t.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=m),o.props=r,o.state=m,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Xf(e,t,n,r,s,i)}function Xf(e,t,n,r,i,s){RS(e,t);var o=(t.flags&128)!==0;if(!r&&!o)return i&&Zg(t,n,!1),Zn(e,t,s);r=t.stateNode,GC.current=t;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&o?(t.child=vs(t,e.child,null,s),t.child=vs(t,null,a,s)):ut(e,t,a,s),t.memoizedState=r.state,i&&Zg(t,n,!0),t.child}function MS(e){var t=e.stateNode;t.pendingContext?Vg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vg(e,t.context,!1),Ip(e,t.containerInfo)}function ly(e,t,n,r,i){return ys(),bp(i),t.flags|=256,ut(e,t,n,r),t.child}var Jf={dehydrated:null,treeContext:null,retryLane:0};function Qf(e){return{baseLanes:e,cachePool:null,transitions:null}}function DS(e,t,n){var r=t.pendingProps,i=Te.current,s=!1,o=(t.flags&128)!==0,a;if((a=o)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),_e(Te,i&1),e===null)return Vf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(o=r.children,e=r.fallback,s?(r=t.mode,s=t.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Tu(o,r,0,null),e=ri(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Qf(n),t.memoizedState=Jf,e):Np(t,o));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return KC(e,t,o,r,a,i,n);if(s){s=r.fallback,o=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=br(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=br(a,s):(s=ri(s,o,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,o=e.child.memoizedState,o=o===null?Qf(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=e.childLanes&~n,t.memoizedState=Jf,r}return s=e.child,e=s.sibling,r=br(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Np(e,t){return t=Tu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function il(e,t,n,r){return r!==null&&bp(r),vs(t,e.child,null,n),e=Np(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function KC(e,t,n,r,i,s,o){if(n)return t.flags&256?(t.flags&=-257,r=Cd(Error(O(422))),il(e,t,o,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Tu({mode:"visible",children:r.children},i,0,null),s=ri(s,i,o,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&vs(t,e.child,null,o),t.child.memoizedState=Qf(o),t.memoizedState=Jf,s);if(!(t.mode&1))return il(e,t,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(O(419)),r=Cd(s,r,void 0),il(e,t,o,r)}if(a=(o&e.childLanes)!==0,bt||a){if(r=Ke,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Vn(e,i),pn(r,e,i,-1))}return Wp(),r=Cd(Error(O(421))),il(e,t,o,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=cT.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,jt=vr(i.nextSibling),At=t,ke=!0,dn=null,e!==null&&(Ht[Vt++]=Nn,Ht[Vt++]=Ln,Ht[Vt++]=hi,Nn=e.id,Ln=e.overflow,hi=t),t=Np(t,r.children),t.flags|=4096,t)}function cy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Zf(e.return,t,n)}function Td(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function jS(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ut(e,t,r.children,n),r=Te.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cy(e,n,t);else if(e.tag===19)cy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_e(Te,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Dc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Td(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Dc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Td(t,!0,n,null,s);break;case"together":Td(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Zn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),mi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=br(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=br(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function XC(e,t,n){switch(t.tag){case 3:MS(t),ys();break;case 5:iS(t);break;case 1:Et(t.type)&&Ec(t);break;case 4:Ip(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;_e(Ic,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(_e(Te,Te.current&1),t.flags|=128,null):n&t.child.childLanes?DS(e,t,n):(_e(Te,Te.current&1),e=Zn(e,t,n),e!==null?e.sibling:null);_e(Te,Te.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return jS(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),_e(Te,Te.current),r)break;return null;case 22:case 23:return t.lanes=0,IS(e,t,n)}return Zn(e,t,n)}var AS,eh,PS,OS;AS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};eh=function(){};PS=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Jr(Cn.current);var s=null;switch(n){case"input":i=bf(e,i),r=bf(e,r),s=[];break;case"select":i=Re({},i,{value:void 0}),r=Re({},r,{value:void 0}),s=[];break;case"textarea":i=Ef(e,i),r=Ef(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=wc)}Tf(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Wo.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Wo.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Se("scroll",e),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}};OS=function(e,t,n,r){n!==r&&(t.flags|=4)};function to(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function JC(e,t,n){var r=t.pendingProps;switch(Sp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(t),null;case 1:return Et(t.type)&&kc(),nt(t),null;case 3:return r=t.stateNode,_s(),we(kt),we(lt),Mp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(nl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,dn!==null&&(lh(dn),dn=null))),eh(e,t),nt(t),null;case 5:Rp(t);var i=Jr(ea.current);if(n=t.type,e!==null&&t.stateNode!=null)PS(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return nt(t),null}if(e=Jr(Cn.current),nl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[wn]=t,r[Jo]=s,e=(t.mode&1)!==0,n){case"dialog":Se("cancel",r),Se("close",r);break;case"iframe":case"object":case"embed":Se("load",r);break;case"video":case"audio":for(i=0;i<mo.length;i++)Se(mo[i],r);break;case"source":Se("error",r);break;case"img":case"image":case"link":Se("error",r),Se("load",r);break;case"details":Se("toggle",r);break;case"input":vg(r,s),Se("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Se("invalid",r);break;case"textarea":xg(r,s),Se("invalid",r)}Tf(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&tl(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&tl(r.textContent,a,e),i=["children",""+a]):Wo.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Se("scroll",r)}switch(n){case"input":Ya(r),_g(r,s,!0);break;case"textarea":Ya(r),Sg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wc)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),n==="select"&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[wn]=t,e[Jo]=r,AS(e,t,!1,!1),t.stateNode=e;e:{switch(o=If(n,r),n){case"dialog":Se("cancel",e),Se("close",e),i=r;break;case"iframe":case"object":case"embed":Se("load",e),i=r;break;case"video":case"audio":for(i=0;i<mo.length;i++)Se(mo[i],e);i=r;break;case"source":Se("error",e),i=r;break;case"img":case"image":case"link":Se("error",e),Se("load",e),i=r;break;case"details":Se("toggle",e),i=r;break;case"input":vg(e,r),i=bf(e,r),Se("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Re({},r,{value:void 0}),Se("invalid",e);break;case"textarea":xg(e,r),i=Ef(e,r),Se("invalid",e);break;default:i=r}Tf(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?fx(e,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ux(e,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Uo(e,l):typeof l=="number"&&Uo(e,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Wo.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Se("scroll",e):l!=null&&op(e,s,l,o))}switch(n){case"input":Ya(e),_g(e,r,!1);break;case"textarea":Ya(e),Sg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Er(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?os(e,!!r.multiple,s,!1):r.defaultValue!=null&&os(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=wc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return nt(t),null;case 6:if(e&&t.stateNode!=null)OS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=Jr(ea.current),Jr(Cn.current),nl(t)){if(r=t.stateNode,n=t.memoizedProps,r[wn]=t,(s=r.nodeValue!==n)&&(e=At,e!==null))switch(e.tag){case 3:tl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&tl(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[wn]=t,t.stateNode=r}return nt(t),null;case 13:if(we(Te),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&jt!==null&&t.mode&1&&!(t.flags&128))Qx(),ys(),t.flags|=98560,s=!1;else if(s=nl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(O(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(O(317));s[wn]=t}else ys(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;nt(t),s=!1}else dn!==null&&(lh(dn),dn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Te.current&1?Ze===0&&(Ze=3):Wp())),t.updateQueue!==null&&(t.flags|=4),nt(t),null);case 4:return _s(),eh(e,t),e===null&&Ko(t.stateNode.containerInfo),nt(t),null;case 10:return Ep(t.type._context),nt(t),null;case 17:return Et(t.type)&&kc(),nt(t),null;case 19:if(we(Te),s=t.memoizedState,s===null)return nt(t),null;if(r=(t.flags&128)!==0,o=s.rendering,o===null)if(r)to(s,!1);else{if(Ze!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=Dc(e),o!==null){for(t.flags|=128,to(s,!1),r=o.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _e(Te,Te.current&1|2),t.child}e=e.sibling}s.tail!==null&&Ne()>Ss&&(t.flags|=128,r=!0,to(s,!1),t.lanes=4194304)}else{if(!r)if(e=Dc(o),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),to(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ke)return nt(t),null}else 2*Ne()-s.renderingStartTime>Ss&&n!==1073741824&&(t.flags|=128,r=!0,to(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(n=s.last,n!==null?n.sibling=o:t.child=o,s.last=o)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ne(),t.sibling=null,n=Te.current,_e(Te,r?n&1|2:n&1),t):(nt(t),null);case 22:case 23:return $p(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Mt&1073741824&&(nt(t),t.subtreeFlags&6&&(t.flags|=8192)):nt(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function QC(e,t){switch(Sp(t),t.tag){case 1:return Et(t.type)&&kc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _s(),we(kt),we(lt),Mp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Rp(t),null;case 13:if(we(Te),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));ys()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(Te),null;case 4:return _s(),null;case 10:return Ep(t.type._context),null;case 22:case 23:return $p(),null;case 24:return null;default:return null}}var sl=!1,it=!1,eT=typeof WeakSet=="function"?WeakSet:Set,$=null;function Ki(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function th(e,t,n){try{n()}catch(r){je(e,t,r)}}var uy=!1;function tT(e,t){if(zf=xc,e=Bx(),_p(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(a=o),h===s&&++d===r&&(l=o),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ff={focusedElem:e,selectionRange:n},xc=!1,$=t;$!==null;)if(t=$,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,$=e;else for(;$!==null;){t=$;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,_=m.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:on(t.type,g),_);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(S){je(t,t.return,S)}if(e=t.sibling,e!==null){e.return=t.return,$=e;break}$=t.return}return m=uy,uy=!1,m}function Ro(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&th(t,n,s)}i=i.next}while(i!==r)}}function Eu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function nh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function NS(e){var t=e.alternate;t!==null&&(e.alternate=null,NS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[wn],delete t[Jo],delete t[Wf],delete t[LC],delete t[zC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function LS(e){return e.tag===5||e.tag===3||e.tag===4}function dy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||LS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=wc));else if(r!==4&&(e=e.child,e!==null))for(rh(e,t,n),e=e.sibling;e!==null;)rh(e,t,n),e=e.sibling}function ih(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(ih(e,t,n),e=e.sibling;e!==null;)ih(e,t,n),e=e.sibling}var Xe=null,an=!1;function tr(e,t,n){for(n=n.child;n!==null;)zS(e,t,n),n=n.sibling}function zS(e,t,n){if(En&&typeof En.onCommitFiberUnmount=="function")try{En.onCommitFiberUnmount(yu,n)}catch{}switch(n.tag){case 5:it||Ki(n,t);case 6:var r=Xe,i=an;Xe=null,tr(e,t,n),Xe=r,an=i,Xe!==null&&(an?(e=Xe,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Xe.removeChild(n.stateNode));break;case 18:Xe!==null&&(an?(e=Xe,n=n.stateNode,e.nodeType===8?xd(e.parentNode,n):e.nodeType===1&&xd(e,n),Yo(e)):xd(Xe,n.stateNode));break;case 4:r=Xe,i=an,Xe=n.stateNode.containerInfo,an=!0,tr(e,t,n),Xe=r,an=i;break;case 0:case 11:case 14:case 15:if(!it&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&th(n,t,o),i=i.next}while(i!==r)}tr(e,t,n);break;case 1:if(!it&&(Ki(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){je(n,t,a)}tr(e,t,n);break;case 21:tr(e,t,n);break;case 22:n.mode&1?(it=(r=it)||n.memoizedState!==null,tr(e,t,n),it=r):tr(e,t,n);break;default:tr(e,t,n)}}function fy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new eT),t.forEach(function(r){var i=uT.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function rn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;a!==null;){switch(a.tag){case 5:Xe=a.stateNode,an=!1;break e;case 3:Xe=a.stateNode.containerInfo,an=!0;break e;case 4:Xe=a.stateNode.containerInfo,an=!0;break e}a=a.return}if(Xe===null)throw Error(O(160));zS(s,o,i),Xe=null,an=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){je(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)FS(t,e),t=t.sibling}function FS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(rn(t,e),yn(e),r&4){try{Ro(3,e,e.return),Eu(3,e)}catch(g){je(e,e.return,g)}try{Ro(5,e,e.return)}catch(g){je(e,e.return,g)}}break;case 1:rn(t,e),yn(e),r&512&&n!==null&&Ki(n,n.return);break;case 5:if(rn(t,e),yn(e),r&512&&n!==null&&Ki(n,n.return),e.flags&32){var i=e.stateNode;try{Uo(i,"")}catch(g){je(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,o=n!==null?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&ax(i,s),If(a,o);var c=If(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?fx(i,f):d==="dangerouslySetInnerHTML"?ux(i,f):d==="children"?Uo(i,f):op(i,d,f,c)}switch(a){case"input":wf(i,s);break;case"textarea":lx(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?os(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?os(i,!!s.multiple,s.defaultValue,!0):os(i,!!s.multiple,s.multiple?[]:"",!1))}i[Jo]=s}catch(g){je(e,e.return,g)}}break;case 6:if(rn(t,e),yn(e),r&4){if(e.stateNode===null)throw Error(O(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){je(e,e.return,g)}}break;case 3:if(rn(t,e),yn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yo(t.containerInfo)}catch(g){je(e,e.return,g)}break;case 4:rn(t,e),yn(e);break;case 13:rn(t,e),yn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Fp=Ne())),r&4&&fy(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(it=(c=it)||d,rn(t,e),it=c):rn(t,e),yn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for($=e,d=e.child;d!==null;){for(f=$=d;$!==null;){switch(h=$,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ro(4,h,h.return);break;case 1:Ki(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){je(r,n,g)}}break;case 5:Ki(h,h.return);break;case 22:if(h.memoizedState!==null){py(f);continue}}p!==null?(p.return=h,$=p):py(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=dx("display",o))}catch(g){je(e,e.return,g)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){je(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:rn(t,e),yn(e),r&4&&fy(e);break;case 21:break;default:rn(t,e),yn(e)}}function yn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(LS(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uo(i,""),r.flags&=-33);var s=dy(e);ih(e,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=dy(e);rh(e,a,o);break;default:throw Error(O(161))}}catch(l){je(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function nT(e,t,n){$=e,BS(e)}function BS(e,t,n){for(var r=(e.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||sl;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||it;a=sl;var c=it;if(sl=o,(it=l)&&!c)for($=i;$!==null;)o=$,l=o.child,o.tag===22&&o.memoizedState!==null?my(i):l!==null?(l.return=o,$=l):my(i);for(;s!==null;)$=s,BS(s),s=s.sibling;$=i,sl=a,it=c}hy(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):hy(e)}}function hy(e){for(;$!==null;){var t=$;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:it||Eu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!it)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:on(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Xg(t,s,r);break;case 3:var o=t.updateQueue;if(o!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xg(t,o,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Yo(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}it||t.flags&512&&nh(t)}catch(h){je(t,t.return,h)}}if(t===e){$=null;break}if(n=t.sibling,n!==null){n.return=t.return,$=n;break}$=t.return}}function py(e){for(;$!==null;){var t=$;if(t===e){$=null;break}var n=t.sibling;if(n!==null){n.return=t.return,$=n;break}$=t.return}}function my(e){for(;$!==null;){var t=$;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Eu(4,t)}catch(l){je(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){je(t,i,l)}}var s=t.return;try{nh(t)}catch(l){je(t,s,l)}break;case 5:var o=t.return;try{nh(t)}catch(l){je(t,o,l)}}}catch(l){je(t,t.return,l)}if(t===e){$=null;break}var a=t.sibling;if(a!==null){a.return=t.return,$=a;break}$=t.return}}var rT=Math.ceil,Pc=Jn.ReactCurrentDispatcher,Lp=Jn.ReactCurrentOwner,qt=Jn.ReactCurrentBatchConfig,se=0,Ke=null,$e=null,Je=0,Mt=0,Xi=Pr(0),Ze=0,ia=null,mi=0,Cu=0,zp=0,Mo=null,xt=null,Fp=0,Ss=1/0,An=null,Oc=!1,sh=null,xr=null,ol=!1,dr=null,Nc=0,Do=0,oh=null,Kl=-1,Xl=0;function ft(){return se&6?Ne():Kl!==-1?Kl:Kl=Ne()}function Sr(e){return e.mode&1?se&2&&Je!==0?Je&-Je:BC.transition!==null?(Xl===0&&(Xl=kx()),Xl):(e=ge,e!==0||(e=window.event,e=e===void 0?16:Dx(e.type)),e):1}function pn(e,t,n,r){if(50<Do)throw Do=0,oh=null,Error(O(185));ka(e,n,r),(!(se&2)||e!==Ke)&&(e===Ke&&(!(se&2)&&(Cu|=n),Ze===4&&cr(e,Je)),Ct(e,r),n===1&&se===0&&!(t.mode&1)&&(Ss=Ne()+500,bu&&Or()))}function Ct(e,t){var n=e.callbackNode;BE(e,t);var r=_c(e,e===Ke?Je:0);if(r===0)n!==null&&kg(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&kg(n),t===1)e.tag===0?FC(gy.bind(null,e)):Kx(gy.bind(null,e)),OC(function(){!(se&6)&&Or()}),n=null;else{switch(Ex(r)){case 1:n=dp;break;case 4:n=bx;break;case 16:n=vc;break;case 536870912:n=wx;break;default:n=vc}n=qS(n,$S.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $S(e,t){if(Kl=-1,Xl=0,se&6)throw Error(O(327));var n=e.callbackNode;if(ds()&&e.callbackNode!==n)return null;var r=_c(e,e===Ke?Je:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Lc(e,r);else{t=r;var i=se;se|=2;var s=US();(Ke!==e||Je!==t)&&(An=null,Ss=Ne()+500,ni(e,t));do try{oT();break}catch(a){WS(e,a)}while(!0);kp(),Pc.current=s,se=i,$e!==null?t=0:(Ke=null,Je=0,t=Ze)}if(t!==0){if(t===2&&(i=Af(e),i!==0&&(r=i,t=ah(e,i))),t===1)throw n=ia,ni(e,0),cr(e,r),Ct(e,Ne()),n;if(t===6)cr(e,r);else{if(i=e.current.alternate,!(r&30)&&!iT(i)&&(t=Lc(e,r),t===2&&(s=Af(e),s!==0&&(r=s,t=ah(e,s))),t===1))throw n=ia,ni(e,0),cr(e,r),Ct(e,Ne()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:Zr(e,xt,An);break;case 3:if(cr(e,r),(r&130023424)===r&&(t=Fp+500-Ne(),10<t)){if(_c(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ft(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=$f(Zr.bind(null,e,xt,An),t);break}Zr(e,xt,An);break;case 4:if(cr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-hn(r);s=1<<o,o=t[o],o>i&&(i=o),r&=~s}if(r=i,r=Ne()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rT(r/1960))-r,10<r){e.timeoutHandle=$f(Zr.bind(null,e,xt,An),r);break}Zr(e,xt,An);break;case 5:Zr(e,xt,An);break;default:throw Error(O(329))}}}return Ct(e,Ne()),e.callbackNode===n?$S.bind(null,e):null}function ah(e,t){var n=Mo;return e.current.memoizedState.isDehydrated&&(ni(e,t).flags|=256),e=Lc(e,t),e!==2&&(t=xt,xt=n,t!==null&&lh(t)),e}function lh(e){xt===null?xt=e:xt.push.apply(xt,e)}function iT(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!mn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function cr(e,t){for(t&=~zp,t&=~Cu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-hn(t),r=1<<n;e[n]=-1,t&=~r}}function gy(e){if(se&6)throw Error(O(327));ds();var t=_c(e,0);if(!(t&1))return Ct(e,Ne()),null;var n=Lc(e,t);if(e.tag!==0&&n===2){var r=Af(e);r!==0&&(t=r,n=ah(e,r))}if(n===1)throw n=ia,ni(e,0),cr(e,t),Ct(e,Ne()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Zr(e,xt,An),Ct(e,Ne()),null}function Bp(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Ss=Ne()+500,bu&&Or())}}function gi(e){dr!==null&&dr.tag===0&&!(se&6)&&ds();var t=se;se|=1;var n=qt.transition,r=ge;try{if(qt.transition=null,ge=1,e)return e()}finally{ge=r,qt.transition=n,se=t,!(se&6)&&Or()}}function $p(){Mt=Xi.current,we(Xi)}function ni(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,PC(n)),$e!==null)for(n=$e.return;n!==null;){var r=n;switch(Sp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kc();break;case 3:_s(),we(kt),we(lt),Mp();break;case 5:Rp(r);break;case 4:_s();break;case 13:we(Te);break;case 19:we(Te);break;case 10:Ep(r.type._context);break;case 22:case 23:$p()}n=n.return}if(Ke=e,$e=e=br(e.current,null),Je=Mt=t,Ze=0,ia=null,zp=Cu=mi=0,xt=Mo=null,Xr!==null){for(t=0;t<Xr.length;t++)if(n=Xr[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Xr=null}return e}function WS(e,t){do{var n=$e;try{if(kp(),Yl.current=Ac,jc){for(var r=Ie.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}jc=!1}if(pi=0,Ge=He=Ie=null,Io=!1,ta=0,Lp.current=null,n===null||n.return===null){Ze=1,ia=t,$e=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Je,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=ry(o);if(p!==null){p.flags&=-257,iy(p,o,a,s,t),p.mode&1&&ny(s,c,t),t=p,l=c;var m=t.updateQueue;if(m===null){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}else{if(!(t&1)){ny(s,c,t),Wp();break e}l=Error(O(426))}}else if(ke&&a.mode&1){var _=ry(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),iy(_,o,a,s,t),bp(xs(l,a));break e}}s=l=xs(l,a),Ze!==4&&(Ze=2),Mo===null?Mo=[s]:Mo.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var y=ES(s,l,t);Kg(s,y);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(xr===null||!xr.has(x)))){s.flags|=65536,t&=-t,s.lanes|=t;var S=CS(s,a,t);Kg(s,S);break e}}s=s.return}while(s!==null)}VS(n)}catch(b){t=b,$e===n&&n!==null&&($e=n=n.return);continue}break}while(!0)}function US(){var e=Pc.current;return Pc.current=Ac,e===null?Ac:e}function Wp(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),Ke===null||!(mi&268435455)&&!(Cu&268435455)||cr(Ke,Je)}function Lc(e,t){var n=se;se|=2;var r=US();(Ke!==e||Je!==t)&&(An=null,ni(e,t));do try{sT();break}catch(i){WS(e,i)}while(!0);if(kp(),se=n,Pc.current=r,$e!==null)throw Error(O(261));return Ke=null,Je=0,Ze}function sT(){for(;$e!==null;)HS($e)}function oT(){for(;$e!==null&&!DE();)HS($e)}function HS(e){var t=YS(e.alternate,e,Mt);e.memoizedProps=e.pendingProps,t===null?VS(e):$e=t,Lp.current=null}function VS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=QC(n,t),n!==null){n.flags&=32767,$e=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ze=6,$e=null;return}}else if(n=JC(n,t,Mt),n!==null){$e=n;return}if(t=t.sibling,t!==null){$e=t;return}$e=t=e}while(t!==null);Ze===0&&(Ze=5)}function Zr(e,t,n){var r=ge,i=qt.transition;try{qt.transition=null,ge=1,aT(e,t,n,r)}finally{qt.transition=i,ge=r}return null}function aT(e,t,n,r){do ds();while(dr!==null);if(se&6)throw Error(O(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if($E(e,s),e===Ke&&($e=Ke=null,Je=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ol||(ol=!0,qS(vc,function(){return ds(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qt.transition,qt.transition=null;var o=ge;ge=1;var a=se;se|=4,Lp.current=null,tT(e,n),FS(n,e),TC(Ff),xc=!!zf,Ff=zf=null,e.current=n,nT(n),jE(),se=a,ge=o,qt.transition=s}else e.current=n;if(ol&&(ol=!1,dr=e,Nc=i),s=e.pendingLanes,s===0&&(xr=null),OE(n.stateNode),Ct(e,Ne()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Oc)throw Oc=!1,e=sh,sh=null,e;return Nc&1&&e.tag!==0&&ds(),s=e.pendingLanes,s&1?e===oh?Do++:(Do=0,oh=e):Do=0,Or(),null}function ds(){if(dr!==null){var e=Ex(Nc),t=qt.transition,n=ge;try{if(qt.transition=null,ge=16>e?16:e,dr===null)var r=!1;else{if(e=dr,dr=null,Nc=0,se&6)throw Error(O(331));var i=se;for(se|=4,$=e.current;$!==null;){var s=$,o=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for($=c;$!==null;){var d=$;switch(d.tag){case 0:case 11:case 15:Ro(8,d,s)}var f=d.child;if(f!==null)f.return=d,$=f;else for(;$!==null;){d=$;var h=d.sibling,p=d.return;if(NS(d),d===c){$=null;break}if(h!==null){h.return=p,$=h;break}$=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var _=g.sibling;g.sibling=null,g=_}while(g!==null)}}$=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,$=o;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ro(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,$=y;break e}$=s.return}}var v=e.current;for($=v;$!==null;){o=$;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,$=x;else e:for(o=v;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Eu(9,a)}}catch(b){je(a,a.return,b)}if(a===o){$=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,$=S;break e}$=a.return}}if(se=i,Or(),En&&typeof En.onPostCommitFiberRoot=="function")try{En.onPostCommitFiberRoot(yu,e)}catch{}r=!0}return r}finally{ge=n,qt.transition=t}}return!1}function yy(e,t,n){t=xs(n,t),t=ES(e,t,1),e=_r(e,t,1),t=ft(),e!==null&&(ka(e,1,t),Ct(e,t))}function je(e,t,n){if(e.tag===3)yy(e,e,n);else for(;t!==null;){if(t.tag===3){yy(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(xr===null||!xr.has(r))){e=xs(n,e),e=CS(t,e,1),t=_r(t,e,1),e=ft(),t!==null&&(ka(t,1,e),Ct(t,e));break}}t=t.return}}function lT(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ft(),e.pingedLanes|=e.suspendedLanes&n,Ke===e&&(Je&n)===n&&(Ze===4||Ze===3&&(Je&130023424)===Je&&500>Ne()-Fp?ni(e,0):zp|=n),Ct(e,t)}function ZS(e,t){t===0&&(e.mode&1?(t=Ka,Ka<<=1,!(Ka&130023424)&&(Ka=4194304)):t=1);var n=ft();e=Vn(e,t),e!==null&&(ka(e,t,n),Ct(e,n))}function cT(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),ZS(e,n)}function uT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),ZS(e,n)}var YS;YS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||kt.current)bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return bt=!1,XC(e,t,n);bt=!!(e.flags&131072)}else bt=!1,ke&&t.flags&1048576&&Xx(t,Tc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gl(e,t),e=t.pendingProps;var i=gs(t,lt.current);us(t,n),i=jp(null,t,r,e,i,n);var s=Ap();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Et(r)?(s=!0,Ec(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tp(t),i.updater=ku,t.stateNode=i,i._reactInternals=t,qf(t,r,e,n),t=Xf(null,t,r,!0,s,n)):(t.tag=0,ke&&s&&xp(t),ut(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gl(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=fT(r),e=on(r,e),i){case 0:t=Kf(null,t,r,e,n);break e;case 1:t=ay(null,t,r,e,n);break e;case 11:t=sy(null,t,r,e,n);break e;case 14:t=oy(null,t,r,on(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),Kf(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),ay(e,t,r,i,n);case 3:e:{if(MS(t),e===null)throw Error(O(387));r=t.pendingProps,s=t.memoizedState,i=s.element,rS(e,t),Mc(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=xs(Error(O(423)),t),t=ly(e,t,r,n,i);break e}else if(r!==i){i=xs(Error(O(424)),t),t=ly(e,t,r,n,i);break e}else for(jt=vr(t.stateNode.containerInfo.firstChild),At=t,ke=!0,dn=null,n=tS(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ys(),r===i){t=Zn(e,t,n);break e}ut(e,t,r,n)}t=t.child}return t;case 5:return iS(t),e===null&&Vf(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,o=i.children,Bf(r,i)?o=null:s!==null&&Bf(r,s)&&(t.flags|=32),RS(e,t),ut(e,t,o,n),t.child;case 6:return e===null&&Vf(t),null;case 13:return DS(e,t,n);case 4:return Ip(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=vs(t,null,r,n):ut(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),sy(e,t,r,i,n);case 7:return ut(e,t,t.pendingProps,n),t.child;case 8:return ut(e,t,t.pendingProps.children,n),t.child;case 12:return ut(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,_e(Ic,r._currentValue),r._currentValue=o,s!==null)if(mn(s.value,o)){if(s.children===i.children&&!kt.current){t=Zn(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Fn(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Zf(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===t.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(O(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Zf(o,n,t),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===t){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}ut(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,us(t,n),i=Kt(i),r=r(i),t.flags|=1,ut(e,t,r,n),t.child;case 14:return r=t.type,i=on(r,t.pendingProps),i=on(r.type,i),oy(e,t,r,i,n);case 15:return TS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:on(r,i),Gl(e,t),t.tag=1,Et(r)?(e=!0,Ec(t)):e=!1,us(t,n),kS(t,r,i),qf(t,r,i,n),Xf(null,t,r,!0,e,n);case 19:return jS(e,t,n);case 22:return IS(e,t,n)}throw Error(O(156,t.tag))};function qS(e,t){return Sx(e,t)}function dT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zt(e,t,n,r){return new dT(e,t,n,r)}function Up(e){return e=e.prototype,!(!e||!e.isReactComponent)}function fT(e){if(typeof e=="function")return Up(e)?1:0;if(e!=null){if(e=e.$$typeof,e===lp)return 11;if(e===cp)return 14}return 2}function br(e,t){var n=e.alternate;return n===null?(n=Zt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Jl(e,t,n,r,i,s){var o=2;if(r=e,typeof e=="function")Up(e)&&(o=1);else if(typeof e=="string")o=5;else e:switch(e){case $i:return ri(n.children,i,s,t);case ap:o=8,i|=8;break;case vf:return e=Zt(12,n,t,i|2),e.elementType=vf,e.lanes=s,e;case _f:return e=Zt(13,n,t,i),e.elementType=_f,e.lanes=s,e;case xf:return e=Zt(19,n,t,i),e.elementType=xf,e.lanes=s,e;case ix:return Tu(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case nx:o=10;break e;case rx:o=9;break e;case lp:o=11;break e;case cp:o=14;break e;case ir:o=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Zt(o,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function ri(e,t,n,r){return e=Zt(7,e,r,t),e.lanes=n,e}function Tu(e,t,n,r){return e=Zt(22,e,r,t),e.elementType=ix,e.lanes=n,e.stateNode={isHidden:!1},e}function Id(e,t,n){return e=Zt(6,e,null,t),e.lanes=n,e}function Rd(e,t,n){return t=Zt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function hT(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cd(0),this.expirationTimes=cd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Hp(e,t,n,r,i,s,o,a,l){return e=new hT(e,t,n,a,l),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Zt(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tp(s),e}function pT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Bi,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function GS(e){if(!e)return Cr;e=e._reactInternals;e:{if(Ei(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Et(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(Et(n))return Gx(e,n,t)}return t}function KS(e,t,n,r,i,s,o,a,l){return e=Hp(n,r,!0,e,i,s,o,a,l),e.context=GS(null),n=e.current,r=ft(),i=Sr(n),s=Fn(r,i),s.callback=t??null,_r(n,s,i),e.current.lanes=i,ka(e,i,r),Ct(e,r),e}function Iu(e,t,n,r){var i=t.current,s=ft(),o=Sr(i);return n=GS(n),t.context===null?t.context=n:t.pendingContext=n,t=Fn(s,o),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=_r(i,t,o),e!==null&&(pn(e,i,o,s),Zl(e,i,o)),o}function zc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function vy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Vp(e,t){vy(e,t),(e=e.alternate)&&vy(e,t)}function mT(){return null}var XS=typeof reportError=="function"?reportError:function(e){console.error(e)};function Zp(e){this._internalRoot=e}Ru.prototype.render=Zp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Iu(e,t,null,null)};Ru.prototype.unmount=Zp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;gi(function(){Iu(null,e,null,null)}),t[Hn]=null}};function Ru(e){this._internalRoot=e}Ru.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ix();e={blockedOn:null,target:e,priority:t};for(var n=0;n<lr.length&&t!==0&&t<lr[n].priority;n++);lr.splice(n,0,e),n===0&&Mx(e)}};function Yp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function _y(){}function gT(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=zc(o);s.call(c)}}var o=KS(t,r,e,0,null,!1,!1,"",_y);return e._reactRootContainer=o,e[Hn]=o.current,Ko(e.nodeType===8?e.parentNode:e),gi(),o}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=zc(l);a.call(c)}}var l=Hp(e,0,!1,null,null,!1,!1,"",_y);return e._reactRootContainer=l,e[Hn]=l.current,Ko(e.nodeType===8?e.parentNode:e),gi(function(){Iu(t,l,n,r)}),l}function Du(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=zc(o);a.call(l)}}Iu(t,o,e,i)}else o=gT(n,t,e,i,r);return zc(o)}Cx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=po(t.pendingLanes);n!==0&&(fp(t,n|1),Ct(t,Ne()),!(se&6)&&(Ss=Ne()+500,Or()))}break;case 13:gi(function(){var r=Vn(e,1);if(r!==null){var i=ft();pn(r,e,1,i)}}),Vp(e,1)}};hp=function(e){if(e.tag===13){var t=Vn(e,134217728);if(t!==null){var n=ft();pn(t,e,134217728,n)}Vp(e,134217728)}};Tx=function(e){if(e.tag===13){var t=Sr(e),n=Vn(e,t);if(n!==null){var r=ft();pn(n,e,t,r)}Vp(e,t)}};Ix=function(){return ge};Rx=function(e,t){var n=ge;try{return ge=e,t()}finally{ge=n}};Mf=function(e,t,n){switch(t){case"input":if(wf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Su(r);if(!i)throw Error(O(90));ox(r),wf(r,i)}}}break;case"textarea":lx(e,n);break;case"select":t=n.value,t!=null&&os(e,!!n.multiple,t,!1)}};mx=Bp;gx=gi;var yT={usingClientEntryPoint:!1,Events:[Ca,Vi,Su,hx,px,Bp]},no={findFiberByHostInstance:Kr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},vT={bundleType:no.bundleType,version:no.version,rendererPackageName:no.rendererPackageName,rendererConfig:no.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Jn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=_x(e),e===null?null:e.stateNode},findFiberByHostInstance:no.findFiberByHostInstance||mT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var al=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!al.isDisabled&&al.supportsFiber)try{yu=al.inject(vT),En=al}catch{}}zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=yT;zt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yp(t))throw Error(O(200));return pT(e,t,null,n)};zt.createRoot=function(e,t){if(!Yp(e))throw Error(O(299));var n=!1,r="",i=XS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Hp(e,1,!1,null,null,n,!1,r,i),e[Hn]=t.current,Ko(e.nodeType===8?e.parentNode:e),new Zp(t)};zt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=_x(t),e=e===null?null:e.stateNode,e};zt.flushSync=function(e){return gi(e)};zt.hydrate=function(e,t,n){if(!Mu(t))throw Error(O(200));return Du(null,e,t,!0,n)};zt.hydrateRoot=function(e,t,n){if(!Yp(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=XS;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),t=KS(t,null,e,1,n??null,i,!1,s,o),e[Hn]=t.current,Ko(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ru(t)};zt.render=function(e,t,n){if(!Mu(t))throw Error(O(200));return Du(null,e,t,!1,n)};zt.unmountComponentAtNode=function(e){if(!Mu(e))throw Error(O(40));return e._reactRootContainer?(gi(function(){Du(null,null,e,!1,function(){e._reactRootContainer=null,e[Hn]=null})}),!0):!1};zt.unstable_batchedUpdates=Bp;zt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Mu(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Du(e,t,n,!1,r)};zt.version="18.3.1-next-f1338f8080-20240426";function JS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JS)}catch(e){console.error(e)}}JS(),J0.exports=zt;var QS=J0.exports,xy=QS;gf.createRoot=xy.createRoot,gf.hydrateRoot=xy.hydrateRoot;function Sy(e){let t=e==null?"":String(e);return t=(r=>{let i=0;for(;i<r.length;){const s=r.charCodeAt(i);if(s>=0&&s<=31||s===65279)i++;else break}return r.slice(i)})(t),/^[=+\-@]/.test(t)&&(t="'"+t),t=t.replace(/"/g,'""'),`"${t}"`}function Ql(e,t=null){try{return JSON.parse(e)}catch{return t}}function Md(e,t){try{const n=JSON.stringify(t);return localStorage.setItem(e,n),!0}catch{return!1}}const nr="lunation-data",Ai=1,eb=2e5,_T=12,xT=16;function qp(){if(typeof window<"u"&&window.crypto&&window.crypto.subtle)return window.crypto.subtle;throw new Error("Web Crypto API not available")}function by(e){const t=new Uint8Array(e);return window.crypto.getRandomValues(t),t}function ST(e){return new TextEncoder().encode(e)}function Dd(e){const t=new Uint8Array(e);let n="";for(let r=0;r<t.length;r++)n+=String.fromCharCode(t[r]);return btoa(n)}function jd(e){const t=atob(e),n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n.buffer}async function tb(e,t){const n=qp(),r=await n.importKey("raw",ST(e),{name:"PBKDF2"},!1,["deriveKey"]);return await n.deriveKey({name:"PBKDF2",salt:t,iterations:eb,hash:"SHA-256"},r,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function wy(e,t){const n=qp(),r=by(xT),i=by(_T),s=await tb(t,r),o=new TextEncoder().encode(JSON.stringify(e)),a=await n.encrypt({name:"AES-GCM",iv:i},s,o);return{_enc:!0,v:1,algo:"AES-GCM",kdf:"PBKDF2",hash:"SHA-256",iter:eb,salt:Dd(r.buffer),iv:Dd(i.buffer),data:Dd(a),ts:new Date().toISOString()}}async function ky(e,t){const n=qp();if(!e||e._enc!==!0)throw new Error("Not an encrypted payload");const r=new Uint8Array(jd(e.salt)),i=new Uint8Array(jd(e.iv)),s=await tb(t,r),o=jd(e.data),a=await n.decrypt({name:"AES-GCM",iv:i},s,o),l=new TextDecoder().decode(a);return JSON.parse(l)}const ro=(e,t,n)=>Math.min(n,Math.max(t,e));function bT(e){return[...e].sort((t,n)=>new Date(t.startDate)-new Date(n.startDate))}function ch(e){if(!e.length)return NaN;const t=[...e].sort((r,i)=>r-i),n=Math.floor(t.length/2);return t.length%2?t[n]:(t[n-1]+t[n])/2}function wT(e,t){if(!e.length)return 0;const n=e.map(r=>Math.abs(r-t));return ch(n)}function kT(e){if(!e.length)return{q1:0,q3:0,iqr:0};const t=[...e].sort((i,s)=>i-s),n=t[Math.floor(t.length*.25)]??t[0],r=t[Math.floor(t.length*.75)]??t[t.length-1];return{q1:n,q3:r,iqr:r-n}}function Fc(e){if(!Array.isArray(e)||e.length===0)return{nextPeriod:null,ovulation:null,fertilityWindow:{start:null,end:null},confidence:{nextPeriod:0,ovulation:0},accuracy:null};const t=bT(e),n=[];for(let I=1;I<t.length;I++){const D=new Date(t[I].startDate),F=new Date(t[I-1].startDate),U=Math.round((D-F)/864e5);Number.isFinite(U)&&U>10&&U<120&&n.push(U)}const r=21,i=45;let s=28,o=0,a={nextPeriod:30,ovulation:20};if(n.length>0){const I=ch(n),F=wT(n,I)*1.4826||2.5,{q1:U,q3:A,iqr:z}=kT(n),P=U-1.5*z,R=A+1.5*z,j=n.filter(Ce=>Ce>=P&&Ce<=R),B=.5;let Z=j.length?j[0]:I;for(let Ce=1;Ce<j.length;Ce++)Z=B*j[Ce]+(1-B)*Z;s=Math.round(ro(Z||I||28,r,i)),o=Math.round((F+Math.max(0,(A-U)/2))*10)/10;const X=j.length,Fe=ro(50-F*8,0,50),fe=ro(X*10,0,40);a.nextPeriod=ro(30+Fe+fe,30,95),a.ovulation=Math.min(90,a.nextPeriod-8)}const l=t[t.length-1],c=new Date(l.startDate),d=t.map(I=>I.endDate?Math.round((new Date(I.endDate)-new Date(I.startDate))/864e5)+1:null).filter(I=>Number.isFinite(I)&&I>=2&&I<=10),f=ro(Math.round(ch(d)||5),2,8),p=Math.round((new Date-c)/864e5),m=!l.endDate&&p<=f+2,g=new Date(c);g.setDate(c.getDate()+s);const _=m?new Date(g):g,y=s>=32?15:s<=26?13:14,v=new Date(_);v.setDate(_.getDate()-y);const x=new Date(v);x.setDate(v.getDate()-5);const S=new Date(v);S.setDate(v.getDate()+1);const b=Math.max(1.5,o||2.5),k=(I,D,F)=>Math.exp(-.5*Math.pow((I-D)/F,2)),w=[];let E=0;for(let I=-5;I<=5;I++){const D=k(I,0,b);E+=D,w.push({offset:I,p:D})}const C=w.map(({offset:I,p:D})=>({date:new Date(_.getTime()+I*864e5).toISOString(),probability:D/E})),T=ET(t);return{nextPeriod:_.toISOString(),ovulation:v.toISOString(),fertilityWindow:{start:x.toISOString(),end:S.toISOString()},averageCycleLength:s,typicalBleed:f,cycleLengthVariance:Math.round(o*10)/10,confidence:a,accuracy:T,probabilityCurve:C,predictionRange:{earliest:new Date(_.getTime()-Math.max(2,o)*864e5).toISOString(),latest:new Date(_.getTime()+Math.max(2,o)*864e5).toISOString()}}}function ET(e){if(e.length<3)return null;let t=0,n=0;for(let r=2;r<e.length;r++){const i=e.slice(0,r),s=Fc(i),o=e[r];if(s.nextPeriod){const a=new Date(s.nextPeriod),l=new Date(o.startDate);Math.abs((l-a)/(1e3*60*60*24))<=2&&t++,n++}}return n>0?Math.round(t/n*100):null}const nb=L.createContext(),CT={cycles:[],currentCycle:null,predictions:{nextPeriod:null,ovulation:null,fertilityWindow:{start:null,end:null}},symptoms:[],medications:[]};function TT(e,t){switch(t.type){case"LOAD_DATA":return{...e,...t.payload};case"ADD_CYCLE":const n=[...e.cycles,t.payload];return{...e,cycles:n,currentCycle:t.payload};case"UPDATE_PREDICTIONS":return{...e,predictions:t.payload};case"ADD_SYMPTOM":return{...e,symptoms:[...e.symptoms,t.payload]};case"ADD_MEDICATION":return{...e,medications:[...e.medications,t.payload]};case"TOGGLE_MEDICATION":return{...e,medications:e.medications.map(r=>r.id===t.payload.id?{...r,isActive:!r.isActive}:r)};case"DELETE_MEDICATION":return{...e,medications:e.medications.filter(r=>r.id!==t.payload.id)};default:return e}}function IT({children:e}){const[t,n]=L.useReducer(TT,CT),[r,i]=L.useState({enabled:!1,locked:!1,passphrase:null}),[s,o]=L.useState(!1);L.useEffect(()=>{try{const f=localStorage.getItem(nr);if(!f)return;const h=Ql(f,null);if(!h||typeof h!="object")return;if(h._enc===!0){i({enabled:!0,locked:!0,passphrase:null});return}const p=Array.isArray(h.cycles)?h.cycles:[],m=Array.isArray(h.medications)?h.medications:[],g=Array.isArray(h.symptoms)?h.symptoms:[],_=Fc(p);n({type:"LOAD_DATA",payload:{cycles:p,medications:m,symptoms:g,predictions:_,currentCycle:h.currentCycle||null,_version:h._version||Ai}})}catch{}finally{o(!0)}},[]),L.useEffect(()=>{(async()=>{if(!s)return;const h={...t,_version:Ai};if(r.enabled){if(r.locked||!r.passphrase)return;try{const p=await wy(h,r.passphrase);localStorage.setItem(nr,JSON.stringify(p))}catch{}}else Md(nr,h)})()},[t,r.enabled,r.locked,r.passphrase,s]),L.useEffect(()=>{let f;const h=()=>{if(!s)return;const m={...t,_version:Ai};r.enabled||Md(nr,m)};f=window.setInterval(h,15e3);const p=()=>{document.hidden&&h()};return document.addEventListener("visibilitychange",p),()=>{f&&window.clearInterval(f),document.removeEventListener("visibilitychange",p)}},[t,r.enabled,s]);const a=async f=>{const h=localStorage.getItem(nr);if(!h)throw new Error("No saved data");const p=Ql(h,null);if(!p||p._enc!==!0)throw new Error("Data is not encrypted");const m=await ky(p,f),g=Array.isArray(m.cycles)?m.cycles:[],_=Array.isArray(m.medications)?m.medications:[],y=Array.isArray(m.symptoms)?m.symptoms:[],v=Fc(g);n({type:"LOAD_DATA",payload:{cycles:g,medications:_,symptoms:y,predictions:v,currentCycle:m.currentCycle||null,_version:m._version||Ai}}),i({enabled:!0,locked:!1,passphrase:f})},l=async f=>{const h={...t,_version:Ai},p=await wy(h,f);localStorage.setItem(nr,JSON.stringify(p)),i({enabled:!0,locked:!1,passphrase:f})},c=async f=>{const h=localStorage.getItem(nr);if(h){const m=Ql(h,null);m&&m._enc===!0&&await ky(m,f)}i({enabled:!1,locked:!1,passphrase:null});const p={...t,_version:Ai};Md(nr,p)},d=async(f,h)=>{await a(f),await l(h)};return u.jsx(nb.Provider,{value:{state:t,dispatch:n,encryption:r,unlock:a,enableEncryption:l,disableEncryption:c,changePassphrase:d},children:e})}function gn(){const e=L.useContext(nb);if(!e)throw new Error("useCycle must be used within a CycleProvider");return e}function RT(){return u.jsxs("header",{className:"header",style:{position:"relative",overflow:"hidden"},children:[u.jsx("div",{style:{position:"absolute",right:"2rem",top:"1rem",opacity:.3},"aria-hidden":"true",children:u.jsxs("svg",{width:"80",height:"80",viewBox:"0 0 100 100",fill:"none",children:[u.jsx("defs",{children:u.jsxs("radialGradient",{id:"gmoon",cx:"50%",cy:"50%",r:"50%",children:[u.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),u.jsx("stop",{offset:"100%",stopColor:"#c6cde8"})]})}),u.jsx("circle",{cx:"60",cy:"40",r:"26",fill:"url(#gmoon)"}),u.jsx("circle",{cx:"68",cy:"40",r:"26",fill:"#0b1020"})]})}),u.jsx("h1",{style:{marginBottom:"0.25rem"},children:"🌙 Lunation"}),u.jsx("p",{style:{margin:0,opacity:.9},children:"Revolutionary AI-powered cycle tracking"})]})}function MT({onComplete:e}){const[t,n]=L.useState(0),[r,i]=L.useState({hasUsedTracker:!1,primaryGoal:"period-tracking",wantsNotifications:!0,interestedInResearch:!1}),s=[{id:"welcome",title:"🌙 Welcome to Lunation",content:"Revolutionary AI-powered menstrual cycle tracking",description:"Your privacy-first companion for reproductive health insights"},{id:"features",title:"✨ What Makes Lunation Special",content:"Advanced AI predictions, health insights, and research contributions",description:"Unlike other apps, Lunation uses machine learning to provide personalized health intelligence"},{id:"privacy",title:"🔒 Privacy-First Design",content:"Your data stays on your device",description:"100% local storage means your personal information never leaves your device unless you choose to contribute to research"},{id:"goals",title:"🎯 What's Your Primary Goal?",content:"Help us personalize your experience",description:"Choose what matters most to you"},{id:"ready",title:"🚀 Ready to Start",content:"Let's set up your first cycle",description:"We'll guide you through tracking your first period to start building your health profile"}],o=s[t],a=(h,p)=>{i(m=>({...m,[h]:p}))},l=()=>{t<s.length-1?n(t+1):(localStorage.setItem("lunation-onboarding-completed","true"),localStorage.setItem("lunation-user-preferences",JSON.stringify(r)),e(r))},c=()=>{t>0&&n(t-1)},d=()=>{localStorage.setItem("lunation-onboarding-completed","true"),e({})},f=()=>{switch(o.id){case"welcome":return u.jsxs("div",{style:{textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"6rem",marginBottom:"2rem",lineHeight:1},children:u.jsx("span",{style:{background:"linear-gradient(135deg, var(--accent), var(--accent-2))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"🌙"})}),u.jsx("h1",{style:{fontSize:"3rem",margin:"0 0 1rem 0",background:"linear-gradient(135deg, var(--accent), var(--accent-2))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Lunation"}),u.jsx("p",{style:{fontSize:"1.2rem",color:"var(--muted)",maxWidth:"500px",margin:"0 auto 2rem auto",lineHeight:"1.6"},children:"The most advanced period tracking app ever created. Powered by AI, designed for privacy, built for your health."}),u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--surface-2), var(--surface))",borderRadius:"16px",padding:"1.5rem",border:"1px solid var(--border)"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"🎉 You're About to Experience:"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",textAlign:"left"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{color:"var(--text)",fontWeight:"bold",marginBottom:"0.5rem"},children:"🧠 AI Intelligence"}),u.jsx("div",{style:{color:"var(--muted)",fontSize:"0.9rem"},children:"Machine learning predictions with 80%+ accuracy"})]}),u.jsxs("div",{children:[u.jsx("div",{style:{color:"var(--text)",fontWeight:"bold",marginBottom:"0.5rem"},children:"🔒 Total Privacy"}),u.jsx("div",{style:{color:"var(--muted)",fontSize:"0.9rem"},children:"Your data never leaves your device"})]}),u.jsxs("div",{children:[u.jsx("div",{style:{color:"var(--text)",fontWeight:"bold",marginBottom:"0.5rem"},children:"🩺 Health Insights"}),u.jsx("div",{style:{color:"var(--muted)",fontSize:"0.9rem"},children:"Personalized recommendations and patterns"})]}),u.jsxs("div",{children:[u.jsx("div",{style:{color:"var(--text)",fontWeight:"bold",marginBottom:"0.5rem"},children:"🔬 Research Impact"}),u.jsx("div",{style:{color:"var(--muted)",fontSize:"0.9rem"},children:"Contribute to advancing women's health"})]})]})]})]});case"features":return u.jsxs("div",{children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[u.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"✨"}),u.jsx("h2",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"What Makes Lunation Revolutionary"}),u.jsx("p",{style:{color:"var(--muted)",fontSize:"1.1rem",maxWidth:"600px",margin:"0 auto"},children:"We've reimagined period tracking from the ground up with cutting-edge technology"})]}),u.jsx("div",{style:{display:"grid",gap:"1.5rem"},children:[{icon:"🤖",title:"Advanced AI Engine",description:"Machine learning algorithms analyze your unique patterns to provide predictions with confidence scores"},{icon:"🧠",title:"Health Intelligence",description:"AI-powered anomaly detection, symptom correlations, and personalized health scoring"},{icon:"🌍",title:"Population Insights",description:"Compare your cycles with anonymized data from thousands of users worldwide"},{icon:"👩‍⚕️",title:"Clinical Integration",description:"Generate comprehensive reports for your healthcare provider with research-grade data"},{icon:"📱",title:"Progressive Web App",description:"Works offline, installs like a native app, with smart notifications and sync"},{icon:"🔬",title:"Research Contribution",description:"Help advance reproductive health research through anonymous data sharing"}].map((h,p)=>u.jsxs("div",{style:{display:"flex",gap:"1rem",padding:"1.5rem",background:"var(--surface)",borderRadius:"12px",border:"1px solid var(--border)"},children:[u.jsx("div",{style:{fontSize:"2rem"},children:h.icon}),u.jsxs("div",{children:[u.jsx("h4",{style:{color:"var(--text)",margin:"0 0 0.5rem 0"},children:h.title}),u.jsx("p",{style:{color:"var(--muted)",margin:0,lineHeight:"1.5"},children:h.description})]})]},p))})]});case"privacy":return u.jsxs("div",{children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[u.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"🔒"}),u.jsx("h2",{style:{color:"var(--success)",marginBottom:"1rem"},children:"Your Privacy is Our Priority"}),u.jsx("p",{style:{color:"var(--muted)",fontSize:"1.1rem",maxWidth:"600px",margin:"0 auto"},children:"Unlike other apps that collect and sell your data, Lunation keeps everything local"})]}),u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--success-light), var(--info-light))",border:"1px solid var(--success)",borderRadius:"16px",padding:"2rem",marginBottom:"2rem",textAlign:"center"},children:[u.jsx("h3",{style:{color:"var(--text)",marginBottom:"1rem"},children:"🛡️ Zero Data Collection Guarantee"}),u.jsx("p",{style:{color:"var(--text)",fontSize:"1.1rem",lineHeight:"1.6"},children:"Your menstrual data, symptoms, and personal information stay on YOUR device. We can't see it, we don't collect it, and we never sell it."})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1.5rem"},children:[u.jsxs("div",{style:{padding:"1.5rem",background:"var(--surface)",borderRadius:"12px",border:"1px solid var(--border)",textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"📱"}),u.jsx("h4",{style:{color:"var(--text)",marginBottom:"0.5rem"},children:"Local Storage"}),u.jsx("p",{style:{color:"var(--muted)",fontSize:"0.9rem",margin:0},children:"All your data is stored securely in your browser with optional encryption"})]}),u.jsxs("div",{style:{padding:"1.5rem",background:"var(--surface)",borderRadius:"12px",border:"1px solid var(--border)",textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"🌐"}),u.jsx("h4",{style:{color:"var(--text)",marginBottom:"0.5rem"},children:"Works Offline"}),u.jsx("p",{style:{color:"var(--muted)",fontSize:"0.9rem",margin:0},children:"No internet required. Your data stays with you always"})]}),u.jsxs("div",{style:{padding:"1.5rem",background:"var(--surface)",borderRadius:"12px",border:"1px solid var(--border)",textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"2.5rem",marginBottom:"1rem"},children:"🔑"}),u.jsx("h4",{style:{color:"var(--text)",marginBottom:"0.5rem"},children:"You Control Everything"}),u.jsx("p",{style:{color:"var(--muted)",fontSize:"0.9rem",margin:0},children:"Export, delete, or encrypt your data anytime"})]})]}),u.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",background:"var(--info-light)",border:"1px solid var(--info)",borderRadius:"8px",fontSize:"0.9rem",color:"var(--text)"},children:[u.jsx("strong",{children:"Optional Research Contribution:"})," You can choose to anonymously contribute to reproductive health research. Even then, no personally identifiable information is shared - only anonymized patterns."]})]});case"goals":return u.jsxs("div",{children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[u.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"🎯"}),u.jsx("h2",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"What's Your Primary Goal?"}),u.jsx("p",{style:{color:"var(--muted)",fontSize:"1.1rem"},children:"Help us personalize your Lunation experience"})]}),u.jsx("div",{style:{display:"grid",gap:"1rem",marginBottom:"2rem"},children:[{id:"period-tracking",icon:"📅",title:"Period Tracking",description:"Track periods and get accurate predictions"},{id:"fertility-planning",icon:"🤱",title:"Fertility Planning",description:"Plan for conception with ovulation tracking"},{id:"health-insights",icon:"🩺",title:"Health Insights",description:"Understand patterns and improve wellbeing"},{id:"symptom-management",icon:"💊",title:"Symptom Management",description:"Track and manage cycle-related symptoms"}].map(h=>u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"1.5rem",background:r.primaryGoal===h.id?"var(--accent-2)20":"var(--surface)",border:r.primaryGoal===h.id?"2px solid var(--accent)":"1px solid var(--border)",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s"},children:[u.jsx("input",{type:"radio",name:"primaryGoal",value:h.id,checked:r.primaryGoal===h.id,onChange:p=>a("primaryGoal",p.target.value),style:{display:"none"}}),u.jsx("div",{style:{fontSize:"2rem"},children:h.icon}),u.jsxs("div",{children:[u.jsx("h4",{style:{color:"var(--text)",margin:"0 0 0.5rem 0"},children:h.title}),u.jsx("p",{style:{color:"var(--muted)",margin:0,fontSize:"0.9rem"},children:h.description})]})]},h.id))}),u.jsxs("div",{style:{background:"var(--surface)",borderRadius:"12px",padding:"1.5rem",border:"1px solid var(--border)"},children:[u.jsx("h4",{style:{color:"var(--text)",marginBottom:"1rem"},children:"Quick Questions:"}),u.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[u.jsx("input",{type:"checkbox",checked:r.hasUsedTracker,onChange:h=>a("hasUsedTracker",h.target.checked),style:{accentColor:"var(--accent)",transform:"scale(1.2)"}}),u.jsx("span",{style:{color:"var(--text)"},children:"I've used period tracking apps before"})]}),u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[u.jsx("input",{type:"checkbox",checked:r.wantsNotifications,onChange:h=>a("wantsNotifications",h.target.checked),style:{accentColor:"var(--accent)",transform:"scale(1.2)"}}),u.jsx("span",{style:{color:"var(--text)"},children:"Send me smart notifications and reminders"})]}),u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.75rem",cursor:"pointer"},children:[u.jsx("input",{type:"checkbox",checked:r.interestedInResearch,onChange:h=>a("interestedInResearch",h.target.checked),style:{accentColor:"var(--accent)",transform:"scale(1.2)"}}),u.jsx("span",{style:{color:"var(--text)"},children:"I'm interested in contributing to reproductive health research"})]})]})]})]});case"ready":return u.jsxs("div",{style:{textAlign:"center"},children:[u.jsx("div",{style:{fontSize:"6rem",marginBottom:"1rem"},children:"🚀"}),u.jsx("h2",{style:{color:"var(--success)",marginBottom:"1rem"},children:"You're All Set!"}),u.jsx("p",{style:{color:"var(--muted)",fontSize:"1.2rem",marginBottom:"2rem",maxWidth:"500px",margin:"0 auto 2rem auto",lineHeight:"1.6"},children:"Welcome to the future of menstrual health tracking. Let's start by adding your first cycle data."}),u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--accent), var(--accent-2))",borderRadius:"16px",padding:"2rem",marginBottom:"2rem",color:"white"},children:[u.jsx("h3",{style:{margin:"0 0 1rem 0"},children:"🎉 What Happens Next?"}),u.jsxs("div",{style:{display:"grid",gap:"1rem",textAlign:"left"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[u.jsx("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"1"}),u.jsx("span",{children:"Add your first period to start tracking"})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[u.jsx("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"2"}),u.jsx("span",{children:"AI will learn your patterns (3+ cycles for best results)"})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[u.jsx("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"50%",width:"2rem",height:"2rem",display:"flex",alignItems:"center",justifyContent:"center",fontWeight:"bold"},children:"3"}),u.jsx("span",{children:"Unlock advanced insights, predictions, and health scoring"})]})]})]}),u.jsxs("div",{style:{background:"var(--surface)",borderRadius:"12px",padding:"1.5rem",border:"1px solid var(--border)",textAlign:"left"},children:[u.jsx("h4",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"💡 Pro Tips:"}),u.jsxs("ul",{style:{color:"var(--muted)",lineHeight:"1.6",margin:0,paddingLeft:"1.5rem"},children:[u.jsx("li",{children:"Track symptoms daily for better AI insights"}),u.jsx("li",{children:"Check the AI Insights tab after 3 cycles for personalized recommendations"}),u.jsx("li",{children:"Use Smart Alerts to never miss important predictions"}),u.jsx("li",{children:"Export your data anytime for healthcare appointments"})]})]})]});default:return null}};return u.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.9)",backdropFilter:"blur(10px)",zIndex:1e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:u.jsxs("div",{style:{background:"var(--surface)",borderRadius:"24px",padding:"3rem",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflowY:"auto",border:"1px solid var(--border)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)",position:"relative"},children:[u.jsx("div",{style:{position:"absolute",top:"1rem",left:"3rem",right:"3rem",height:"4px",background:"var(--border)",borderRadius:"2px",overflow:"hidden"},children:u.jsx("div",{style:{height:"100%",background:"linear-gradient(90deg, var(--accent), var(--accent-2))",borderRadius:"2px",width:`${(t+1)/s.length*100}%`,transition:"width 0.3s ease"}})}),u.jsx("div",{style:{marginTop:"2rem"},children:f()}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"3rem",paddingTop:"2rem",borderTop:"1px solid var(--border)"},children:[u.jsx("div",{children:t>0&&u.jsx("button",{onClick:c,style:{background:"transparent",color:"var(--muted)",border:"1px solid var(--border)",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"← Previous"})}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[u.jsxs("span",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:[t+1," of ",s.length]}),u.jsx("button",{onClick:d,style:{background:"transparent",color:"var(--muted)",border:"none",padding:"0.75rem",cursor:"pointer",fontSize:"0.9rem",textDecoration:"underline"},children:"Skip"}),u.jsx("button",{onClick:l,style:{background:"linear-gradient(135deg, var(--accent), var(--accent-2))",color:"white",border:"none",padding:"0.75rem 2rem",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:t===s.length-1?"🚀 Start Tracking":"Next →"})]})]})]})})}class DT{constructor(){this.isSupported=this.checkSupport()}checkSupport(){try{return!!(typeof window<"u"&&window.PublicKeyCredential&&window.navigator&&window.navigator.credentials&&typeof window.navigator.credentials.create=="function"&&typeof window.navigator.credentials.get=="function")}catch{return!1}}generateChallenge(){const t=new Uint8Array(32);if(typeof crypto<"u"&&crypto.getRandomValues)return crypto.getRandomValues(t),t;for(let n=0;n<t.length;n++)t[n]=Math.floor(Math.random()*256);return t}bufferToBase64URL(t){const n=new Uint8Array(t);let r="";return n.forEach(i=>r+=String.fromCharCode(i)),btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}base64URLToBuffer(t){const n=t.replace(/-/g,"+").replace(/_/g,"/"),r=n.length%4,i=n+"=".repeat((4-r)%4),s=atob(i),o=new ArrayBuffer(s.length),a=new Uint8Array(o);for(let l=0;l<s.length;l++)a[l]=s.charCodeAt(l);return o}async register(t={}){if(!this.isSupported)throw new Error("Passkeys are not supported in this browser");const r={challenge:this.generateChallenge(),rp:{name:"Lunation",id:window.location.hostname},user:{id:new TextEncoder().encode(t.id||"lunation-user"),name:t.name||"Lunation User",displayName:t.displayName||"Lunation User"},pubKeyCredParams:[{alg:-7,type:"public-key"},{alg:-257,type:"public-key"}],authenticatorSelection:{authenticatorAttachment:"platform",userVerification:"required",residentKey:"required"},timeout:6e4,attestation:"direct"};try{const i=await navigator.credentials.create({publicKey:r});if(!i)throw new Error("Failed to create credential");const s={id:i.id,rawId:this.bufferToBase64URL(i.rawId),type:i.type,response:{attestationObject:this.bufferToBase64URL(i.response.attestationObject),clientDataJSON:this.bufferToBase64URL(i.response.clientDataJSON)},createdAt:new Date().toISOString(),userInfo:t};return localStorage.setItem("lunation-passkey-credential",JSON.stringify(s)),localStorage.setItem("lunation-auth-status","authenticated"),{success:!0,credentialId:i.id,userInfo:t}}catch(i){throw console.error("Passkey registration failed:",i),new Error(`Registration failed: ${i.message}`)}}async authenticate(){if(!this.isSupported)throw new Error("Passkeys are not supported in this browser");const t=localStorage.getItem("lunation-passkey-credential");if(!t)throw new Error("No passkey found. Please register first.");const n=JSON.parse(t),i={challenge:this.generateChallenge(),allowCredentials:[{id:this.base64URLToBuffer(n.rawId),type:"public-key",transports:["internal","hybrid"]}],userVerification:"required",timeout:6e4};try{const s=await navigator.credentials.get({publicKey:i});if(!s)throw new Error("Authentication failed");return n.lastAuth=new Date().toISOString(),localStorage.setItem("lunation-passkey-credential",JSON.stringify(n)),localStorage.setItem("lunation-auth-status","authenticated"),{success:!0,credentialId:s.id,userInfo:n.userInfo}}catch(s){throw console.error("Passkey authentication failed:",s),new Error(`Authentication failed: ${s.message}`)}}isAuthenticated(){const t=localStorage.getItem("lunation-auth-status"),n=localStorage.getItem("lunation-passkey-credential");return t==="authenticated"&&n}getCurrentUser(){return this.isAuthenticated()&&JSON.parse(localStorage.getItem("lunation-passkey-credential")).userInfo||null}signOut(){return localStorage.removeItem("lunation-auth-status"),{success:!0}}deleteAccount(){return localStorage.removeItem("lunation-auth-status"),localStorage.removeItem("lunation-passkey-credential"),Object.keys(localStorage).forEach(n=>{n.startsWith("lunation-")&&localStorage.removeItem(n)}),{success:!0}}getAuthStats(){const t=localStorage.getItem("lunation-passkey-credential");if(!t)return null;const n=JSON.parse(t);return{credentialId:n.id,createdAt:n.createdAt,lastAuth:n.lastAuth,userInfo:n.userInfo}}}const Ji=typeof window<"u"?new DT:{isSupported:!1,async register(){throw new Error("Passkeys are not supported in this environment")},async authenticate(){throw new Error("Passkeys are not supported in this environment")},isAuthenticated(){return!1},getCurrentUser(){return null},signOut(){return{success:!0}},deleteAccount(){return{success:!0}},getAuthStats(){return null}};function rb({isOpen:e,onClose:t,onAuthSuccess:n}){const[r,i]=L.useState("login"),[s,o]=L.useState(!1),[a,l]=L.useState(""),[c,d]=L.useState({name:"",displayName:"",id:`user_${Date.now()}`}),f=async()=>{if(!c.name.trim()){l("Please enter your name");return}o(!0),l("");try{const p=await Ji.register({...c,displayName:c.displayName||c.name});p.success&&(n(p.userInfo),t())}catch(p){l(p.message)}finally{o(!1)}},h=async()=>{o(!0),l("");try{const p=await Ji.authenticate();p.success&&(n(p.userInfo),t())}catch(p){l(p.message),p.message.includes("No passkey found")&&i("register")}finally{o(!1)}};return e?u.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(10px)",zIndex:2e3,display:"flex",alignItems:"center",justifyContent:"center",padding:"2rem"},children:[u.jsxs("div",{style:{background:"var(--surface)",borderRadius:"20px",padding:"3rem",maxWidth:"480px",width:"100%",border:"1px solid var(--border)",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.5)",position:"relative"},children:[u.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[u.jsx("div",{style:{fontSize:"4rem",marginBottom:"1rem"},children:"🔐"}),u.jsx("h2",{style:{color:"var(--accent)",marginBottom:"0.5rem",fontSize:"2rem"},children:r==="register"?"Secure Your Lunation":"Welcome Back"}),u.jsx("p",{style:{color:"var(--muted)",fontSize:"1rem",lineHeight:"1.5"},children:r==="register"?"Set up passwordless authentication with your device's biometrics or security key":"Use your device's biometrics or security key to sign in"})]}),!Ji.isSupported&&u.jsxs("div",{style:{background:"var(--warning-light)",border:"1px solid var(--warning)",borderRadius:"12px",padding:"1rem",marginBottom:"2rem",color:"var(--text)"},children:[u.jsx("strong",{children:"⚠️ Passkeys Not Supported"}),u.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.9rem"},children:"Your browser doesn't support passkeys. You can still use Lunation with local storage."})]}),r==="register"&&u.jsxs("div",{style:{marginBottom:"2rem"},children:[u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text)",fontSize:"0.9rem",fontWeight:"500"},children:"Your Name *"}),u.jsx("input",{type:"text",value:c.name,onChange:p=>d(m=>({...m,name:p.target.value})),placeholder:"Enter your name",style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--bg)",color:"var(--text)",fontSize:"1rem"}})]}),u.jsxs("div",{style:{marginBottom:"2rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text)",fontSize:"0.9rem",fontWeight:"500"},children:"Display Name (optional)"}),u.jsx("input",{type:"text",value:c.displayName,onChange:p=>d(m=>({...m,displayName:p.target.value})),placeholder:"How should we display your name?",style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--bg)",color:"var(--text)",fontSize:"1rem"}})]})]}),a&&u.jsxs("div",{style:{background:"var(--danger-light)",border:"1px solid var(--danger)",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",color:"var(--text)",fontSize:"0.9rem"},children:[u.jsx("strong",{children:"Error:"})," ",a]}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[Ji.isSupported&&u.jsx("button",{onClick:r==="register"?f:h,disabled:s||r==="register"&&!c.name.trim(),style:{background:s||r==="register"&&!c.name.trim()?"var(--muted)":"linear-gradient(135deg, var(--accent), var(--accent-2))",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"12px",cursor:s||r==="register"&&!c.name.trim()?"not-allowed":"pointer",fontSize:"1rem",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",transition:"all 0.2s"},children:s?u.jsxs(u.Fragment,{children:[u.jsx("div",{style:{width:"1rem",height:"1rem",border:"2px solid rgba(255,255,255,0.3)",borderTop:"2px solid white",borderRadius:"50%",animation:"spin 1s linear infinite"}}),r==="register"?"Creating Passkey...":"Authenticating..."]}):u.jsx(u.Fragment,{children:r==="register"?"🔐 Create Passkey":"🔓 Sign in with Passkey"})}),u.jsx("button",{onClick:()=>{n({name:"Guest User",local:!0}),t()},style:{background:"transparent",color:"var(--muted)",border:"1px solid var(--border)",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s"},children:"Continue without Account (Local Only)"}),r==="login"&&u.jsx("button",{onClick:()=>i("register"),style:{background:"transparent",color:"var(--accent)",border:"none",padding:"0.5rem",cursor:"pointer",fontSize:"0.9rem",textDecoration:"underline"},children:"Don't have a passkey? Create one"}),r==="register"&&u.jsx("button",{onClick:()=>i("login"),style:{background:"transparent",color:"var(--accent)",border:"none",padding:"0.5rem",cursor:"pointer",fontSize:"0.9rem",textDecoration:"underline"},children:"Already have a passkey? Sign in"})]}),u.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",background:"var(--surface-2)",borderRadius:"8px",border:"1px solid var(--border)"},children:[u.jsx("h4",{style:{color:"var(--text)",marginBottom:"0.5rem",fontSize:"0.9rem"},children:"🔒 What are Passkeys?"}),u.jsx("p",{style:{color:"var(--muted)",fontSize:"0.8rem",lineHeight:"1.4",margin:0},children:"Passkeys are a secure, passwordless way to sign in using your device's biometrics (Face ID, Touch ID, fingerprint) or security keys. They're more secure than passwords and unique to each site."})]}),u.jsx("button",{onClick:t,style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",color:"var(--muted)",cursor:"pointer",fontSize:"1.5rem",padding:"0.5rem",borderRadius:"50%",width:"2.5rem",height:"2.5rem",display:"flex",alignItems:"center",justifyContent:"center"},children:"×"})]}),u.jsx("style",{children:`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `})]}):null}function jT(){const e=new Date().getFullYear();return u.jsxs("footer",{style:{background:"linear-gradient(135deg, var(--surface-2), var(--surface))",borderTop:"1px solid var(--border)",marginTop:"auto",padding:"3rem 2rem 2rem",color:"var(--text)"},children:[u.jsxs("div",{style:{maxWidth:"1200px",margin:"0 auto",display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"3rem",marginBottom:"2rem"},children:[u.jsxs("div",{children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"1rem"},children:[u.jsx("span",{style:{fontSize:"2rem"},children:"🌙"}),u.jsx("h3",{style:{margin:0,fontSize:"1.5rem",background:"linear-gradient(135deg, var(--accent), var(--accent-2))",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},children:"Lunation"})]}),u.jsx("p",{style:{color:"var(--muted)",lineHeight:"1.6",marginBottom:"1.5rem",fontSize:"0.95rem"},children:"Revolutionary AI-powered menstrual cycle tracking with advanced predictive intelligence, health insights, and privacy-first design. Your personal reproductive health companion."}),u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--accent-2)20, var(--accent)20)",border:"1px solid var(--accent)",borderRadius:"12px",padding:"1rem",fontSize:"0.85rem"},children:[u.jsx("strong",{style:{color:"var(--accent)"},children:"🎉 Version 3.0.0"}),u.jsx("div",{style:{color:"var(--muted)",marginTop:"0.25rem"},children:"Phase 3: AI Intelligence, PWA, Research Hub"})]})]}),u.jsxs("div",{children:[u.jsx("h4",{style:{color:"var(--accent)",marginBottom:"1rem",fontSize:"1.1rem"},children:"Created by Thomas Kase Black"}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem"},children:[u.jsxs("a",{href:"https://github.com/Thatkidtk",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--text)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem",borderRadius:"8px",transition:"background-color 0.2s",fontSize:"0.9rem"},onMouseEnter:t=>t.target.style.backgroundColor="var(--surface-glass)",onMouseLeave:t=>t.target.style.backgroundColor="transparent",children:[u.jsx("span",{style:{fontSize:"1.2rem"},children:"👨‍💻"}),u.jsx("span",{children:"GitHub: @Thatkidtk"})]}),u.jsxs("a",{href:"https://linkedin.com/in/thomas-kase-black",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--text)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem",borderRadius:"8px",transition:"background-color 0.2s",fontSize:"0.9rem"},onMouseEnter:t=>t.target.style.backgroundColor="var(--surface-glass)",onMouseLeave:t=>t.target.style.backgroundColor="transparent",children:[u.jsx("span",{style:{fontSize:"1.2rem"},children:"💼"}),u.jsx("span",{children:"LinkedIn Profile"})]}),u.jsxs("a",{href:"https://thatkidtk.dev",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--text)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem",borderRadius:"8px",transition:"background-color 0.2s",fontSize:"0.9rem"},onMouseEnter:t=>t.target.style.backgroundColor="var(--surface-glass)",onMouseLeave:t=>t.target.style.backgroundColor="transparent",children:[u.jsx("span",{style:{fontSize:"1.2rem"},children:"🌐"}),u.jsx("span",{children:"Portfolio Website"})]}),u.jsxs("a",{href:"mailto:thomas@thatkidtk.dev",style:{color:"var(--text)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem",borderRadius:"8px",transition:"background-color 0.2s",fontSize:"0.9rem"},onMouseEnter:t=>t.target.style.backgroundColor="var(--surface-glass)",onMouseLeave:t=>t.target.style.backgroundColor="transparent",children:[u.jsx("span",{style:{fontSize:"1.2rem"},children:"📧"}),u.jsx("span",{children:"thomas@thatkidtk.dev"})]})]}),u.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--surface)",borderRadius:"8px",border:"1px solid var(--border)"},children:[u.jsxs("div",{style:{color:"var(--text)",fontSize:"0.85rem",marginBottom:"0.5rem"},children:["💡 ",u.jsx("strong",{children:"Passionate Full-Stack Developer"})]}),u.jsx("div",{style:{color:"var(--muted)",fontSize:"0.8rem",lineHeight:"1.4"},children:"Specializing in React, AI integration, and privacy-focused health applications. Available for consulting and custom development projects."})]})]}),u.jsxs("div",{children:[u.jsx("h4",{style:{color:"var(--accent)",marginBottom:"1rem",fontSize:"1.1rem"},children:"Project & Support"}),u.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.75rem",marginBottom:"1.5rem"},children:[u.jsxs("a",{href:"https://github.com/Thatkidtk/Lunation",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--text)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem",borderRadius:"8px",transition:"background-color 0.2s",fontSize:"0.9rem"},onMouseEnter:t=>t.target.style.backgroundColor="var(--surface-glass)",onMouseLeave:t=>t.target.style.backgroundColor="transparent",children:[u.jsx("span",{style:{fontSize:"1.2rem"},children:"⭐"}),u.jsx("span",{children:"Star on GitHub"})]}),u.jsxs("a",{href:"https://github.com/Thatkidtk/Lunation/issues",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--text)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem",borderRadius:"8px",transition:"background-color 0.2s",fontSize:"0.9rem"},onMouseEnter:t=>t.target.style.backgroundColor="var(--surface-glass)",onMouseLeave:t=>t.target.style.backgroundColor="transparent",children:[u.jsx("span",{style:{fontSize:"1.2rem"},children:"🐛"}),u.jsx("span",{children:"Report Issues"})]}),u.jsxs("a",{href:"https://github.com/Thatkidtk/Lunation/blob/main/README.md",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--text)",textDecoration:"none",display:"flex",alignItems:"center",gap:"0.75rem",padding:"0.5rem",borderRadius:"8px",transition:"background-color 0.2s",fontSize:"0.9rem"},onMouseEnter:t=>t.target.style.backgroundColor="var(--surface-glass)",onMouseLeave:t=>t.target.style.backgroundColor="transparent",children:[u.jsx("span",{style:{fontSize:"1.2rem"},children:"📚"}),u.jsx("span",{children:"Documentation"})]})]}),u.jsxs("div",{style:{background:"var(--surface)",borderRadius:"8px",padding:"1rem",border:"1px solid var(--border)"},children:[u.jsxs("div",{style:{color:"var(--text)",fontSize:"0.85rem",marginBottom:"0.75rem"},children:["🏗️ ",u.jsx("strong",{children:"Built With:"})]}),u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem",fontSize:"0.8rem"},children:["React 18","Vite","AI/ML","WebAuthn","PWA","Chart.js","Web Crypto API","Service Worker","Local Storage"].map(t=>u.jsx("span",{style:{background:"var(--accent)20",color:"var(--accent)",padding:"0.25rem 0.5rem",borderRadius:"4px",border:"1px solid var(--accent)40"},children:t},t))})]})]})]}),u.jsxs("div",{style:{borderTop:"1px solid var(--border)",paddingTop:"2rem",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[u.jsxs("div",{style:{color:"var(--muted)",fontSize:"0.9rem"},children:["© ",e," Thomas Kase Black. Built with ❤️ for better reproductive health."]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",fontSize:"0.85rem",color:"var(--muted)"},children:[u.jsx("span",{children:"🔒 Privacy-First"}),u.jsx("span",{children:"•"}),u.jsx("span",{children:"🌙 Open Source"}),u.jsx("span",{children:"•"}),u.jsx("span",{children:"🧠 AI-Powered"})]})]}),u.jsxs("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"var(--warning-light)",border:"1px solid var(--warning)",borderRadius:"8px",fontSize:"0.8rem",color:"var(--text)",lineHeight:"1.4"},children:[u.jsx("strong",{children:"⚕️ Medical Disclaimer:"})," Lunation is for informational purposes only and should not replace professional medical advice. Always consult healthcare providers for birth control decisions, fertility planning, or health concerns. The app's predictions are estimates based on your data and may not be accurate for medical purposes."]})]})}class AT{constructor(t=[],n=[]){this.cycles=t,this.symptoms=n,this.patterns=this.analyzePatterns()}analyzePatterns(){if(this.cycles.length<3)return{confidence:"low",patterns:[]};const t=this.cycles.map(i=>i.length||28),n=this.cycles.map(i=>i.flowIntensity||"medium"),r=this.analyzeSymptomPatterns();return{cycleVariability:this.calculateVariability(t),flowConsistency:this.analyzeFlowConsistency(n),symptomCorrelations:r,anomalies:this.detectAnomalies(),confidence:this.calculateConfidence(),healthScore:this.calculateHealthScore()}}calculateVariability(t){const n=t.reduce((o,a)=>o+a,0)/t.length,r=t.reduce((o,a)=>o+Math.pow(a-n,2),0)/t.length,i=Math.sqrt(r),s=i/n*100;return{mean:Math.round(n*10)/10,standardDeviation:Math.round(i*10)/10,variability:Math.round(s*10)/10,consistency:s<10?"high":s<20?"moderate":"low"}}analyzeFlowConsistency(t){const n=t.reduce((s,o)=>(s[o]=(s[o]||0)+1,s),{}),r=Object.keys(n).reduce((s,o)=>n[s]>n[o]?s:o),i=n[r]/t.length*100;return{distribution:n,mostCommon:r,consistency:Math.round(i),pattern:i>70?"consistent":i>40?"variable":"irregular"}}analyzeSymptomPatterns(){if(!this.symptoms.length)return{correlations:[],insights:[]};const t={},n={};this.symptoms.forEach(i=>{const s=this.getCycleDayForSymptom(i);s&&(n[i.type]||(n[i.type]=[]),n[i.type].push(s)),t[i.type]=(t[i.type]||0)+1});const r=Object.keys(n).map(i=>{const s=n[i],o=s.reduce((a,l)=>a+l,0)/s.length;return{symptom:i,averageDay:Math.round(o),frequency:t[i],phase:this.getCyclePhase(o),pattern:this.identifySymptomPattern(s)}});return{correlations:r,insights:this.generateSymptomInsights(r)}}detectAnomalies(){if(this.cycles.length<5)return{anomalies:[],riskLevel:"insufficient-data"};const t=[],n=this.cycles.map(o=>o.length||28),r=n.reduce((o,a)=>o+a,0)/n.length,i=Math.sqrt(n.reduce((o,a)=>o+Math.pow(a-r,2),0)/n.length);this.cycles.forEach((o,a)=>{const l=o.length||28,c=Math.abs(l-r)/i;c>2&&t.push({type:"unusual-length",cycle:a+1,length:l,severity:c>3?"high":"moderate",date:o.startDate}),l>45&&t.push({type:"missed-period",cycle:a+1,length:l,severity:"high",date:o.startDate}),l<21&&t.push({type:"short-cycle",cycle:a+1,length:l,severity:l<18?"high":"moderate",date:o.startDate})});const s=this.calculateRiskLevel(t,n);return{anomalies:t,riskLevel:s,recommendations:this.generateRecommendations(t)}}calculateConfidence(){const t={dataAmount:Math.min(this.cycles.length/12,1)*40,consistency:this.getConsistencyScore()*30,recentData:this.getRecentDataScore()*20,completeness:this.getDataCompletenessScore()*10},n=Object.values(t).reduce((r,i)=>r+i,0);return{score:Math.round(n),factors:t,level:n>=80?"high":n>=60?"medium":"low"}}calculateHealthScore(){var s,o;let t=85;const n=((s=this.patterns.cycleVariability)==null?void 0:s.variability)||15;n<10?t+=10:n>25&&(t-=15);const i=(((o=this.patterns.anomalies)==null?void 0:o.anomalies)||[]).filter(a=>a.severity==="high").length;if(t-=i*10,this.symptoms.length>0){const a=this.symptoms.filter(l=>l.severity==="severe").length;t-=a*5}return{score:Math.max(0,Math.min(100,Math.round(t))),category:this.getHealthCategory(t),factors:{cycleRegularity:n<10?"excellent":n<20?"good":"needs-attention",anomalyRisk:i===0?"low":"elevated",symptomSeverity:this.getOverallSymptomSeverity()}}}generateAdvancedPredictions(){return this.cycles.length<2?this.getBasicPredictions():{...{nextPeriod:this.predictNextPeriod(),ovulation:this.predictOvulation(),fertilityWindow:this.predictFertilityWindow(),symptoms:this.predictSymptoms(),riskAssessment:this.assessUpcomingRisks()},confidence:this.calculateConfidence(),lastUpdated:new Date().toISOString()}}predictNextPeriod(){const t=this.cycles.slice(-6),n=[.5,.3,.15,.04,.009,.001];let r=0,i=0;t.reverse().forEach((l,c)=>{l.length&&c<n.length&&(r+=l.length*n[c],i+=n[c])});const s=Math.round(r/i)||28,o=new Date(this.cycles[this.cycles.length-1].startDate),a=new Date(o.getTime()+s*24*60*60*1e3);return{date:a.toISOString().split("T")[0],predictedLength:s,confidence:this.calculatePredictionConfidence("period"),daysFromNow:Math.ceil((a-new Date)/(1e3*60*60*24))}}getCycleDayForSymptom(t){const n=new Date(t.date),r=this.cycles.find(i=>{const s=new Date(i.startDate),o=i.endDate?new Date(i.endDate):new Date(s.getTime()+(i.length||28)*24*60*60*1e3);return n>=s&&n<=o});if(r){const i=new Date(r.startDate);return Math.ceil((n-i)/(1e3*60*60*24))+1}return null}getCyclePhase(t){return t<=7?"menstrual":t<=13?"follicular":t<=16?"ovulatory":"luteal"}getConsistencyScore(){var n;const t=((n=this.patterns.cycleVariability)==null?void 0:n.variability)||20;return Math.max(0,(25-t)/25)}getRecentDataScore(){if(this.cycles.length===0)return 0;const t=new Date(this.cycles[this.cycles.length-1].startDate),n=(new Date-t)/(1e3*60*60*24);return Math.max(0,(45-n)/45)}getDataCompletenessScore(){const t=this.cycles.length,n=this.cycles.filter(r=>r.startDate&&r.length).length;return t>0?n/t:0}calculateRiskLevel(t,n){const r=t.filter(s=>s.severity==="high").length,i=t.filter(s=>{const o=new Date(s.date),a=new Date;return a.setMonth(a.getMonth()-6),o>=a}).length;return r>=2||i>=3?"high":r>=1||i>=2?"moderate":"low"}getHealthCategory(t){return t>=90?"excellent":t>=75?"good":t>=60?"fair":"needs-attention"}getOverallSymptomSeverity(){if(!this.symptoms.length)return"none";const t=this.symptoms.filter(r=>r.severity==="severe").length,n=this.symptoms.filter(r=>r.severity==="moderate").length;return t>this.symptoms.length*.3?"high":n>this.symptoms.length*.5?"moderate":"low"}generateRecommendations(t){const n=[];return t.forEach(r=>{switch(r.type){case"missed-period":n.push({type:"medical",priority:"high",message:"Consider consulting a healthcare provider about missed periods.",action:"Schedule appointment"});break;case"unusual-length":n.push({type:"tracking",priority:"medium",message:"Continue tracking to monitor cycle length variations.",action:"Monitor closely"});break;case"short-cycle":n.push({type:"lifestyle",priority:"medium",message:"Consider stress management and adequate sleep.",action:"Review lifestyle factors"});break}}),n}generateSymptomInsights(t){return t.map(n=>{const r=[];return n.frequency>this.cycles.length*.7&&r.push(`${n.symptom} occurs frequently (${n.frequency}/${this.cycles.length} cycles)`),n.phase==="menstrual"?r.push(`${n.symptom} typically occurs during menstruation`):n.phase==="ovulatory"&&r.push(`${n.symptom} may be related to ovulation`),{symptom:n.symptom,insights:r}})}}function Ia(e,t){return new AT(e,t)}function Ey(){var h,p,m;const{state:e}=gn(),{cycles:t,predictions:n,symptoms:r}=e,i=t.length>=3?Ia(t,r||[]):null,s=i?i.generateAdvancedPredictions():null,o=i?i.patterns.healthScore:null,a={totalCycles:t.length,averageLength:t.length>0?Math.round(t.reduce((g,_)=>g+(_.length||28),0)/t.length):28,nextPeriod:s?s.nextPeriod.date:n.nextPeriod,fertilityWindow:s?s.fertilityWindow:n.fertilityWindow,confidence:s?s.confidence.score:null},l=g=>g?new Date(g).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not calculated yet",c=g=>{if(!g)return null;const _=new Date,v=new Date(g).getTime()-_.getTime();return Math.ceil(v/(1e3*60*60*24))},d=g=>g>=80?"#28a745":g>=60?"#ffc107":"#dc3545",f=g=>g>=80?"High Confidence":g>=60?"Medium Confidence":"Low Confidence";return u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"Dashboard"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginTop:"1rem"},children:[u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--accent), var(--accent-2))",color:"white",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[u.jsx("h3",{style:{fontSize:"2rem",margin:"0"},children:a.totalCycles}),u.jsx("p",{style:{opacity:"0.9",margin:"0.5rem 0 0 0"},children:"Cycles Tracked"}),a.confidence&&u.jsxs("div",{style:{fontSize:"0.8rem",opacity:"0.8",marginTop:"0.5rem"},children:["🤖 ",a.confidence,"% AI Confidence"]})]}),u.jsxs("div",{style:{background:o?`linear-gradient(135deg, ${o.score>=85?"#28a745, #20c997":o.score>=70?"#20c997, #3aa6a6":"#ffc107, #fd7e14"})`:"linear-gradient(135deg, #3aa6a6, #5ce0ff)",color:"white",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[u.jsx("h3",{style:{fontSize:"2rem",margin:"0"},children:o?o.score:a.averageLength}),u.jsx("p",{style:{opacity:"0.9",margin:"0.5rem 0 0 0"},children:o?"Health Score":"Average Cycle Length"}),o&&u.jsx("div",{style:{fontSize:"0.8rem",opacity:"0.8",marginTop:"0.5rem",textTransform:"capitalize"},children:o.category.replace("-"," ")})]}),u.jsxs("div",{style:{background:"linear-gradient(135deg, #9158ff, #3a2e8f)",color:"white",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[u.jsx("h3",{style:{fontSize:"1.2rem",margin:"0"},children:c(a.nextPeriod)!==null?c(a.nextPeriod)>0?`${c(a.nextPeriod)} days`:c(a.nextPeriod)===0?"Today":`${Math.abs(c(a.nextPeriod))} days late`:"N/A"}),u.jsx("p",{style:{opacity:"0.9",margin:"0.5rem 0 0 0"},children:c(a.nextPeriod)!==null&&c(a.nextPeriod)<0?"Period Status":"Until Next Period"}),s&&u.jsxs("div",{style:{fontSize:"0.8rem",opacity:"0.8",marginTop:"0.5rem"},children:["🎯 ",s.nextPeriod.confidence,"% accurate"]})]}),o&&i&&u.jsxs("div",{style:{background:"linear-gradient(135deg, #6f42c1, #e83e8c)",color:"white",padding:"1rem",borderRadius:"8px",textAlign:"center"},children:[u.jsx("h3",{style:{fontSize:"1.2rem",margin:"0"},children:((p=(h=i.patterns.anomalies)==null?void 0:h.anomalies)==null?void 0:p.length)||0}),u.jsx("p",{style:{opacity:"0.9",margin:"0.5rem 0 0 0"},children:"Health Alerts"}),u.jsxs("div",{style:{fontSize:"0.8rem",opacity:"0.8",marginTop:"0.5rem",textTransform:"capitalize"},children:[((m=i.patterns.anomalies)==null?void 0:m.riskLevel)||"low"," risk"]})]})]}),u.jsxs("div",{style:{marginTop:"2rem"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"Smart Predictions"}),u.jsx("div",{style:{background:"linear-gradient(135deg, var(--surface-2), var(--surface))",padding:"1.5rem",borderRadius:"12px",marginBottom:"1rem"},children:u.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{children:[u.jsx("strong",{children:"Next Period:"})," ",l(a.nextPeriod)]}),n.confidence&&u.jsxs("div",{style:{background:d(n.confidence.nextPeriod),color:"white",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"bold"},children:[n.confidence.nextPeriod,"% ",f(n.confidence.nextPeriod)]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[u.jsxs("div",{children:[u.jsx("strong",{children:"Fertility Window:"})," ",a.fertilityWindow.start&&a.fertilityWindow.end?`${l(a.fertilityWindow.start)} - ${l(a.fertilityWindow.end)}`:"Not calculated yet"]}),n.confidence&&u.jsxs("div",{style:{background:d(n.confidence.ovulation),color:"white",padding:"0.25rem 0.75rem",borderRadius:"12px",fontSize:"0.8rem",fontWeight:"bold"},children:[n.confidence.ovulation,"% ",f(n.confidence.ovulation)]})]}),n.accuracy!==null&&u.jsxs("div",{style:{background:"var(--surface-2)",padding:"1rem",borderRadius:"8px",fontSize:"0.9rem"},children:[u.jsx("strong",{children:"Historical Accuracy:"})," ",n.accuracy,"%",u.jsxs("span",{style:{color:"var(--muted)",marginLeft:"0.5rem"},children:["(based on past ",t.length-2," predictions)"]})]}),n.cycleLengthVariance!==void 0&&t.length>2&&u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:[u.jsx("strong",{children:"Cycle Consistency:"})," ±",n.cycleLengthVariance," days variation",n.cycleLengthVariance<=3&&u.jsx("span",{style:{color:"var(--success)"},children:" (Very Regular)"}),n.cycleLengthVariance>3&&n.cycleLengthVariance<=7&&u.jsx("span",{style:{color:"var(--warning)"},children:" (Regular)"}),n.cycleLengthVariance>7&&u.jsx("span",{style:{color:"var(--danger)"},children:" (Variable)"})]})]})}),t.length<3&&u.jsxs("div",{style:{background:"rgba(155,140,255,0.12)",border:"1px solid var(--border)",borderRadius:"8px",padding:"1rem",fontSize:"0.9rem"},children:[u.jsx("strong",{children:"Tip:"})," Track at least 3 cycles for more accurate predictions and confidence scoring."]})]})]})}function PT(){var m;const{state:e}=gn(),{cycles:t,predictions:n}=e,[r,i]=L.useState(new Date),s=g=>new Date(g.getFullYear(),g.getMonth()+1,0).getDate(),o=g=>new Date(g.getFullYear(),g.getMonth(),1).getDay(),a=(g,_)=>g.getFullYear()===_.getFullYear()&&g.getMonth()===_.getMonth()&&g.getDate()===_.getDate(),l=g=>{for(const _ of t){const y=new Date(_.startDate),v=_.endDate?new Date(_.endDate):null;if(a(g,y))return"period-start";if(v&&g>=y&&g<=v)return"period";if(!v&&a(g,y))return"period-start"}if(n.nextPeriod&&a(g,new Date(n.nextPeriod)))return"predicted-period";if(n.fertilityWindow.start&&n.fertilityWindow.end){const _=new Date(n.fertilityWindow.start),y=new Date(n.fertilityWindow.end);if(g>=_&&g<=y)return"fertile"}return"normal"},c=g=>{const _={width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",cursor:"pointer",transition:"all 0.2s"};switch(g){case"period-start":return{..._,backgroundColor:"#9158ff",color:"white",fontWeight:"bold"};case"period":return{..._,backgroundColor:"#5e4bd8",color:"white"};case"predicted-period":return{..._,backgroundColor:"#3a2e8f",color:"#e6e8ef",border:"2px dashed #9b8cff"};case"fertile":return{..._,backgroundColor:"#2a7c7c",color:"#c7f2f2"};default:return{..._}}},d=()=>{const g=s(r),_=o(r),y=[];for(let v=0;v<_;v++)y.push(u.jsx("div",{style:{width:"40px",height:"40px"}},`empty-${v}`));for(let v=1;v<=g;v++){const x=new Date(r.getFullYear(),r.getMonth(),v),S=l(x);y.push(u.jsx("div",{style:c(S),title:`${x.toDateString()} - ${S.replace("-"," ")}`,children:v},v))}return y},f=g=>{i(_=>{const y=new Date(_);return y.setMonth(_.getMonth()+g),y})},h=["January","February","March","April","May","June","July","August","September","October","November","December"],p=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];return u.jsxs("div",{className:"card",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[u.jsx("h2",{children:"Cycle Calendar"}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[u.jsx("button",{onClick:()=>f(-1),className:"btn btn-secondary",children:"←"}),u.jsxs("h3",{style:{margin:0,color:"var(--accent)"},children:[h[r.getMonth()]," ",r.getFullYear()]}),u.jsx("button",{onClick:()=>f(1),className:"btn btn-secondary",children:"→"})]})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",marginBottom:"1rem"},children:p.map(g=>u.jsx("div",{style:{textAlign:"center",fontWeight:"600",color:"#666",padding:"0.5rem"},children:g},g))}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:"8px",justifyItems:"center"},children:d()}),n&&Array.isArray(n.probabilityCurve)&&n.probabilityCurve.length>0&&u.jsxs("div",{style:{marginTop:"1.5rem"},children:[u.jsx("h4",{style:{color:"var(--accent)",marginBottom:"0.75rem"},children:"Prediction Confidence"}),u.jsx("div",{role:"img","aria-label":"Probability distribution for next period date",style:{display:"flex",alignItems:"flex-end",gap:"6px",height:"96px",padding:"8px 10px",border:"1px solid var(--border)",borderRadius:"10px",background:"var(--surface)"},children:(()=>{const g=n.probabilityCurve.slice().sort((y,v)=>new Date(y.date)-new Date(v.date)),_=Math.max(...g.map(y=>y.probability||0),.001);return g.map((y,v)=>{const x=(y.probability||0)/_,S=Math.max(12,Math.round(x*88)),b=v===Math.floor(g.length/2),k=`${new Date(y.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})}: ${(y.probability*100).toFixed(1)}%`;return u.jsxs("div",{style:{textAlign:"center"},children:[u.jsx("div",{title:k,"aria-label":k,style:{width:"14px",height:`${S}px`,background:b?"linear-gradient(180deg, var(--accent), #3a2e8f)":"linear-gradient(180deg, #5e4bd8, #2b275a)",borderRadius:"6px",border:b?"1px solid var(--border-accent)":"1px solid var(--border)"}}),u.jsx("div",{style:{fontSize:"0.7rem",color:"var(--muted)",marginTop:"4px"},children:b?"0":v-Math.floor(g.length/2)})]},y.date)})})()}),u.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"0.5rem",fontSize:"0.9rem",color:"var(--muted)"},children:[u.jsxs("div",{children:["Confidence: ",((m=n.confidence)==null?void 0:m.nextPeriod)??0,"% · Variation: ±",n.cycleLengthVariance??0," days"]}),u.jsx("div",{children:"Tip: Taller bar = higher chance; 0 marks the predicted start."})]})]}),u.jsxs("div",{style:{marginTop:"2rem"},children:[u.jsx("h4",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"Legend"}),u.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"1rem",fontSize:"0.875rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("div",{style:{...c("period-start"),width:"20px",height:"20px",fontSize:"0.75rem"},children:"●"}),"Period Start"]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("div",{style:{...c("period"),width:"20px",height:"20px",fontSize:"0.75rem"},children:"●"}),"Period"]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("div",{style:{...c("fertile"),width:"20px",height:"20px",fontSize:"0.75rem"},children:"●"}),"Fertile Window"]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("div",{style:{...c("predicted-period"),width:"20px",height:"20px",fontSize:"0.75rem"},children:"○"}),"Predicted Period"]})]})]})]})}let vt;function OT(){const[e,t]=L.useState([]),[n,r]=L.useState(null);L.useEffect(()=>(vt=s=>t(o=>[...o,s]),()=>{vt=void 0}),[]),L.useEffect(()=>{if(typeof document<"u"&&document.body)r(document.body);else{const s=()=>r(document.body);return window.addEventListener("DOMContentLoaded",s,{once:!0}),()=>window.removeEventListener("DOMContentLoaded",s)}},[]);const i=s=>t(o=>o.filter(a=>a.id!==s));return n?QS.createPortal(u.jsx("div",{className:"toast-host","aria-live":"polite","aria-atomic":"true",children:e.map(s=>u.jsx(NT,{item:s,onClose:()=>i(s.id)},s.id))}),n):null}function NT({item:e,onClose:t}){const{type:n,msg:r,duration:i=2500,action:s}=e,o=L.useRef(void 0),[a,l]=L.useState(!1);L.useEffect(()=>(o.current=window.setTimeout(()=>{l(!0),window.setTimeout(t,150)},i),()=>{o.current&&window.clearTimeout(o.current)}),[i,t]);const c=()=>{o.current&&window.clearTimeout(o.current);try{s==null||s.onClick()}finally{t()}};return u.jsxs("div",{role:"status",className:`toast ${n} ${a?"toast-leave":"toast-enter"}`,children:[u.jsx("span",{className:"toast-msg",children:r}),s&&u.jsx("button",{className:"toast-action",onClick:c,"aria-label":s.label,children:s.label})]})}const ii={success:e=>vt==null?void 0:vt({id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`t-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,type:"success",msg:e}),error:e=>vt==null?void 0:vt({id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`t-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,type:"error",msg:e}),info:e=>vt==null?void 0:vt({id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`t-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,type:"info",msg:e}),infoAction:(e,t,n)=>vt==null?void 0:vt({id:typeof crypto<"u"&&crypto.randomUUID?crypto.randomUUID():`t-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,8)}`,type:"info",msg:e,duration:t,action:n})};let jo;function LT(){const[e,t]=L.useState(""),n=L.useRef(void 0);return L.useEffect(()=>(jo=r=>{t(""),window.setTimeout(()=>t(r),10),n.current&&window.clearTimeout(n.current),n.current=window.setTimeout(()=>t(""),3e3)},()=>{jo=void 0,n.current&&window.clearTimeout(n.current)}),[]),u.jsx("div",{"aria-live":"polite","aria-atomic":"true",style:{position:"absolute",width:1,height:1,overflow:"hidden",clip:"rect(1px, 1px, 1px, 1px)"},children:e})}function si(e){jo==null||jo(e)}const H=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,le=globalThis,oi="10.10.0";function Ci(){return ju(le),le}function ju(e){const t=e.__SENTRY__=e.__SENTRY__||{};return t.version=t.version||oi,t[oi]=t[oi]||{}}function Ra(e,t,n=le){const r=n.__SENTRY__=n.__SENTRY__||{},i=r[oi]=r[oi]||{};return i[e]||(i[e]=t())}const zT=["debug","info","warn","error","log","assert","trace"],FT="Sentry Logger ",Bc={};function Ti(e){if(!("console"in le))return e();const t=le.console,n={},r=Object.keys(Bc);r.forEach(i=>{const s=Bc[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function BT(){Kp().enabled=!0}function $T(){Kp().enabled=!1}function ib(){return Kp().enabled}function WT(...e){Gp("log",...e)}function UT(...e){Gp("warn",...e)}function HT(...e){Gp("error",...e)}function Gp(e,...t){H&&ib()&&Ti(()=>{le.console[e](`${FT}[${e}]:`,...t)})}function Kp(){return H?Ra("loggerSettings",()=>({enabled:!1})):{enabled:!1}}const N={enable:BT,disable:$T,isEnabled:ib,log:WT,warn:UT,error:HT},sb=50,yi="?",Cy=/\(error: (.*)\)/,Ty=/captureMessage|captureException/;function ob(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0,i=0)=>{const s=[],o=n.split(`
`);for(let a=r;a<o.length;a++){let l=o[a];l.length>1024&&(l=l.slice(0,1024));const c=Cy.test(l)?l.replace(Cy,"$1"):l;if(!c.match(/\S*Error: /)){for(const d of t){const f=d(c);if(f){s.push(f);break}}if(s.length>=sb+i)break}}return ZT(s.slice(i))}}function VT(e){return Array.isArray(e)?ob(...e):e}function ZT(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(ll(t).function||"")&&t.pop(),t.reverse(),Ty.test(ll(t).function||"")&&(t.pop(),Ty.test(ll(t).function||"")&&t.pop()),t.slice(0,sb).map(n=>({...n,filename:n.filename||ll(t).filename,function:n.function||yi}))}function ll(e){return e[e.length-1]||{}}const Ad="<anonymous>";function Yn(e){try{return!e||typeof e!="function"?Ad:e.name||Ad}catch{return Ad}}function Iy(e){const t=e.exception;if(t){const n=[];try{return t.values.forEach(r=>{r.stacktrace.frames&&n.push(...r.stacktrace.frames)}),n}catch{return}}}const ec={},Ry={};function Nr(e,t){ec[e]=ec[e]||[],ec[e].push(t)}function Lr(e,t){if(!Ry[e]){Ry[e]=!0;try{t()}catch(n){H&&N.error(`Error while instrumenting ${e}`,n)}}}function Gt(e,t){const n=e&&ec[e];if(n)for(const r of n)try{r(t)}catch(i){H&&N.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Yn(r)}
Error:`,i)}}let Pd=null;function ab(e){const t="error";Nr(t,e),Lr(t,YT)}function YT(){Pd=le.onerror,le.onerror=function(e,t,n,r,i){return Gt("error",{column:r,error:i,line:n,msg:e,url:t}),Pd?Pd.apply(this,arguments):!1},le.onerror.__SENTRY_INSTRUMENTED__=!0}let Od=null;function lb(e){const t="unhandledrejection";Nr(t,e),Lr(t,qT)}function qT(){Od=le.onunhandledrejection,le.onunhandledrejection=function(e){return Gt("unhandledrejection",e),Od?Od.apply(this,arguments):!0},le.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const cb=Object.prototype.toString;function Au(e){switch(cb.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object WebAssembly.Exception]":return!0;default:return qn(e,Error)}}function Ls(e,t){return cb.call(e)===`[object ${t}]`}function ub(e){return Ls(e,"ErrorEvent")}function My(e){return Ls(e,"DOMError")}function GT(e){return Ls(e,"DOMException")}function Bn(e){return Ls(e,"String")}function Xp(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function sa(e){return e===null||Xp(e)||typeof e!="object"&&typeof e!="function"}function oa(e){return Ls(e,"Object")}function Pu(e){return typeof Event<"u"&&qn(e,Event)}function KT(e){return typeof Element<"u"&&qn(e,Element)}function XT(e){return Ls(e,"RegExp")}function Ma(e){return!!(e!=null&&e.then&&typeof e.then=="function")}function JT(e){return oa(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function qn(e,t){try{return e instanceof t}catch{return!1}}function db(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function fb(e){return typeof Request<"u"&&qn(e,Request)}const Jp=le,QT=80;function Jt(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,o=0;const a=" > ",l=a.length;let c;const d=Array.isArray(t)?t:t.keyAttrs,f=!Array.isArray(t)&&t.maxStringLength||QT;for(;n&&s++<r&&(c=eI(n,d),!(c==="html"||s>1&&o+i.length*l+c.length>=f));)i.push(c),o+=c.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function eI(e,t){const n=e,r=[];if(!(n!=null&&n.tagName))return"";if(Jp.HTMLElement&&n instanceof HTMLElement&&n.dataset){if(n.dataset.sentryComponent)return n.dataset.sentryComponent;if(n.dataset.sentryElement)return n.dataset.sentryElement}r.push(n.tagName.toLowerCase());const i=t!=null&&t.length?t.filter(o=>n.getAttribute(o)).map(o=>[o,n.getAttribute(o)]):null;if(i!=null&&i.length)i.forEach(o=>{r.push(`[${o[0]}="${o[1]}"]`)});else{n.id&&r.push(`#${n.id}`);const o=n.className;if(o&&Bn(o)){const a=o.split(/\s+/);for(const l of a)r.push(`.${l}`)}}const s=["aria-label","type","name","title","alt"];for(const o of s){const a=n.getAttribute(o);a&&r.push(`[${o}="${a}"]`)}return r.join("")}function zs(){try{return Jp.document.location.href}catch{return""}}function hb(e){if(!Jp.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement){if(t.dataset.sentryComponent)return t.dataset.sentryComponent;if(t.dataset.sentryElement)return t.dataset.sentryElement}t=t.parentNode}return null}function $c(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function Dy(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{db(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function tc(e,t,n=!1){return Bn(e)?XT(t)?t.test(e):Bn(t)?n?e===t:e.includes(t):!1:!1}function $n(e,t=[],n=!1){return t.some(r=>tc(e,r,n))}function wt(e,t,n){if(!(t in e))return;const r=e[t];if(typeof r!="function")return;const i=n(r);typeof i=="function"&&pb(i,r);try{e[t]=i}catch{H&&N.log(`Failed to replace method "${t}" in object`,e)}}function Nt(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{H&&N.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function pb(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,Nt(e,"__sentry_original__",t)}catch{}}function Qp(e){return e.__sentry_original__}function mb(e){if(Au(e))return{message:e.message,name:e.name,stack:e.stack,...Ay(e)};if(Pu(e)){const t={type:e.type,target:jy(e.target),currentTarget:jy(e.currentTarget),...Ay(e)};return typeof CustomEvent<"u"&&qn(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function jy(e){try{return KT(e)?Jt(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function Ay(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function tI(e,t=40){const n=Object.keys(mb(e));n.sort();const r=n[0];if(!r)return"[object has no keys]";if(r.length>=t)return $c(r,t);for(let i=n.length;i>0;i--){const s=n.slice(0,i).join(", ");if(!(s.length>t))return i===n.length?s:$c(s,t)}return""}function nI(){const e=le;return e.crypto||e.msCrypto}function Pt(e=nI()){let t=()=>Math.random()*16;try{if(e!=null&&e.randomUUID)return e.randomUUID().replace(/-/g,"");e!=null&&e.getRandomValues&&(t=()=>{const n=new Uint8Array(1);return e.getRandomValues(n),n[0]})}catch{}return("10000000100040008000"+1e11).replace(/[018]/g,n=>(n^(t()&15)>>n/4).toString(16))}function gb(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function Gr(e){const{message:t,event_id:n}=e;if(t)return t;const r=gb(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function uh(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type="Error")}function bs(e,t){const n=gb(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i==null?void 0:i.data,...t.data};n.mechanism.data=s}}function Py(e){if(rI(e))return!0;try{Nt(e,"__sentry_captured__",!0)}catch{}return!1}function rI(e){try{return e.__sentry_captured__}catch{}}const yb=1e3;function Ii(){return Date.now()/yb}function iI(){const{performance:e}=le;if(!(e!=null&&e.now)||!e.timeOrigin)return Ii;const t=e.timeOrigin;return()=>(t+e.now())/yb}let Oy;function Qe(){return(Oy??(Oy=iI()))()}let Nd;function sI(){var d;const{performance:e}=le;if(!(e!=null&&e.now))return[void 0,"none"];const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,o=(d=e.timing)==null?void 0:d.navigationStart,l=typeof o=="number"?Math.abs(o+n-r):t,c=l<t;return s||c?i<=l?[e.timeOrigin,"timeOrigin"]:[o,"navigationStart"]:[r,"dateNow"]}function It(){return Nd||(Nd=sI()),Nd[0]}function oI(e){const t=Qe(),n={sid:Pt(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>lI(n)};return e&&ws(n,e),n}function ws(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Qe(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:Pt()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function aI(e,t){let n={};e.status==="ok"&&(n={status:"exited"}),ws(e,n)}function lI(e){return{sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}}}function Da(e,t,n=2){if(!t||typeof t!="object"||n<=0)return t;if(e&&Object.keys(t).length===0)return e;const r={...e};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=Da(r[i],t[i],n-1));return r}function Tr(){return Pt()}function ja(){return Pt().substring(16)}const dh="_sentrySpan";function ks(e,t){t?Nt(e,dh,t):delete e[dh]}function Wc(e){return e[dh]}const cI=100;class In{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext={traceId:Tr(),sampleRand:Math.random()}}clone(){const t=new In;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},this._contexts.flags&&(t._contexts.flags={values:[...this._contexts.flags.values]}),t._user=this._user,t._level=this._level,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t._lastEventId=this._lastEventId,ks(t,Wc(this)),t}setClient(t){this._client=t}setLastEventId(t){this._lastEventId=t}getClient(){return this._client}lastEventId(){return this._lastEventId}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,username:void 0},this._session&&ws(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t,r=n instanceof In?n.getScopeData():oa(n)?t:void 0,{tags:i,extra:s,user:o,contexts:a,level:l,fingerprint:c=[],propagationContext:d}=r||{};return this._tags={...this._tags,...i},this._extra={...this._extra,...s},this._contexts={...this._contexts,...a},o&&Object.keys(o).length&&(this._user=o),l&&(this._level=l),c.length&&(this._fingerprint=c),d&&(this._propagationContext=d),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._session=void 0,ks(this,void 0),this._attachments=[],this.setPropagationContext({traceId:Tr(),sampleRand:Math.random()}),this._notifyScopeListeners(),this}addBreadcrumb(t,n){var s;const r=typeof n=="number"?n:cI;if(r<=0)return this;const i={timestamp:Ii(),...t,message:t.message?$c(t.message,2048):t.message};return this._breadcrumbs.push(i),this._breadcrumbs.length>r&&(this._breadcrumbs=this._breadcrumbs.slice(-r),(s=this._client)==null||s.recordDroppedEvent("buffer_overflow","log_item")),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}clearAttachments(){return this._attachments=[],this}getScopeData(){return{breadcrumbs:this._breadcrumbs,attachments:this._attachments,contexts:this._contexts,tags:this._tags,extra:this._extra,user:this._user,level:this._level,fingerprint:this._fingerprint||[],eventProcessors:this._eventProcessors,propagationContext:this._propagationContext,sdkProcessingMetadata:this._sdkProcessingMetadata,transactionName:this._transactionName,span:Wc(this)}}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata=Da(this._sdkProcessingMetadata,t,2),this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=(n==null?void 0:n.event_id)||Pt();if(!this._client)return H&&N.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=(r==null?void 0:r.event_id)||Pt();if(!this._client)return H&&N.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=(n==null?void 0:n.event_id)||Pt();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(H&&N.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function uI(){return Ra("defaultCurrentScope",()=>new In)}function dI(){return Ra("defaultIsolationScope",()=>new In)}class fI{constructor(t,n){let r;t?r=t:r=new In;let i;n?i=n:i=new In,this._stack=[{scope:r}],this._isolationScope=i}withScope(t){const n=this._pushScope();let r;try{r=t(n)}catch(i){throw this._popScope(),i}return Ma(r)?r.then(i=>(this._popScope(),i),i=>{throw this._popScope(),i}):(this._popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStackTop(){return this._stack[this._stack.length-1]}_pushScope(){const t=this.getScope().clone();return this._stack.push({client:this.getClient(),scope:t}),t}_popScope(){return this._stack.length<=1?!1:!!this._stack.pop()}}function Es(){const e=Ci(),t=ju(e);return t.stack=t.stack||new fI(uI(),dI())}function hI(e){return Es().withScope(e)}function pI(e,t){const n=Es();return n.withScope(()=>(n.getStackTop().scope=e,t(e)))}function Ny(e){return Es().withScope(()=>e(Es().getIsolationScope()))}function mI(){return{withIsolationScope:Ny,withScope:hI,withSetScope:pI,withSetIsolationScope:(e,t)=>Ny(t),getCurrentScope:()=>Es().getScope(),getIsolationScope:()=>Es().getIsolationScope()}}function Fs(e){const t=ju(e);return t.acs?t.acs:mI()}function ue(){const e=Ci();return Fs(e).getCurrentScope()}function Bt(){const e=Ci();return Fs(e).getIsolationScope()}function gI(){return Ra("globalScope",()=>new In)}function Bs(...e){const t=Ci(),n=Fs(t);if(e.length===2){const[r,i]=e;return r?n.withSetScope(r,i):n.withScope(i)}return n.withScope(e[0])}function te(){return ue().getClient()}function yI(e){const t=e.getPropagationContext(),{traceId:n,parentSpanId:r,propagationSpanId:i}=t,s={trace_id:n,span_id:i||ja()};return r&&(s.parent_span_id=r),s}const fn="sentry.source",em="sentry.sample_rate",vb="sentry.previous_trace_sample_rate",Gn="sentry.op",qe="sentry.origin",Uc="sentry.idle_span_finish_reason",Aa="sentry.measurement_unit",Pa="sentry.measurement_value",Ly="sentry.custom_span_name",tm="sentry.profile_id",$s="sentry.exclusive_time",vI="sentry.link.type",_I=0,_b=1,Ue=2;function xI(e){if(e<400&&e>=100)return{code:_b};if(e>=400&&e<500)switch(e){case 401:return{code:Ue,message:"unauthenticated"};case 403:return{code:Ue,message:"permission_denied"};case 404:return{code:Ue,message:"not_found"};case 409:return{code:Ue,message:"already_exists"};case 413:return{code:Ue,message:"failed_precondition"};case 429:return{code:Ue,message:"resource_exhausted"};case 499:return{code:Ue,message:"cancelled"};default:return{code:Ue,message:"invalid_argument"}}if(e>=500&&e<600)switch(e){case 501:return{code:Ue,message:"unimplemented"};case 503:return{code:Ue,message:"unavailable"};case 504:return{code:Ue,message:"deadline_exceeded"};default:return{code:Ue,message:"internal_error"}}return{code:Ue,message:"unknown_error"}}function xb(e,t){e.setAttribute("http.response.status_code",t);const n=xI(t);n.message!=="unknown_error"&&e.setStatus(n)}const Sb="_sentryScope",bb="_sentryIsolationScope";function SI(e,t,n){e&&(Nt(e,bb,n),Nt(e,Sb,t))}function Hc(e){return{scope:e[Sb],isolationScope:e[bb]}}const nm="sentry-",bI=/^sentry-/,wI=8192;function wb(e){const t=EI(e);if(!t)return;const n=Object.entries(t).reduce((r,[i,s])=>{if(i.match(bI)){const o=i.slice(nm.length);r[o]=s}return r},{});if(Object.keys(n).length>0)return n}function kI(e){if(!e)return;const t=Object.entries(e).reduce((n,[r,i])=>(i&&(n[`${nm}${r}`]=i),n),{});return CI(t)}function EI(e){if(!(!e||!Bn(e)&&!Array.isArray(e)))return Array.isArray(e)?e.reduce((t,n)=>{const r=zy(n);return Object.entries(r).forEach(([i,s])=>{t[i]=s}),t},{}):zy(e)}function zy(e){return e.split(",").map(t=>t.split("=").map(n=>{try{return decodeURIComponent(n.trim())}catch{return}})).reduce((t,[n,r])=>(n&&r&&(t[n]=r),t),{})}function CI(e){if(Object.keys(e).length!==0)return Object.entries(e).reduce((t,[n,r],i)=>{const s=`${encodeURIComponent(n)}=${encodeURIComponent(r)}`,o=i===0?s:`${t},${s}`;return o.length>wI?(H&&N.warn(`Not adding key: ${n} with val: ${r} to baggage header due to exceeding baggage size limits.`),t):o},"")}const TI=/^o(\d+)\./,II=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function RI(e){return e==="http"||e==="https"}function Ws(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:l}=e;return`${a}://${l}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function MI(e){const t=II.exec(e);if(!t){Ti(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s="",o="",a=""]=t.slice(1);let l="",c=a;const d=c.split("/");if(d.length>1&&(l=d.slice(0,-1).join("/"),c=d.pop()),c){const f=c.match(/^\d+/);f&&(c=f[0])}return kb({host:s,pass:i,path:l,projectId:c,port:o,protocol:n,publicKey:r})}function kb(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function DI(e){if(!H)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(o=>e[o]?!1:(N.error(`Invalid Sentry Dsn: ${o} missing`),!0))?!1:n.match(/^\d+$/)?RI(r)?t&&isNaN(parseInt(t,10))?(N.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(N.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(N.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function jI(e){const t=e.match(TI);return t==null?void 0:t[1]}function AI(e){const t=e.getOptions(),{host:n}=e.getDsn()||{};let r;return t.orgId?r=String(t.orgId):n&&(r=jI(n)),r}function Eb(e){const t=typeof e=="string"?MI(e):kb(e);if(!(!t||!DI(t)))return t}function vi(e){if(typeof e=="boolean")return Number(e);const t=typeof e=="string"?parseFloat(e):e;if(!(typeof t!="number"||isNaN(t)||t<0||t>1))return t}const Cb=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Tb(e){if(!e)return;const t=e.match(Cb);if(!t)return;let n;return t[3]==="1"?n=!0:t[3]==="0"&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}function PI(e,t){const n=Tb(e),r=wb(t);if(!(n!=null&&n.traceId))return{traceId:Tr(),sampleRand:Math.random()};const i=OI(n,r);r&&(r.sample_rand=i.toString());const{traceId:s,parentSpanId:o,parentSampled:a}=n;return{traceId:s,parentSpanId:o,sampled:a,dsc:r||{},sampleRand:i}}function Ib(e=Tr(),t=ja(),n){let r="";return n!==void 0&&(r=n?"-1":"-0"),`${e}-${t}${r}`}function OI(e,t){const n=vi(t==null?void 0:t.sample_rand);if(n!==void 0)return n;const r=vi(t==null?void 0:t.sample_rate);return r&&(e==null?void 0:e.parentSampled)!==void 0?e.parentSampled?Math.random()*r:r+Math.random()*(1-r):Math.random()}const Rb=0,rm=1;let Fy=!1;function NI(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:o,origin:a,links:l}=oe(e);return{parent_span_id:s,span_id:t,trace_id:n,data:r,op:i,status:o,origin:a,links:l}}function LI(e){const{spanId:t,traceId:n,isRemote:r}=e.spanContext(),i=r?t:oe(e).parent_span_id,s=Hc(e).scope,o=r?(s==null?void 0:s.getPropagationContext().propagationSpanId)||ja():t;return{parent_span_id:i,span_id:o,trace_id:n}}function zI(e){const{traceId:t,spanId:n}=e.spanContext(),r=Ri(e);return Ib(t,n,r)}function Mb(e){if(e&&e.length>0)return e.map(({context:{spanId:t,traceId:n,traceFlags:r,...i},attributes:s})=>({span_id:t,trace_id:n,sampled:r===rm,attributes:s,...i}))}function ai(e){return typeof e=="number"?By(e):Array.isArray(e)?e[0]+e[1]/1e9:e instanceof Date?By(e.getTime()):Qe()}function By(e){return e>9999999999?e/1e3:e}function oe(e){var r;if(BI(e))return e.getSpanJSON();const{spanId:t,traceId:n}=e.spanContext();if(FI(e)){const{attributes:i,startTime:s,name:o,endTime:a,status:l,links:c}=e,d="parentSpanId"in e?e.parentSpanId:"parentSpanContext"in e?(r=e.parentSpanContext)==null?void 0:r.spanId:void 0;return{span_id:t,trace_id:n,data:i,description:o,parent_span_id:d,start_timestamp:ai(s),timestamp:ai(a)||void 0,status:Db(l),op:i[Gn],origin:i[qe],links:Mb(c)}}return{span_id:t,trace_id:n,start_timestamp:0,data:{}}}function FI(e){const t=e;return!!t.attributes&&!!t.startTime&&!!t.name&&!!t.endTime&&!!t.status}function BI(e){return typeof e.getSpanJSON=="function"}function Ri(e){const{traceFlags:t}=e.spanContext();return t===rm}function Db(e){if(!(!e||e.code===_I))return e.code===_b?"ok":e.message||"unknown_error"}const li="_sentryChildSpans",fh="_sentryRootSpan";function jb(e,t){const n=e[fh]||e;Nt(t,fh,n),e[li]?e[li].add(t):Nt(e,li,new Set([t]))}function $I(e,t){e[li]&&e[li].delete(t)}function nc(e){const t=new Set;function n(r){if(!t.has(r)&&Ri(r)){t.add(r);const i=r[li]?Array.from(r[li]):[];for(const s of i)n(s)}}return n(e),Array.from(t)}function at(e){return e[fh]||e}function mt(){const e=Ci(),t=Fs(e);return t.getActiveSpan?t.getActiveSpan():Wc(ue())}function hh(){Fy||(Ti(()=>{console.warn("[Sentry] Returning null from `beforeSendSpan` is disallowed. To drop certain spans, configure the respective integrations directly.")}),Fy=!0)}let $y=!1;function WI(){if($y)return;function e(){const t=mt(),n=t&&at(t);if(n){const r="internal_error";H&&N.log(`[Tracing] Root span: ${r} -> Global error occurred`),n.setStatus({code:Ue,message:r})}}e.tag="sentry_tracingErrorCallback",$y=!0,ab(e),lb(e)}function Ir(e){var n;if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;const t=e||((n=te())==null?void 0:n.getOptions());return!!t&&(t.tracesSampleRate!=null||!!t.tracesSampler)}const im="production",Ab="_frozenDsc";function rc(e,t){Nt(e,Ab,t)}function Pb(e,t){const n=t.getOptions(),{publicKey:r}=t.getDsn()||{},i={environment:n.environment||im,release:n.release,public_key:r,trace_id:e,org_id:AI(t)};return t.emit("createDsc",i),i}function Ob(e,t){const n=t.getPropagationContext();return n.dsc||Pb(n.traceId,e)}function Kn(e){var m;const t=te();if(!t)return{};const n=at(e),r=oe(n),i=r.data,s=n.spanContext().traceState,o=(s==null?void 0:s.get("sentry.sample_rate"))??i[em]??i[vb];function a(g){return(typeof o=="number"||typeof o=="string")&&(g.sample_rate=`${o}`),g}const l=n[Ab];if(l)return a(l);const c=s==null?void 0:s.get("sentry.dsc"),d=c&&wb(c);if(d)return a(d);const f=Pb(e.spanContext().traceId,t),h=i[fn],p=r.description;return h!=="url"&&p&&(f.transaction=p),Ir()&&(f.sampled=String(Ri(n)),f.sample_rand=(s==null?void 0:s.get("sentry.sample_rand"))??((m=Hc(n).scope)==null?void 0:m.getPropagationContext().sampleRand.toString())),a(f),t.emit("createDsc",f,n),f}class Rr{constructor(t={}){this._traceId=t.traceId||Tr(),this._spanId=t.spanId||ja()}spanContext(){return{spanId:this._spanId,traceId:this._traceId,traceFlags:Rb}}end(t){}setAttribute(t,n){return this}setAttributes(t){return this}setStatus(t){return this}updateName(t){return this}isRecording(){return!1}addEvent(t,n,r){return this}addLink(t){return this}addLinks(t){return this}recordException(t,n){}}function ln(e,t=100,n=1/0){try{return ph("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Nb(e,t=3,n=100*1024){const r=ln(e,t);return ZI(r)>n?Nb(e,t-1,n):r}function ph(e,t,n=1/0,r=1/0,i=YI()){const[s,o]=i;if(t==null||["boolean","string"].includes(typeof t)||typeof t=="number"&&Number.isFinite(t))return t;const a=UI(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const l=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(l===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const c=t;if(c&&typeof c.toJSON=="function")try{const p=c.toJSON();return ph("",p,l-1,r,i)}catch{}const d=Array.isArray(t)?[]:{};let f=0;const h=mb(t);for(const p in h){if(!Object.prototype.hasOwnProperty.call(h,p))continue;if(f>=r){d[p]="[MaxProperties ~]";break}const m=h[p];d[p]=ph(p,m,l-1,r,i),f++}return o(t),d}function UI(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(db(t))return"[VueViewModel]";if(JT(t))return"[SyntheticEvent]";if(typeof t=="number"&&!Number.isFinite(t))return`[${t}]`;if(typeof t=="function")return`[Function: ${Yn(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=HI(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function HI(e){const t=Object.getPrototypeOf(e);return t!=null&&t.constructor?t.constructor.name:"null prototype"}function VI(e){return~-encodeURI(e).split(/%..|./).length}function ZI(e){return VI(JSON.stringify(e))}function YI(){const e=new WeakSet;function t(r){return e.has(r)?!0:(e.add(r),!1)}function n(r){e.delete(r)}return[t,n]}function Mi(e,t=[]){return[e,t]}function qI(e,t){const[n,r]=e;return[n,[...r,t]]}function Wy(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function mh(e){const t=ju(le);return t.encodePolyfill?t.encodePolyfill(e):new TextEncoder().encode(e)}function GI(e){const[t,n]=e;let r=JSON.stringify(t);function i(s){typeof r=="string"?r=typeof s=="string"?r+s:[mh(r),s]:r.push(typeof s=="string"?mh(s):s)}for(const s of n){const[o,a]=s;if(i(`
${JSON.stringify(o)}
`),typeof a=="string"||a instanceof Uint8Array)i(a);else{let l;try{l=JSON.stringify(a)}catch{l=JSON.stringify(ln(a))}i(l)}}return typeof r=="string"?r:KI(r)}function KI(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function XI(e){return[{type:"span"},e]}function JI(e){const t=typeof e.data=="string"?mh(e.data):e.data;return[{type:"attachment",length:t.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType},t]}const QI={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",profile_chunk:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",raw_security:"security",log:"log_item"};function Uy(e){return QI[e]}function sm(e){if(!(e!=null&&e.sdk))return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function Lb(e,t,n,r){var s;const i=(s=e.sdkProcessingMetadata)==null?void 0:s.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Ws(r)},...i&&{trace:i}}}function gh(e,t){if(!(t!=null&&t.length)||!e.description)return!1;for(const n of t){if(tR(n)){if(tc(e.description,n))return!0;continue}if(!n.name&&!n.op)continue;const r=n.name?tc(e.description,n.name):!0,i=n.op?e.op&&tc(e.op,n.op):!0;if(r&&i)return!0}return!1}function eR(e,t){const n=t.parent_span_id,r=t.span_id;if(n)for(const i of e)i.parent_span_id===r&&(i.parent_span_id=n)}function tR(e){return typeof e=="string"||e instanceof RegExp}function nR(e,t){var r,i,s,o;if(!t)return e;const n=e.sdk||{};return e.sdk={...n,name:n.name||t.name,version:n.version||t.version,integrations:[...((r=e.sdk)==null?void 0:r.integrations)||[],...t.integrations||[]],packages:[...((i=e.sdk)==null?void 0:i.packages)||[],...t.packages||[]],settings:(s=e.sdk)!=null&&s.settings||t.settings?{...(o=e.sdk)==null?void 0:o.settings,...t.settings}:void 0},e}function rR(e,t,n,r){const i=sm(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Ws(t)}},o="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return Mi(s,[o])}function iR(e,t,n,r){const i=sm(n),s=e.type&&e.type!=="replay_event"?e.type:"event";nR(e,n==null?void 0:n.sdk);const o=Lb(e,i,r,t);return delete e.sdkProcessingMetadata,Mi(o,[[{type:s},e]])}function sR(e,t){function n(p){return!!p.trace_id&&!!p.public_key}const r=Kn(e[0]),i=t==null?void 0:t.getDsn(),s=t==null?void 0:t.getOptions().tunnel,o={sent_at:new Date().toISOString(),...n(r)&&{trace:r},...!!s&&i&&{dsn:Ws(i)}},{beforeSendSpan:a,ignoreSpans:l}=(t==null?void 0:t.getOptions())||{},c=l!=null&&l.length?e.filter(p=>!gh(oe(p),l)):e,d=e.length-c.length;d&&(t==null||t.recordDroppedEvent("before_send","span",d));const f=a?p=>{const m=oe(p),g=a(m);return g||(hh(),m)}:oe,h=[];for(const p of c){const m=f(p);m&&h.push(XI(m))}return Mi(o,h)}function oR(e){if(!H)return;const{description:t="< unknown name >",op:n="< unknown op >",parent_span_id:r}=oe(e),{spanId:i}=e.spanContext(),s=Ri(e),o=at(e),a=o===e,l=`[Tracing] Starting ${s?"sampled":"unsampled"} ${a?"root ":""}span`,c=[`op: ${n}`,`name: ${t}`,`ID: ${i}`];if(r&&c.push(`parent ID: ${r}`),!a){const{op:d,description:f}=oe(o);c.push(`root ID: ${o.spanContext().spanId}`),d&&c.push(`root op: ${d}`),f&&c.push(`root description: ${f}`)}N.log(`${l}
  ${c.join(`
  `)}`)}function aR(e){if(!H)return;const{description:t="< unknown name >",op:n="< unknown op >"}=oe(e),{spanId:r}=e.spanContext(),s=at(e)===e,o=`[Tracing] Finishing "${n}" ${s?"root ":""}span "${t}" with ID ${r}`;N.log(o)}function lR(e,t,n,r=mt()){const i=r&&at(r);i&&(H&&N.log(`[Measurement] Setting measurement on root span: ${e} = ${t} ${n}`),i.addEvent(e,{[Pa]:t,[Aa]:n}))}function Hy(e){if(!e||e.length===0)return;const t={};return e.forEach(n=>{const r=n.attributes||{},i=r[Aa],s=r[Pa];typeof i=="string"&&typeof s=="number"&&(t[n.name]={value:s,unit:i})}),t}const Vy=1e3;class Ou{constructor(t={}){this._traceId=t.traceId||Tr(),this._spanId=t.spanId||ja(),this._startTime=t.startTimestamp||Qe(),this._links=t.links,this._attributes={},this.setAttributes({[qe]:"manual",[Gn]:t.op,...t.attributes}),this._name=t.name,t.parentSpanId&&(this._parentSpanId=t.parentSpanId),"sampled"in t&&(this._sampled=t.sampled),t.endTimestamp&&(this._endTime=t.endTimestamp),this._events=[],this._isStandaloneSpan=t.isStandalone,this._endTime&&this._onSpanEnded()}addLink(t){return this._links?this._links.push(t):this._links=[t],this}addLinks(t){return this._links?this._links.push(...t):this._links=t,this}recordException(t,n){}spanContext(){const{_spanId:t,_traceId:n,_sampled:r}=this;return{spanId:t,traceId:n,traceFlags:r?rm:Rb}}setAttribute(t,n){return n===void 0?delete this._attributes[t]:this._attributes[t]=n,this}setAttributes(t){return Object.keys(t).forEach(n=>this.setAttribute(n,t[n])),this}updateStartTime(t){this._startTime=ai(t)}setStatus(t){return this._status=t,this}updateName(t){return this._name=t,this.setAttribute(fn,"custom"),this}end(t){this._endTime||(this._endTime=ai(t),aR(this),this._onSpanEnded())}getSpanJSON(){return{data:this._attributes,description:this._name,op:this._attributes[Gn],parent_span_id:this._parentSpanId,span_id:this._spanId,start_timestamp:this._startTime,status:Db(this._status),timestamp:this._endTime,trace_id:this._traceId,origin:this._attributes[qe],profile_id:this._attributes[tm],exclusive_time:this._attributes[$s],measurements:Hy(this._events),is_segment:this._isStandaloneSpan&&at(this)===this||void 0,segment_id:this._isStandaloneSpan?at(this).spanContext().spanId:void 0,links:Mb(this._links)}}isRecording(){return!this._endTime&&!!this._sampled}addEvent(t,n,r){H&&N.log("[Tracing] Adding an event to span:",t);const i=Zy(n)?n:r||Qe(),s=Zy(n)?{}:n||{},o={name:t,time:ai(i),attributes:s};return this._events.push(o),this}isStandaloneSpan(){return!!this._isStandaloneSpan}_onSpanEnded(){const t=te();if(t&&t.emit("spanEnd",this),!(this._isStandaloneSpan||this===at(this)))return;if(this._isStandaloneSpan){this._sampled?uR(sR([this],t)):(H&&N.log("[Tracing] Discarding standalone span because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","span"));return}const r=this._convertSpanToTransaction();r&&(Hc(this).scope||ue()).captureEvent(r)}_convertSpanToTransaction(){var d;if(!Yy(oe(this)))return;this._name||(H&&N.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this._name="<unlabeled transaction>");const{scope:t,isolationScope:n}=Hc(this),r=(d=t==null?void 0:t.getScopeData().sdkProcessingMetadata)==null?void 0:d.normalizedRequest;if(this._sampled!==!0)return;const s=nc(this).filter(f=>f!==this&&!cR(f)).map(f=>oe(f)).filter(Yy),o=this._attributes[fn];delete this._attributes[Ly],s.forEach(f=>{delete f.data[Ly]});const a={contexts:{trace:NI(this)},spans:s.length>Vy?s.sort((f,h)=>f.start_timestamp-h.start_timestamp).slice(0,Vy):s,start_timestamp:this._startTime,timestamp:this._endTime,transaction:this._name,type:"transaction",sdkProcessingMetadata:{capturedSpanScope:t,capturedSpanIsolationScope:n,dynamicSamplingContext:Kn(this)},request:r,...o&&{transaction_info:{source:o}}},l=Hy(this._events);return l&&Object.keys(l).length&&(H&&N.log("[Measurements] Adding measurements to transaction event",JSON.stringify(l,void 0,2)),a.measurements=l),a}}function Zy(e){return e&&typeof e=="number"||e instanceof Date||Array.isArray(e)}function Yy(e){return!!e.start_timestamp&&!!e.timestamp&&!!e.span_id&&!!e.trace_id}function cR(e){return e instanceof Ou&&e.isStandaloneSpan()}function uR(e){const t=te();if(!t)return;const n=e[1];if(!n||n.length===0){t.recordDroppedEvent("before_send","span");return}t.sendEnvelope(e)}function dR(e,t,n=()=>{}){let r;try{r=e()}catch(i){throw t(i),n(),i}return fR(r,t,n)}function fR(e,t,n){return Ma(e)?e.then(r=>(n(),r),r=>{throw t(r),n(),r}):(n(),e)}function hR(e,t,n){if(!Ir(e))return[!1];let r,i;typeof e.tracesSampler=="function"?(i=e.tracesSampler({...t,inheritOrSampleWith:a=>typeof t.parentSampleRate=="number"?t.parentSampleRate:typeof t.parentSampled=="boolean"?Number(t.parentSampled):a}),r=!0):t.parentSampled!==void 0?i=t.parentSampled:typeof e.tracesSampleRate<"u"&&(i=e.tracesSampleRate,r=!0);const s=vi(i);if(s===void 0)return H&&N.warn(`[Tracing] Discarding root span because of invalid sample rate. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(i)} of type ${JSON.stringify(typeof i)}.`),[!1];if(!s)return H&&N.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),[!1,s,r];const o=n<s;return o||H&&N.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(i)})`),[o,s,r]}const zb="__SENTRY_SUPPRESS_TRACING__";function pR(e,t){const n=am();if(n.startSpan)return n.startSpan(e,t);const r=Bb(e),{forceTransaction:i,parentSpan:s,scope:o}=e,a=o==null?void 0:o.clone();return Bs(a,()=>gR(s)(()=>{const c=ue(),d=$b(c,s),h=e.onlyIfParent&&!d?new Rr:Fb({parentSpan:d,spanArguments:r,forceTransaction:i,scope:c});return ks(c,h),dR(()=>t(h),()=>{const{status:p}=oe(h);h.isRecording()&&(!p||p==="ok")&&h.setStatus({code:Ue,message:"internal_error"})},()=>{h.end()})}))}function Us(e){const t=am();if(t.startInactiveSpan)return t.startInactiveSpan(e);const n=Bb(e),{forceTransaction:r,parentSpan:i}=e;return(e.scope?o=>Bs(e.scope,o):i!==void 0?o=>om(i,o):o=>o())(()=>{const o=ue(),a=$b(o,i);return e.onlyIfParent&&!a?new Rr:Fb({parentSpan:a,spanArguments:n,forceTransaction:r,scope:o})})}function om(e,t){const n=am();return n.withActiveSpan?n.withActiveSpan(e,t):Bs(r=>(ks(r,e||void 0),t(r)))}function Fb({parentSpan:e,spanArguments:t,forceTransaction:n,scope:r}){if(!Ir()){const o=new Rr;if(n||!e){const a={sampled:"false",sample_rate:"0",transaction:t.name,...Kn(o)};rc(o,a)}return o}const i=Bt();let s;if(e&&!n)s=mR(e,r,t),jb(e,s);else if(e){const o=Kn(e),{traceId:a,spanId:l}=e.spanContext(),c=Ri(e);s=qy({traceId:a,parentSpanId:l,...t},r,c),rc(s,o)}else{const{traceId:o,dsc:a,parentSpanId:l,sampled:c}={...i.getPropagationContext(),...r.getPropagationContext()};s=qy({traceId:o,parentSpanId:l,...t},r,c),a&&rc(s,a)}return oR(s),SI(s,r,i),s}function Bb(e){const n={isStandalone:(e.experimental||{}).standalone,...e};if(e.startTime){const r={...n};return r.startTimestamp=ai(e.startTime),delete r.startTime,r}return n}function am(){const e=Ci();return Fs(e)}function qy(e,t,n){var m;const r=te(),i=(r==null?void 0:r.getOptions())||{},{name:s=""}=e,o={spanAttributes:{...e.attributes},spanName:s,parentSampled:n};r==null||r.emit("beforeSampling",o,{decision:!1});const a=o.parentSampled??n,l=o.spanAttributes,c=t.getPropagationContext(),[d,f,h]=t.getScopeData().sdkProcessingMetadata[zb]?[!1]:hR(i,{name:s,parentSampled:a,attributes:l,parentSampleRate:vi((m=c.dsc)==null?void 0:m.sample_rate)},c.sampleRand),p=new Ou({...e,attributes:{[fn]:"custom",[em]:f!==void 0&&h?f:void 0,...l},sampled:d});return!d&&r&&(H&&N.log("[Tracing] Discarding root span because its trace was not chosen to be sampled."),r.recordDroppedEvent("sample_rate","transaction")),r&&r.emit("spanStart",p),p}function mR(e,t,n){const{spanId:r,traceId:i}=e.spanContext(),s=t.getScopeData().sdkProcessingMetadata[zb]?!1:Ri(e),o=s?new Ou({...n,parentSpanId:r,traceId:i,sampled:s}):new Rr({traceId:i});jb(e,o);const a=te();return a&&(a.emit("spanStart",o),n.endTimestamp&&a.emit("spanEnd",o)),o}function $b(e,t){if(t)return t;if(t===null)return;const n=Wc(e);if(!n)return;const r=te();return(r?r.getOptions():{}).parentSpanIsAlwaysRootSpan?at(n):n}function gR(e){return e!==void 0?t=>om(e,t):t=>t()}const ic={idleTimeout:1e3,finalTimeout:3e4,childSpanTimeout:15e3},yR="heartbeatFailed",vR="idleTimeout",_R="finalTimeout",xR="externalFinish";function Wb(e,t={}){const n=new Map;let r=!1,i,s=xR,o=!t.disableAutoFinish;const a=[],{idleTimeout:l=ic.idleTimeout,finalTimeout:c=ic.finalTimeout,childSpanTimeout:d=ic.childSpanTimeout,beforeSpanEnd:f}=t,h=te();if(!h||!Ir()){const k=new Rr,w={sample_rate:"0",sampled:"false",...Kn(k)};return rc(k,w),k}const p=ue(),m=mt(),g=SR(e);g.end=new Proxy(g.end,{apply(k,w,E){if(f&&f(g),w instanceof Rr)return;const[C,...T]=E,I=C||Qe(),D=ai(I),F=nc(g).filter(R=>R!==g);if(!F.length)return b(D),Reflect.apply(k,w,[D,...T]);const U=F.map(R=>oe(R).timestamp).filter(R=>!!R),A=U.length?Math.max(...U):void 0,z=oe(g).start_timestamp,P=Math.min(z?z+c/1e3:1/0,Math.max(z||-1/0,Math.min(D,A||1/0)));return b(P),Reflect.apply(k,w,[P,...T])}});function _(){i&&(clearTimeout(i),i=void 0)}function y(k){_(),i=setTimeout(()=>{!r&&n.size===0&&o&&(s=vR,g.end(k))},l)}function v(k){i=setTimeout(()=>{!r&&o&&(s=yR,g.end(k))},d)}function x(k){_(),n.set(k,!0);const w=Qe();v(w+d/1e3)}function S(k){if(n.has(k)&&n.delete(k),n.size===0){const w=Qe();y(w+l/1e3)}}function b(k){r=!0,n.clear(),a.forEach(D=>D()),ks(p,m);const w=oe(g),{start_timestamp:E}=w;if(!E)return;w.data[Uc]||g.setAttribute(Uc,s),N.log(`[Tracing] Idle span "${w.op}" finished`);const T=nc(g).filter(D=>D!==g);let I=0;T.forEach(D=>{D.isRecording()&&(D.setStatus({code:Ue,message:"cancelled"}),D.end(k),H&&N.log("[Tracing] Cancelling span since span ended early",JSON.stringify(D,void 0,2)));const F=oe(D),{timestamp:U=0,start_timestamp:A=0}=F,z=A<=k,P=(c+l)/1e3,R=U-A<=P;if(H){const j=JSON.stringify(D,void 0,2);z?R||N.log("[Tracing] Discarding span since it finished after idle span final timeout",j):N.log("[Tracing] Discarding span since it happened after idle span was finished",j)}(!R||!z)&&($I(g,D),I++)}),I>0&&g.setAttribute("sentry.idle_span_discarded_spans",I)}return a.push(h.on("spanStart",k=>{if(r||k===g||oe(k).timestamp||k instanceof Ou&&k.isStandaloneSpan())return;nc(g).includes(k)&&x(k.spanContext().spanId)})),a.push(h.on("spanEnd",k=>{r||S(k.spanContext().spanId)})),a.push(h.on("idleSpanEnableAutoFinish",k=>{k===g&&(o=!0,y(),n.size&&v())})),t.disableAutoFinish||y(),setTimeout(()=>{r||(g.setStatus({code:Ue,message:"deadline_exceeded"}),s=_R,g.end())},c),g}function SR(e){const t=Us(e);return ks(ue(),t),H&&N.log("[Tracing] Started span is an idle span"),t}const Ld=0,Gy=1,Ky=2;function Xn(e){return new Mr(t=>{t(e)})}function Vc(e){return new Mr((t,n)=>{n(e)})}class Mr{constructor(t){this._state=Ld,this._handlers=[],this._runExecutor(t)}then(t,n){return new Mr((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(o){i(o)}},s=>{if(!n)i(s);else try{r(n(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Mr((n,r)=>{let i,s;return this.then(o=>{s=!1,i=o,t&&t()},o=>{s=!0,i=o,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}_executeHandlers(){if(this._state===Ld)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===Gy&&n[1](this._value),this._state===Ky&&n[2](this._value),n[0]=!0)})}_runExecutor(t){const n=(s,o)=>{if(this._state===Ld){if(Ma(o)){o.then(r,i);return}this._state=s,this._value=o,this._executeHandlers()}},r=s=>{n(Gy,s)},i=s=>{n(Ky,s)};try{t(r,i)}catch(s){i(s)}}}function yh(e,t,n,r=0){return new Mr((i,s)=>{const o=e[r];if(t===null||typeof o!="function")i(t);else{const a=o({...t},n);H&&o.id&&a===null&&N.log(`Event processor "${o.id}" dropped event`),Ma(a)?a.then(l=>yh(e,l,n,r+1).then(i)).then(null,s):yh(e,a,n,r+1).then(i).then(null,s)}})}function bR(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;wR(e,t),r&&CR(e,r),TR(e,n),kR(e,i),ER(e,s)}function Xy(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,sdkProcessingMetadata:a,breadcrumbs:l,fingerprint:c,eventProcessors:d,attachments:f,propagationContext:h,transactionName:p,span:m}=t;cl(e,"extra",n),cl(e,"tags",r),cl(e,"user",i),cl(e,"contexts",s),e.sdkProcessingMetadata=Da(e.sdkProcessingMetadata,a,2),o&&(e.level=o),p&&(e.transactionName=p),m&&(e.span=m),l.length&&(e.breadcrumbs=[...e.breadcrumbs,...l]),c.length&&(e.fingerprint=[...e.fingerprint,...c]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),f.length&&(e.attachments=[...e.attachments,...f]),e.propagationContext={...e.propagationContext,...h}}function cl(e,t,n){e[t]=Da(e[t],n,1)}function wR(e,t){const{extra:n,tags:r,user:i,contexts:s,level:o,transactionName:a}=t;Object.keys(n).length&&(e.extra={...n,...e.extra}),Object.keys(r).length&&(e.tags={...r,...e.tags}),Object.keys(i).length&&(e.user={...i,...e.user}),Object.keys(s).length&&(e.contexts={...s,...e.contexts}),o&&(e.level=o),a&&e.type!=="transaction"&&(e.transaction=a)}function kR(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function ER(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function CR(e,t){e.contexts={trace:LI(t),...e.contexts},e.sdkProcessingMetadata={dynamicSamplingContext:Kn(t),...e.sdkProcessingMetadata};const n=at(t),r=oe(n).description;r&&!e.transaction&&e.type==="transaction"&&(e.transaction=r)}function TR(e,t){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint.length||delete e.fingerprint}let ul,Jy,dl;function IR(e){const t=le._sentryDebugIds;if(!t)return{};const n=Object.keys(t);return dl&&n.length===Jy||(Jy=n.length,dl=n.reduce((r,i)=>{ul||(ul={});const s=ul[i];if(s)r[s[0]]=s[1];else{const o=e(i);for(let a=o.length-1;a>=0;a--){const l=o[a],c=l==null?void 0:l.filename,d=t[i];if(c&&d){r[c]=d,ul[i]=[c,d];break}}}return r},{})),dl}function Ub(e,t,n,r,i,s){const{normalizeDepth:o=3,normalizeMaxBreadth:a=1e3}=e,l={...t,event_id:t.event_id||n.event_id||Pt(),timestamp:t.timestamp||Ii()},c=n.integrations||e.integrations.map(_=>_.name);RR(l,e),jR(l,c),i&&i.emit("applyFrameMetadata",t),t.type===void 0&&MR(l,e.stackParser);const d=PR(r,n.captureContext);n.mechanism&&bs(l,n.mechanism);const f=i?i.getEventProcessors():[],h=gI().getScopeData();if(s){const _=s.getScopeData();Xy(h,_)}if(d){const _=d.getScopeData();Xy(h,_)}const p=[...n.attachments||[],...h.attachments];p.length&&(n.attachments=p),bR(l,h);const m=[...f,...h.eventProcessors];return yh(m,l,n).then(_=>(_&&DR(_),typeof o=="number"&&o>0?AR(_,o,a):_))}function RR(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;e.environment=e.environment||n||im,!e.release&&r&&(e.release=r),!e.dist&&i&&(e.dist=i);const o=e.request;o!=null&&o.url&&(o.url=$c(o.url,s))}function MR(e,t){var r,i;const n=IR(t);(i=(r=e.exception)==null?void 0:r.values)==null||i.forEach(s=>{var o,a;(a=(o=s.stacktrace)==null?void 0:o.frames)==null||a.forEach(l=>{l.filename&&(l.debug_id=n[l.filename])})})}function DR(e){var r,i;const t={};if((i=(r=e.exception)==null?void 0:r.values)==null||i.forEach(s=>{var o,a;(a=(o=s.stacktrace)==null?void 0:o.frames)==null||a.forEach(l=>{l.debug_id&&(l.abs_path?t[l.abs_path]=l.debug_id:l.filename&&(t[l.filename]=l.debug_id),delete l.debug_id)})}),Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.entries(t).forEach(([s,o])=>{n.push({type:"sourcemap",code_file:s,debug_id:o})})}function jR(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function AR(e,t,n){var i,s;if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(o=>({...o,...o.data&&{data:ln(o.data,t,n)}}))},...e.user&&{user:ln(e.user,t,n)},...e.contexts&&{contexts:ln(e.contexts,t,n)},...e.extra&&{extra:ln(e.extra,t,n)}};return(i=e.contexts)!=null&&i.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=ln(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(o=>({...o,...o.data&&{data:ln(o.data,t,n)}}))),(s=e.contexts)!=null&&s.flags&&r.contexts&&(r.contexts.flags=ln(e.contexts.flags,3,n)),r}function PR(e,t){if(!t)return e;const n=e?e.clone():new In;return n.update(t),n}function OR(e){if(e)return NR(e)?{captureContext:e}:zR(e)?{captureContext:e}:e}function NR(e){return e instanceof In||typeof e=="function"}const LR=["user","level","extra","contexts","tags","fingerprint","propagationContext"];function zR(e){return Object.keys(e).some(t=>LR.includes(t))}function Cs(e,t){return ue().captureException(e,OR(t))}function Hb(e,t){const n=typeof t=="string"?t:void 0,r=typeof t!="string"?{captureContext:t}:void 0;return ue().captureMessage(e,n,r)}function Vb(e,t){return ue().captureEvent(e,t)}function lm(e,t){Bt().setContext(e,t)}function Zb(e,t){Bt().setTag(e,t)}function Yb(e){Bt().setUser(e)}function go(){return Bt().lastEventId()}function FR(){const e=te();return(e==null?void 0:e.getOptions().enabled)!==!1&&!!(e!=null&&e.getTransport())}function BR(e){Bt().addEventProcessor(e)}function Qy(e){const t=Bt(),n=ue(),{userAgent:r}=le.navigator||{},i=oI({user:n.getUser()||t.getUser(),...r&&{userAgent:r},...e}),s=t.getSession();return(s==null?void 0:s.status)==="ok"&&ws(s,{status:"exited"}),qb(),t.setSession(i),i}function qb(){const e=Bt(),n=ue().getSession()||e.getSession();n&&aI(n),Gb(),e.setSession()}function Gb(){const e=Bt(),t=te(),n=e.getSession();n&&t&&t.captureSession(n)}function ev(e=!1){if(e){qb();return}Gb()}const $R="7";function Kb(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function WR(e){return`${Kb(e)}${e.projectId}/envelope/`}function UR(e,t){const n={sentry_version:$R};return e.publicKey&&(n.sentry_key=e.publicKey),t&&(n.sentry_client=`${t.name}/${t.version}`),new URLSearchParams(n).toString()}function HR(e,t,n){return t||`${WR(e)}?${UR(e,n)}`}function VR(e,t){const n=Eb(e);if(!n)return"";const r=`${Kb(n)}embed/error-page/`;let i=`dsn=${Ws(n)}`;for(const s in t)if(s!=="dsn"&&s!=="onClose")if(s==="user"){const o=t.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(t[s])}`;return`${r}?${i}`}const tv=[];function ZR(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.values(t)}function YR(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(i=>{i.isDefaultInstance=!0});let r;if(Array.isArray(n))r=[...t,...n];else if(typeof n=="function"){const i=n(t);r=Array.isArray(i)?i:[i]}else r=t;return ZR(r)}function qR(e,t){const n={};return t.forEach(r=>{r&&Xb(e,r,n)}),n}function nv(e,t){for(const n of t)n!=null&&n.afterAllSetup&&n.afterAllSetup(e)}function Xb(e,t,n){if(n[t.name]){H&&N.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,tv.indexOf(t.name)===-1&&typeof t.setupOnce=="function"&&(t.setupOnce(),tv.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,o)=>r(s,o,e),{id:t.name});e.addEventProcessor(i)}H&&N.log(`Integration installed: ${t.name}`)}function GR(e,t,n){const r=[{type:"client_report"},{timestamp:Ii(),discarded_events:e}];return Mi(t?{dsn:t}:{},[r])}function Jb(e){const t=[];e.message&&t.push(e.message);try{const n=e.exception.values[e.exception.values.length-1];n!=null&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`))}catch{}return t}function KR(e){var l;const{trace_id:t,parent_span_id:n,span_id:r,status:i,origin:s,data:o,op:a}=((l=e.contexts)==null?void 0:l.trace)??{};return{data:o??{},description:e.transaction,op:a,parent_span_id:n,span_id:r??"",start_timestamp:e.start_timestamp??0,status:i,timestamp:e.timestamp,trace_id:t??"",origin:s,profile_id:o==null?void 0:o[tm],exclusive_time:o==null?void 0:o[$s],measurements:e.measurements,is_segment:!0}}function XR(e){return{type:"transaction",timestamp:e.timestamp,start_timestamp:e.start_timestamp,transaction:e.description,contexts:{trace:{trace_id:e.trace_id,span_id:e.span_id,parent_span_id:e.parent_span_id,op:e.op,status:e.status,origin:e.origin,data:{...e.data,...e.profile_id&&{[tm]:e.profile_id},...e.exclusive_time&&{[$s]:e.exclusive_time}}}},measurements:e.measurements}}const rv="Not capturing exception because it's already been captured.",iv="Discarded session because of missing or non-string release",Qb=Symbol.for("SentryInternalError"),ew=Symbol.for("SentryDoNotSendEventError");function sc(e){return{message:e,[Qb]:!0}}function zd(e){return{message:e,[ew]:!0}}function sv(e){return!!e&&typeof e=="object"&&Qb in e}function ov(e){return!!e&&typeof e=="object"&&ew in e}class JR{constructor(t){if(this._options=t,this._integrations={},this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=Eb(t.dsn):H&&N.warn("No DSN provided, client will not send events."),this._dsn){const n=HR(this._dsn,t.tunnel,t._metadata?t._metadata.sdk:void 0);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){const i=Pt();if(Py(t))return H&&N.log(rv),i;const s={event_id:i,...n};return this._process(this.eventFromException(t,s).then(o=>this._captureEvent(o,s,r))),s.event_id}captureMessage(t,n,r,i){const s={event_id:Pt(),...r},o=Xp(t)?t:String(t),a=sa(t)?this.eventFromMessage(o,n,s):this.eventFromException(t,s);return this._process(a.then(l=>this._captureEvent(l,s,i))),s.event_id}captureEvent(t,n,r){const i=Pt();if(n!=null&&n.originalException&&Py(n.originalException))return H&&N.log(rv),i;const s={event_id:i,...n},o=t.sdkProcessingMetadata||{},a=o.capturedSpanScope,l=o.capturedSpanIsolationScope;return this._process(this._captureEvent(t,s,a||r,l)),s.event_id}captureSession(t){this.sendSession(t),ws(t,{init:!1})}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.emit("flush"),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Xn(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.emit("close"),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}init(){(this._isEnabled()||this._options.integrations.some(({name:t})=>t.startsWith("Spotlight")))&&this._setupIntegrations()}getIntegrationByName(t){return this._integrations[t]}addIntegration(t){const n=this._integrations[t.name];Xb(this,t,this._integrations),n||nv(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=iR(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=qI(r,JI(s));const i=this.sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const{release:n,environment:r=im}=this._options;if("aggregates"in t){const s=t.attrs||{};if(!s.release&&!n){H&&N.warn(iv);return}s.release=s.release||n,s.environment=s.environment||r,t.attrs=s}else{if(!t.release&&!n){H&&N.warn(iv);return}t.release=t.release||n,t.environment=t.environment||r}this.emit("beforeSendSession",t);const i=rR(t,this._dsn,this._options._metadata,this._options.tunnel);this.sendEnvelope(i)}recordDroppedEvent(t,n,r=1){if(this._options.sendClientReports){const i=`${t}:${n}`;H&&N.log(`Recording outcome: "${i}"${r>1?` (${r} times)`:""}`),this._outcomes[i]=(this._outcomes[i]||0)+r}}on(t,n){const r=this._hooks[t]=this._hooks[t]||[];return r.push(n),()=>{const i=r.indexOf(n);i>-1&&r.splice(i,1)}}emit(t,...n){const r=this._hooks[t];r&&r.forEach(i=>i(...n))}sendEnvelope(t){return this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport?this._transport.send(t).then(null,n=>(H&&N.error("Error while sending envelope:",n),n)):(H&&N.error("Transport disabled"),Xn({}))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=qR(this,t),nv(this,t)}_updateSessionFromEvent(t,n){var l;let r=n.level==="fatal",i=!1;const s=(l=n.exception)==null?void 0:l.values;if(s){i=!0;for(const c of s){const d=c.mechanism;if((d==null?void 0:d.handled)===!1){r=!0;break}}}const o=t.status==="ok";(o&&t.errors===0||o&&r)&&(ws(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Mr(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i){const s=this.getOptions(),o=Object.keys(this._integrations);return!n.integrations&&(o!=null&&o.length)&&(n.integrations=o),this.emit("preprocessEvent",t,n),t.type||i.setLastEventId(t.event_id||n.event_id),Ub(s,t,n,r,this,i).then(a=>{if(a===null)return a;this.emit("postprocessEvent",a,n),a.contexts={trace:yI(r),...a.contexts};const l=Ob(this,r);return a.sdkProcessingMetadata={dynamicSamplingContext:l,...a.sdkProcessingMetadata},a})}_captureEvent(t,n={},r=ue(),i=Bt()){return H&&vh(t)&&N.log(`Captured error event \`${Jb(t)[0]||"<unknown>"}\``),this._processEvent(t,n,r,i).then(s=>s.event_id,s=>{H&&(ov(s)?N.log(s.message):sv(s)?N.warn(s.message):N.warn(s))})}_processEvent(t,n,r,i){const s=this.getOptions(),{sampleRate:o}=s,a=tw(t),l=vh(t),c=t.type||"error",d=`before send for type \`${c}\``,f=typeof o>"u"?void 0:vi(o);if(l&&typeof f=="number"&&Math.random()>f)return this.recordDroppedEvent("sample_rate","error"),Vc(zd(`Discarding event because it's not included in the random sample (sampling rate = ${o})`));const h=c==="replay_event"?"replay":c;return this._prepareEvent(t,n,r,i).then(p=>{if(p===null)throw this.recordDroppedEvent("event_processor",h),zd("An event processor returned `null`, will not send event.");if(n.data&&n.data.__sentry__===!0)return p;const g=eM(this,s,p,n);return QR(g,d)}).then(p=>{var _;if(p===null){if(this.recordDroppedEvent("before_send",h),a){const v=1+(t.spans||[]).length;this.recordDroppedEvent("before_send","span",v)}throw zd(`${d} returned \`null\`, will not send event.`)}const m=r.getSession()||i.getSession();if(l&&m&&this._updateSessionFromEvent(m,p),a){const y=((_=p.sdkProcessingMetadata)==null?void 0:_.spanCountBeforeProcessing)||0,v=p.spans?p.spans.length:0,x=y-v;x>0&&this.recordDroppedEvent("before_send","span",x)}const g=p.transaction_info;if(a&&g&&p.transaction!==t.transaction){const y="custom";p.transaction_info={...g,source:y}}return this.sendEvent(p,n),p}).then(null,p=>{throw ov(p)||sv(p)?p:(this.captureException(p,{mechanism:{handled:!1,type:"internal"},data:{__sentry__:!0},originalException:p}),sc(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${p}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.entries(t).map(([n,r])=>{const[i,s]=n.split(":");return{reason:i,category:s,quantity:r}})}_flushOutcomes(){H&&N.log("Flushing outcomes...");const t=this._clearOutcomes();if(t.length===0){H&&N.log("No outcomes to send");return}if(!this._dsn){H&&N.log("No dsn provided, will not send outcomes");return}H&&N.log("Sending outcomes:",t);const n=GR(t,this._options.tunnel&&Ws(this._dsn));this.sendEnvelope(n)}}function QR(e,t){const n=`${t} must return \`null\` or a valid event.`;if(Ma(e))return e.then(r=>{if(!oa(r)&&r!==null)throw sc(n);return r},r=>{throw sc(`${t} rejected with ${r}`)});if(!oa(e)&&e!==null)throw sc(n);return e}function eM(e,t,n,r){const{beforeSend:i,beforeSendTransaction:s,beforeSendSpan:o,ignoreSpans:a}=t;let l=n;if(vh(l)&&i)return i(l,r);if(tw(l)){if(o||a){const c=KR(l);if(a!=null&&a.length&&gh(c,a))return null;if(o){const d=o(c);d?l=Da(n,XR(d)):hh()}if(l.spans){const d=[],f=l.spans;for(const p of f){if(a!=null&&a.length&&gh(p,a)){eR(f,p);continue}if(o){const m=o(p);m?d.push(m):(hh(),d.push(p))}else d.push(p)}const h=l.spans.length-d.length;h&&e.recordDroppedEvent("before_send","span",h),l.spans=d}}if(s){if(l.spans){const c=l.spans.length;l.sdkProcessingMetadata={...n.sdkProcessingMetadata,spanCountBeforeProcessing:c}}return s(l,r)}}return l}function vh(e){return e.type===void 0}function tw(e){return e.type==="transaction"}function tM(e){return[{type:"log",item_count:e.length,content_type:"application/vnd.sentry.items.log+json"},{items:e}]}function nM(e,t,n,r){const i={};return t!=null&&t.sdk&&(i.sdk={name:t.sdk.name,version:t.sdk.version}),n&&r&&(i.dsn=Ws(r)),Mi(i,[tM(e)])}function Fd(e,t){const n=rM(e)??[];if(n.length===0)return;const r=e.getOptions(),i=nM(n,r._metadata,r.tunnel,e.getDsn());nw().set(e,[]),e.emit("flushLogs"),e.sendEnvelope(i)}function rM(e){return nw().get(e)}function nw(){return Ra("clientToLogBufferMap",()=>new WeakMap)}function iM(e,t){t.debug===!0&&(H?N.enable():Ti(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),ue().update(t.initialScope);const r=new e(t);return sM(r),r.init(),r}function sM(e){ue().setClient(e)}const rw=Symbol.for("SentryBufferFullError");function oM(e){const t=[];function n(){return e===void 0||t.length<e}function r(o){return t.splice(t.indexOf(o),1)[0]||Promise.resolve(void 0)}function i(o){if(!n())return Vc(rw);const a=o();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new Mr((a,l)=>{let c=t.length;if(!c)return a(!0);const d=setTimeout(()=>{o&&o>0&&a(!1)},o);t.forEach(f=>{Xn(f).then(()=>{--c||(clearTimeout(d),a(!0))},l)})})}return{$:t,add:i,drain:s}}const aM=60*1e3;function lM(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?aM:r-t}function cM(e,t){return e[t]||e.all||0}function iw(e,t,n=Date.now()){return cM(e,t)>n}function sw(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n==null?void 0:n["x-sentry-rate-limits"],o=n==null?void 0:n["retry-after"];if(s)for(const a of s.trim().split(",")){const[l,c,,,d]=a.split(":",5),f=parseInt(l,10),h=(isNaN(f)?60:f)*1e3;if(!c)i.all=r+h;else for(const p of c.split(";"))p==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(i[p]=r+h):i[p]=r+h}else o?i.all=r+lM(o,r):t===429&&(i.all=r+60*1e3);return i}const uM=64;function dM(e,t,n=oM(e.bufferSize||uM)){let r={};const i=o=>n.drain(o);function s(o){const a=[];if(Wy(o,(f,h)=>{const p=Uy(h);iw(r,p)?e.recordDroppedEvent("ratelimit_backoff",p):a.push(f)}),a.length===0)return Xn({});const l=Mi(o[0],a),c=f=>{Wy(l,(h,p)=>{e.recordDroppedEvent(f,Uy(p))})},d=()=>t({body:GI(l)}).then(f=>(f.statusCode!==void 0&&(f.statusCode<200||f.statusCode>=300)&&H&&N.warn(`Sentry responded with status code ${f.statusCode} to sent event.`),r=sw(r,f),f),f=>{throw c("network_error"),H&&N.error("Encountered error running transport request:",f),f});return n.add(d).then(f=>f,f=>{if(f===rw)return H&&N.error("Skipped sending event because buffer is full."),c("queue_overflow"),Xn({});throw f})}return{send:s,flush:i}}const fM="thismessage:/";function cm(e){return"isRelative"in e}function um(e,t){const n=e.indexOf("://")<=0&&e.indexOf("//")!==0,r=n?fM:void 0;try{if("canParse"in URL&&!URL.canParse(e,r))return;const i=new URL(e,r);return n?{isRelative:n,pathname:i.pathname,search:i.search,hash:i.hash}:i}catch{}}function hM(e){if(cm(e))return e.pathname;const t=new URL(e);return t.search="",t.hash="",["80","443"].includes(t.port)&&(t.port=""),t.password&&(t.password="%filtered%"),t.username&&(t.username="%filtered%"),t.toString()}function ci(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}function pM(e){return e.split(/[?#]/,1)[0]}function mM(e,t){const n=t==null?void 0:t.getDsn(),r=t==null?void 0:t.getOptions().tunnel;return yM(e,n)||gM(e,r)}function gM(e,t){return t?av(e)===av(t):!1}function yM(e,t){const n=um(e);return!n||cm(n)?!1:t?n.host.includes(t.host)&&/(^|&|\?)sentry_key=/.test(n.search):!1}function av(e){return e[e.length-1]==="/"?e.slice(0,-1):e}function vM(e){var t;"aggregates"in e?((t=e.attrs)==null?void 0:t.ip_address)===void 0&&(e.attrs={...e.attrs,ip_address:"{{auto}}"}):e.ipAddress===void 0&&(e.ipAddress="{{auto}}")}function ow(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:oi})),version:oi}),e._metadata=i}function aw(e={}){const t=e.client||te();if(!FR()||!t)return{};const n=Ci(),r=Fs(n);if(r.getTraceData)return r.getTraceData(e);const i=e.scope||ue(),s=e.span||mt(),o=s?zI(s):_M(i),a=s?Kn(s):Ob(t,i),l=kI(a);if(!Cb.test(o))return N.warn("Invalid sentry-trace data. Cannot generate trace data"),{};const d={"sentry-trace":o,baggage:l};if(e.propagateTraceparent){const f=xM(o);f&&(d.traceparent=f)}return d}function _M(e){const{traceId:t,sampled:n,propagationSpanId:r}=e.getPropagationContext();return Ib(t,r,n)}function xM(e){const{traceId:t,parentSpanId:n,parentSampled:r}=Tb(e)||{};if(!(!t||!n))return`00-${t}-${n}-${r?"01":"00"}`}function SM(e,t,n){let r,i,s;const o=n!=null&&n.maxWait?Math.max(n.maxWait,t):0,a=(n==null?void 0:n.setTimeoutImpl)||setTimeout;function l(){return c(),r=e(),r}function c(){i!==void 0&&clearTimeout(i),s!==void 0&&clearTimeout(s),i=s=void 0}function d(){return i!==void 0||s!==void 0?l():r}function f(){return i&&clearTimeout(i),i=a(l,t),o&&s===void 0&&(s=a(l,o)),r}return f.cancel=c,f.flush=d,f}const bM=100;function Lt(e,t){const n=te(),r=Bt();if(!n)return;const{beforeBreadcrumb:i=null,maxBreadcrumbs:s=bM}=n.getOptions();if(s<=0)return;const a={timestamp:Ii(),...e},l=i?Ti(()=>i(a,t)):a;l!==null&&(n.emit&&n.emit("beforeAddBreadcrumb",l,t),r.addBreadcrumb(l,s))}let lv;const wM="FunctionToString",cv=new WeakMap,kM=()=>({name:wM,setupOnce(){lv=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Qp(this),n=cv.has(te())&&t!==void 0?t:this;return lv.apply(n,e)}}catch{}},setup(e){cv.set(e,!0)}}),EM=kM,CM=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/,/^Can't find variable: gmo$/,/^undefined is not an object \(evaluating 'a\.[A-Z]'\)$/,`can't redefine non-configurable property "solana"`,"vv().getRestrictions is not a function. (In 'vv().getRestrictions(1,a)', 'vv().getRestrictions' is undefined)","Can't find variable: _AutofillCallbackHandler",/^Non-Error promise rejection captured with value: Object Not Found Matching Id:\d+, MethodName:simulateEvent, ParamCount:\d+$/,/^Java exception was raised during method invocation$/],TM="EventFilters",IM=(e={})=>{let t;return{name:TM,setup(n){const r=n.getOptions();t=uv(e,r)},processEvent(n,r,i){if(!t){const s=i.getOptions();t=uv(e,s)}return MM(n,t)?null:n}}},RM=(e={})=>({...IM(e),name:"InboundFilters"});function uv(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:CM],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[]]}}function MM(e,t){if(e.type){if(e.type==="transaction"&&jM(e,t.ignoreTransactions))return H&&N.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Gr(e)}`),!0}else{if(DM(e,t.ignoreErrors))return H&&N.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Gr(e)}`),!0;if(NM(e))return H&&N.warn(`Event dropped due to not having an error message, error type or stacktrace.
Event: ${Gr(e)}`),!0;if(AM(e,t.denyUrls))return H&&N.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Gr(e)}.
Url: ${Zc(e)}`),!0;if(!PM(e,t.allowUrls))return H&&N.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Gr(e)}.
Url: ${Zc(e)}`),!0}return!1}function DM(e,t){return t!=null&&t.length?Jb(e).some(n=>$n(n,t)):!1}function jM(e,t){if(!(t!=null&&t.length))return!1;const n=e.transaction;return n?$n(n,t):!1}function AM(e,t){if(!(t!=null&&t.length))return!1;const n=Zc(e);return n?$n(n,t):!1}function PM(e,t){if(!(t!=null&&t.length))return!0;const n=Zc(e);return n?$n(n,t):!0}function OM(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function Zc(e){var t,n;try{const r=[...((t=e.exception)==null?void 0:t.values)??[]].reverse().find(s=>{var o,a,l;return((o=s.mechanism)==null?void 0:o.parent_id)===void 0&&((l=(a=s.stacktrace)==null?void 0:a.frames)==null?void 0:l.length)}),i=(n=r==null?void 0:r.stacktrace)==null?void 0:n.frames;return i?OM(i):null}catch{return H&&N.error(`Cannot extract url for event ${Gr(e)}`),null}}function NM(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)!=null&&n.length?!e.message&&!e.exception.values.some(r=>r.stacktrace||r.type&&r.type!=="Error"||r.value):!1}function LM(e,t,n,r,i,s){var a;if(!((a=i.exception)!=null&&a.values)||!s||!qn(s.originalException,Error))return;const o=i.exception.values.length>0?i.exception.values[i.exception.values.length-1]:void 0;o&&(i.exception.values=_h(e,t,r,s.originalException,n,i.exception.values,o,0))}function _h(e,t,n,r,i,s,o,a){if(s.length>=n+1)return s;let l=[...s];if(qn(r[i],Error)){dv(o,a);const c=e(t,r[i]),d=l.length;fv(c,i,d,a),l=_h(e,t,n,r[i],i,[c,...l],c,d)}return Array.isArray(r.errors)&&r.errors.forEach((c,d)=>{if(qn(c,Error)){dv(o,a);const f=e(t,c),h=l.length;fv(f,`errors[${d}]`,h,a),l=_h(e,t,n,c,i,[f,...l],f,h)}}),l}function dv(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function fv(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function zM(e){const t="console";Nr(t,e),Lr(t,FM)}function FM(){"console"in le&&zT.forEach(function(e){e in le.console&&wt(le.console,e,function(t){return Bc[e]=t,function(...n){Gt("console",{args:n,level:e});const i=Bc[e];i==null||i.apply(le.console,n)}})})}function lw(e){return e==="warn"?"warning":["fatal","error","warning","log","info","debug"].includes(e)?e:"log"}const BM="Dedupe",$M=()=>{let e;return{name:BM,processEvent(t){if(t.type)return t;try{if(UM(t,e))return H&&N.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}},WM=$M;function UM(e,t){return t?!!(HM(e,t)||VM(e,t)):!1}function HM(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!uw(e,t)||!cw(e,t))}function VM(e,t){const n=hv(t),r=hv(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!uw(e,t)||!cw(e,t))}function cw(e,t){let n=Iy(e),r=Iy(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],o=n[i];if(s.filename!==o.filename||s.lineno!==o.lineno||s.colno!==o.colno||s.function!==o.function)return!1}return!0}function uw(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function hv(e){var t,n;return(n=(t=e.exception)==null?void 0:t.values)==null?void 0:n[0]}function ZM(e,t,n,r,i){if(!e.fetchData)return;const{method:s,url:o}=e.fetchData,a=Ir()&&t(o);if(e.endTimestamp&&a){const p=e.fetchData.__span;if(!p)return;const m=r[p];m&&(qM(m,e),delete r[p]);return}const{spanOrigin:l="auto.http.browser",propagateTraceparent:c=!1}=typeof i=="object"?i:{spanOrigin:i},d=!!mt(),f=a&&d?Us(KM(o,s,l)):new Rr;if(e.fetchData.__span=f.spanContext().spanId,r[f.spanContext().spanId]=f,n(e.fetchData.url)){const p=e.args[0],m=e.args[1]||{},g=YM(p,m,Ir()&&d?f:void 0,c);g&&(e.args[1]=m,m.headers=g)}const h=te();if(h){const p={input:e.args,response:e.response,startTimestamp:e.startTimestamp,endTimestamp:e.endTimestamp};h.emit("beforeOutgoingRequestSpan",f,p)}return f}function YM(e,t,n,r){const i=aw({span:n,propagateTraceparent:r}),s=i["sentry-trace"],o=i.baggage,a=i.traceparent;if(!s)return;const l=t.headers||(fb(e)?e.headers:void 0);if(l)if(GM(l)){const c=new Headers(l);if(c.get("sentry-trace")||c.set("sentry-trace",s),r&&a&&!c.get("traceparent")&&c.set("traceparent",a),o){const d=c.get("baggage");d?fl(d)||c.set("baggage",`${d},${o}`):c.set("baggage",o)}return c}else if(Array.isArray(l)){const c=[...l];l.find(f=>f[0]==="sentry-trace")||c.push(["sentry-trace",s]),r&&a&&!l.find(f=>f[0]==="traceparent")&&c.push(["traceparent",a]);const d=l.find(f=>f[0]==="baggage"&&fl(f[1]));return o&&!d&&c.push(["baggage",o]),c}else{const c="sentry-trace"in l?l["sentry-trace"]:void 0,d="traceparent"in l?l.traceparent:void 0,f="baggage"in l?l.baggage:void 0,h=f?Array.isArray(f)?[...f]:[f]:[],p=f&&(Array.isArray(f)?f.find(g=>fl(g)):fl(f));o&&!p&&h.push(o);const m={...l,"sentry-trace":c??s,baggage:h.length>0?h.join(","):void 0};return r&&a&&!d&&(m.traceparent=a),m}else return{...i}}function qM(e,t){var n,r;if(t.response){xb(e,t.response.status);const i=(r=(n=t.response)==null?void 0:n.headers)==null?void 0:r.get("content-length");if(i){const s=parseInt(i);s>0&&e.setAttribute("http.response_content_length",s)}}else t.error&&e.setStatus({code:Ue,message:"internal_error"});e.end()}function fl(e){return e.split(",").some(t=>t.trim().startsWith(nm))}function GM(e){return typeof Headers<"u"&&qn(e,Headers)}function KM(e,t,n){const r=um(e);return{name:r?`${t} ${hM(r)}`:t,attributes:XM(e,r,t,n)}}function XM(e,t,n,r){const i={url:e,type:"fetch","http.method":n,[qe]:r,[Gn]:"http.client"};return t&&(cm(t)||(i["http.url"]=t.href,i["server.address"]=t.host),t.search&&(i["http.query"]=t.search),t.hash&&(i["http.fragment"]=t.hash)),i}function dw(e){if(e!==void 0)return e>=400&&e<500?"warning":e>=500?"error":void 0}const aa=le;function JM(){return"history"in aa&&!!aa.history}function QM(){if(!("fetch"in aa))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function xh(e){return e&&/^function\s+\w+\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function eD(){var n;if(typeof EdgeRuntime=="string")return!0;if(!QM())return!1;if(xh(aa.fetch))return!0;let e=!1;const t=aa.document;if(t&&typeof t.createElement=="function")try{const r=t.createElement("iframe");r.hidden=!0,t.head.appendChild(r),(n=r.contentWindow)!=null&&n.fetch&&(e=xh(r.contentWindow.fetch)),t.head.removeChild(r)}catch(r){H&&N.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",r)}return e}function fw(e,t){const n="fetch";Nr(n,e),Lr(n,()=>hw(void 0,t))}function tD(e){const t="fetch-body-resolved";Nr(t,e),Lr(t,()=>hw(rD))}function hw(e,t=!1){t&&!eD()||wt(le,"fetch",function(n){return function(...r){const i=new Error,{method:s,url:o}=iD(r),a={args:r,fetchData:{method:s,url:o},startTimestamp:Qe()*1e3,virtualError:i,headers:sD(r)};return e||Gt("fetch",{...a}),n.apply(le,r).then(async l=>(e?e(l):Gt("fetch",{...a,endTimestamp:Qe()*1e3,response:l}),l),l=>{if(Gt("fetch",{...a,endTimestamp:Qe()*1e3,error:l}),Au(l)&&l.stack===void 0&&(l.stack=i.stack,Nt(l,"framesToPop",1)),l instanceof TypeError&&(l.message==="Failed to fetch"||l.message==="Load failed"||l.message==="NetworkError when attempting to fetch resource."))try{const c=new URL(a.fetchData.url);l.message=`${l.message} (${c.host})`}catch{}throw l})}})}async function nD(e,t){if(e!=null&&e.body){const n=e.body,r=n.getReader(),i=setTimeout(()=>{n.cancel().then(null,()=>{})},90*1e3);let s=!0;for(;s;){let o;try{o=setTimeout(()=>{n.cancel().then(null,()=>{})},5e3);const{done:a}=await r.read();clearTimeout(o),a&&(t(),s=!1)}catch{s=!1}finally{clearTimeout(o)}}clearTimeout(i),r.releaseLock(),n.cancel().then(null,()=>{})}}function rD(e){let t;try{t=e.clone()}catch{return}nD(t,()=>{Gt("fetch-body-resolved",{endTimestamp:Qe()*1e3,response:e})})}function Sh(e,t){return!!e&&typeof e=="object"&&!!e[t]}function pv(e){return typeof e=="string"?e:e?Sh(e,"url")?e.url:e.toString?e.toString():"":""}function iD(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:pv(n),method:Sh(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:pv(t),method:Sh(t,"method")?String(t.method).toUpperCase():"GET"}}function sD(e){const[t,n]=e;try{if(typeof n=="object"&&n!==null&&"headers"in n&&n.headers)return new Headers(n.headers);if(fb(t))return new Headers(t.headers)}catch{}}function oD(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function aD(){return"npm"}function lD(){return!oD()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function mv(){return typeof window<"u"&&(!lD()||cD())}function cD(){const e=le.process;return(e==null?void 0:e.type)==="renderer"}const ee=le;let bh=0;function pw(){return bh>0}function uD(){bh++,setTimeout(()=>{bh--})}function Ts(e,t={}){function n(i){return typeof i=="function"}if(!n(e))return e;try{const i=e.__sentry_wrapped__;if(i)return typeof i=="function"?i:e;if(Qp(e))return e}catch{return e}const r=function(...i){try{const s=i.map(o=>Ts(o,t));return e.apply(this,s)}catch(s){throw uD(),Bs(o=>{o.addEventProcessor(a=>(t.mechanism&&(uh(a,void 0),bs(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),Cs(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}pb(r,e),Nt(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}function dm(){const e=zs(),{referrer:t}=ee.document||{},{userAgent:n}=ee.navigator||{},r={...t&&{Referer:t},...n&&{"User-Agent":n}};return{url:e,headers:r}}function fm(e,t){const n=hm(e,t),r={type:mD(t),value:gD(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function dD(e,t,n,r){const i=te(),s=i==null?void 0:i.getOptions().normalizeDepth,o=SD(t),a={__serialized__:Nb(t,s)};if(o)return{exception:{values:[fm(e,o)]},extra:a};const l={exception:{values:[{type:Pu(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:_D(t,{isUnhandledRejection:r})}]},extra:a};if(n){const c=hm(e,n);c.length&&(l.exception.values[0].stacktrace={frames:c})}return l}function Bd(e,t){return{exception:{values:[fm(e,t)]}}}function hm(e,t){const n=t.stacktrace||t.stack||"",r=hD(t),i=pD(t);try{return e(n,r,i)}catch{}return[]}const fD=/Minified React error #\d+;/i;function hD(e){return e&&fD.test(e.message)?1:0}function pD(e){return typeof e.framesToPop=="number"?e.framesToPop:0}function mw(e){return typeof WebAssembly<"u"&&typeof WebAssembly.Exception<"u"?e instanceof WebAssembly.Exception:!1}function mD(e){const t=e==null?void 0:e.name;return!t&&mw(e)?e.message&&Array.isArray(e.message)&&e.message.length==2?e.message[0]:"WebAssembly.Exception":t}function gD(e){const t=e==null?void 0:e.message;return mw(e)?Array.isArray(e.message)&&e.message.length==2?e.message[1]:"wasm exception":t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function yD(e,t,n,r){const i=(n==null?void 0:n.syntheticException)||void 0,s=pm(e,t,i,r);return bs(s),s.level="error",n!=null&&n.event_id&&(s.event_id=n.event_id),Xn(s)}function vD(e,t,n="info",r,i){const s=(r==null?void 0:r.syntheticException)||void 0,o=wh(e,t,s,i);return o.level=n,r!=null&&r.event_id&&(o.event_id=r.event_id),Xn(o)}function pm(e,t,n,r,i){let s;if(ub(t)&&t.error)return Bd(e,t.error);if(My(t)||GT(t)){const o=t;if("stack"in t)s=Bd(e,t);else{const a=o.name||(My(o)?"DOMError":"DOMException"),l=o.message?`${a}: ${o.message}`:a;s=wh(e,l,n,r),uh(s,l)}return"code"in o&&(s.tags={...s.tags,"DOMException.code":`${o.code}`}),s}return Au(t)?Bd(e,t):oa(t)||Pu(t)?(s=dD(e,t,n,i),bs(s,{synthetic:!0}),s):(s=wh(e,t,n,r),uh(s,`${t}`),bs(s,{synthetic:!0}),s)}function wh(e,t,n,r){const i={};if(r&&n){const s=hm(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]}),bs(i,{synthetic:!0})}if(Xp(t)){const{__sentry_template_string__:s,__sentry_template_values__:o}=t;return i.logentry={message:s,params:o},i}return i.message=t,i}function _D(e,{isUnhandledRejection:t}){const n=tI(e),r=t?"promise rejection":"exception";return ub(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Pu(e)?`Event \`${xD(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function xD(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function SD(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n instanceof Error)return n}}const bD=5e3;class wD extends JR{constructor(t){var a;const n=kD(t),r=ee.SENTRY_SDK_SOURCE||aD();ow(n,"browser",["browser"],r),(a=n._metadata)!=null&&a.sdk&&(n._metadata.sdk.settings={infer_ip:n.sendDefaultPii?"auto":"never",...n._metadata.sdk.settings}),super(n);const{sendDefaultPii:i,sendClientReports:s,enableLogs:o}=this._options;ee.document&&(s||o)&&ee.document.addEventListener("visibilitychange",()=>{ee.document.visibilityState==="hidden"&&(s&&this._flushOutcomes(),o&&Fd(this))}),o&&(this.on("flush",()=>{Fd(this)}),this.on("afterCaptureLog",()=>{this._logFlushIdleTimeout&&clearTimeout(this._logFlushIdleTimeout),this._logFlushIdleTimeout=setTimeout(()=>{Fd(this)},bD)})),i&&this.on("beforeSendSession",vM)}eventFromException(t,n){return yD(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return vD(this._options.stackParser,t,n,r,this._options.attachStacktrace)}_prepareEvent(t,n,r,i){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r,i)}}function kD(e){var t;return{release:typeof __SENTRY_RELEASE__=="string"?__SENTRY_RELEASE__:(t=ee.SENTRY_RELEASE)==null?void 0:t.id,sendClientReports:!0,parentSpanIsAlwaysRootSpan:!0,...e}}const Is=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,G=le,ED=(e,t)=>e>t[1]?"poor":e>t[0]?"needs-improvement":"good",Oa=(e,t,n,r)=>{let i,s;return o=>{t.value>=0&&(o||r)&&(s=t.value-(i??0),(s||i===void 0)&&(i=t.value,t.delta=s,t.rating=ED(t.value,n),e(t)))}},CD=()=>`v5-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,Na=(e=!0)=>{var n,r;const t=(r=(n=G.performance)==null?void 0:n.getEntriesByType)==null?void 0:r.call(n,"navigation")[0];if(!e||t&&t.responseStart>0&&t.responseStart<performance.now())return t},Hs=()=>{const e=Na();return(e==null?void 0:e.activationStart)??0},La=(e,t=-1)=>{var s,o;const n=Na();let r="navigate";return n&&((s=G.document)!=null&&s.prerendering||Hs()>0?r="prerender":(o=G.document)!=null&&o.wasDiscarded?r="restore":n.type&&(r=n.type.replace(/_/g,"-"))),{name:e,value:t,rating:"good",delta:0,entries:[],id:CD(),navigationType:r}},$d=new WeakMap;function mm(e,t){return $d.get(e)||$d.set(e,new t),$d.get(e)}class Yc{constructor(){Yc.prototype.__init.call(this),Yc.prototype.__init2.call(this)}__init(){this._sessionValue=0}__init2(){this._sessionEntries=[]}_processEntry(t){var i;if(t.hadRecentInput)return;const n=this._sessionEntries[0],r=this._sessionEntries[this._sessionEntries.length-1];this._sessionValue&&n&&r&&t.startTime-r.startTime<1e3&&t.startTime-n.startTime<5e3?(this._sessionValue+=t.value,this._sessionEntries.push(t)):(this._sessionValue=t.value,this._sessionEntries=[t]),(i=this._onAfterProcessingUnexpectedShift)==null||i.call(this,t)}}const Vs=(e,t,n={})=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){const r=new PerformanceObserver(i=>{Promise.resolve().then(()=>{t(i.getEntries())})});return r.observe({type:e,buffered:!0,...n}),r}}catch{}},gm=e=>{let t=!1;return()=>{t||(e(),t=!0)}};let Ao=-1;const TD=()=>{var e,t;return((e=G.document)==null?void 0:e.visibilityState)==="hidden"&&!((t=G.document)!=null&&t.prerendering)?0:1/0},qc=e=>{G.document.visibilityState==="hidden"&&Ao>-1&&(Ao=e.type==="visibilitychange"?e.timeStamp:0,RD())},ID=()=>{addEventListener("visibilitychange",qc,!0),addEventListener("prerenderingchange",qc,!0)},RD=()=>{removeEventListener("visibilitychange",qc,!0),removeEventListener("prerenderingchange",qc,!0)},ym=()=>{var e;if(G.document&&Ao<0){const t=Hs();Ao=(G.document.prerendering||(e=globalThis.performance.getEntriesByType("visibility-state").filter(r=>r.name==="hidden"&&r.startTime>t)[0])==null?void 0:e.startTime)??TD(),ID()}return{get firstHiddenTime(){return Ao}}},Nu=e=>{var t;(t=G.document)!=null&&t.prerendering?addEventListener("prerenderingchange",()=>e(),!0):e()},MD=[1800,3e3],DD=(e,t={})=>{Nu(()=>{const n=ym(),r=La("FCP");let i;const o=Vs("paint",a=>{for(const l of a)l.name==="first-contentful-paint"&&(o.disconnect(),l.startTime<n.firstHiddenTime&&(r.value=Math.max(l.startTime-Hs(),0),r.entries.push(l),i(!0)))});o&&(i=Oa(e,r,MD,t.reportAllChanges))})},jD=[.1,.25],AD=(e,t={})=>{DD(gm(()=>{var a,l;const n=La("CLS",0);let r;const i=mm(t,Yc),s=c=>{for(const d of c)i._processEntry(d);i._sessionValue>n.value&&(n.value=i._sessionValue,n.entries=i._sessionEntries,r())},o=Vs("layout-shift",s);o&&(r=Oa(e,n,jD,t.reportAllChanges),(a=G.document)==null||a.addEventListener("visibilitychange",()=>{var c;((c=G.document)==null?void 0:c.visibilityState)==="hidden"&&(s(o.takeRecords()),r(!0))}),(l=G==null?void 0:G.setTimeout)==null||l.call(G,r))}))};let gw=0,Wd=1/0,hl=0;const PD=e=>{e.forEach(t=>{t.interactionId&&(Wd=Math.min(Wd,t.interactionId),hl=Math.max(hl,t.interactionId),gw=hl?(hl-Wd)/7+1:0)})};let kh;const yw=()=>kh?gw:performance.interactionCount||0,OD=()=>{"interactionCount"in performance||kh||(kh=Vs("event",PD,{type:"event",buffered:!0,durationThreshold:0}))},Ud=10;let vw=0;const ND=()=>yw()-vw;class Gc{constructor(){Gc.prototype.__init.call(this),Gc.prototype.__init2.call(this)}__init(){this._longestInteractionList=[]}__init2(){this._longestInteractionMap=new Map}_resetInteractions(){vw=yw(),this._longestInteractionList.length=0,this._longestInteractionMap.clear()}_estimateP98LongestInteraction(){const t=Math.min(this._longestInteractionList.length-1,Math.floor(ND()/50));return this._longestInteractionList[t]}_processEntry(t){var i,s;if((i=this._onBeforeProcessingEntry)==null||i.call(this,t),!(t.interactionId||t.entryType==="first-input"))return;const n=this._longestInteractionList.at(-1);let r=this._longestInteractionMap.get(t.interactionId);if(r||this._longestInteractionList.length<Ud||t.duration>n._latency){if(r?t.duration>r._latency?(r.entries=[t],r._latency=t.duration):t.duration===r._latency&&t.startTime===r.entries[0].startTime&&r.entries.push(t):(r={id:t.interactionId,entries:[t],_latency:t.duration},this._longestInteractionMap.set(r.id,r),this._longestInteractionList.push(r)),this._longestInteractionList.sort((o,a)=>a._latency-o._latency),this._longestInteractionList.length>Ud){const o=this._longestInteractionList.splice(Ud);for(const a of o)this._longestInteractionMap.delete(a.id)}(s=this._onAfterProcessingINPCandidate)==null||s.call(this,r)}}}const vm=e=>{const t=n=>{var r;(n.type==="pagehide"||((r=G.document)==null?void 0:r.visibilityState)==="hidden")&&e(n)};G.document&&(addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0))},_w=e=>{var n;const t=G.requestIdleCallback||G.setTimeout;((n=G.document)==null?void 0:n.visibilityState)==="hidden"?e():(e=gm(e),t(e),vm(e))},LD=[200,500],zD=40,FD=(e,t={})=>{globalThis.PerformanceEventTiming&&"interactionId"in PerformanceEventTiming.prototype&&Nu(()=>{OD();const n=La("INP");let r;const i=mm(t,Gc),s=a=>{_w(()=>{for(const c of a)i._processEntry(c);const l=i._estimateP98LongestInteraction();l&&l._latency!==n.value&&(n.value=l._latency,n.entries=l.entries,r())})},o=Vs("event",s,{durationThreshold:t.durationThreshold??zD});r=Oa(e,n,LD,t.reportAllChanges),o&&(o.observe({type:"first-input",buffered:!0}),vm(()=>{s(o.takeRecords()),r(!0)}))})};class BD{_processEntry(t){var n;(n=this._onBeforeProcessingEntry)==null||n.call(this,t)}}const $D=[2500,4e3],WD=(e,t={})=>{Nu(()=>{const n=ym(),r=La("LCP");let i;const s=mm(t,BD),o=l=>{t.reportAllChanges||(l=l.slice(-1));for(const c of l)s._processEntry(c),c.startTime<n.firstHiddenTime&&(r.value=Math.max(c.startTime-Hs(),0),r.entries=[c],i())},a=Vs("largest-contentful-paint",o);if(a){i=Oa(e,r,$D,t.reportAllChanges);const l=gm(()=>{o(a.takeRecords()),a.disconnect(),i(!0)});for(const c of["keydown","click","visibilitychange"])G.document&&addEventListener(c,()=>_w(l),{capture:!0,once:!0})}})},UD=[800,1800],Eh=e=>{var t,n;(t=G.document)!=null&&t.prerendering?Nu(()=>Eh(e)):((n=G.document)==null?void 0:n.readyState)!=="complete"?addEventListener("load",()=>Eh(e),!0):setTimeout(e)},HD=(e,t={})=>{const n=La("TTFB"),r=Oa(e,n,UD,t.reportAllChanges);Eh(()=>{const i=Na();i&&(n.value=Math.max(i.responseStart-Hs(),0),n.entries=[i],r(!0))})},Po={},Kc={};let xw,Sw,bw,ww;function _m(e,t=!1){return Lu("cls",e,ZD,xw,t)}function xm(e,t=!1){return Lu("lcp",e,YD,Sw,t)}function VD(e){return Lu("ttfb",e,qD,bw)}function kw(e){return Lu("inp",e,GD,ww)}function _i(e,t){return Ew(e,t),Kc[e]||(KD(e),Kc[e]=!0),Cw(e,t)}function za(e,t){const n=Po[e];if(n!=null&&n.length)for(const r of n)try{r(t)}catch(i){Is&&N.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Yn(r)}
Error:`,i)}}function ZD(){return AD(e=>{za("cls",{metric:e}),xw=e},{reportAllChanges:!0})}function YD(){return WD(e=>{za("lcp",{metric:e}),Sw=e},{reportAllChanges:!0})}function qD(){return HD(e=>{za("ttfb",{metric:e}),bw=e})}function GD(){return FD(e=>{za("inp",{metric:e}),ww=e})}function Lu(e,t,n,r,i=!1){Ew(e,t);let s;return Kc[e]||(s=n(),Kc[e]=!0),r&&t({metric:r}),Cw(e,t,i?s:void 0)}function KD(e){const t={};e==="event"&&(t.durationThreshold=0),Vs(e,n=>{za(e,{entries:n})},t)}function Ew(e,t){Po[e]=Po[e]||[],Po[e].push(t)}function Cw(e,t,n){return()=>{n&&n();const r=Po[e];if(!r)return;const i=r.indexOf(t);i!==-1&&r.splice(i,1)}}function XD(e){return"duration"in e}function Hd(e){return typeof e=="number"&&isFinite(e)}function Dr(e,t,n,{...r}){const i=oe(e).start_timestamp;return i&&i>t&&typeof e.updateStartTime=="function"&&e.updateStartTime(t),om(e,()=>{const s=Us({startTime:t,...r});return s&&s.end(n),s})}function Sm(e){var _;const t=te();if(!t)return;const{name:n,transaction:r,attributes:i,startTime:s}=e,{release:o,environment:a,sendDefaultPii:l}=t.getOptions(),c=t.getIntegrationByName("Replay"),d=c==null?void 0:c.getReplayId(),f=ue(),h=f.getUser(),p=h!==void 0?h.email||h.id||h.ip_address:void 0;let m;try{m=f.getScopeData().contexts.profile.profile_id}catch{}const g={release:o,environment:a,user:p||void 0,profile_id:m||void 0,replay_id:d||void 0,transaction:r,"user_agent.original":(_=G.navigator)==null?void 0:_.userAgent,"client.address":l?"{{auto}}":void 0,...i};return Us({name:n,attributes:g,startTime:s,experimental:{standalone:!0}})}function zu(){return G.addEventListener&&G.performance}function Pe(e){return e/1e3}function Tw(e){let t="unknown",n="unknown",r="";for(const i of e){if(i==="/"){[t,n]=e.split("/");break}if(!isNaN(Number(i))){t=r==="h"?"http":r,n=e.split(r)[1];break}r+=i}return r===e&&(t=r),{name:t,version:n}}function Iw(e){try{return PerformanceObserver.supportedEntryTypes.includes(e)}catch{return!1}}function Rw(e,t){let n,r=!1;function i(a){!r&&n&&t(a,n),r=!0}vm(()=>{i("pagehide")});const s=e.on("beforeStartNavigationSpan",(a,l)=>{l!=null&&l.isRedirect||(i("navigation"),gv(s,o))}),o=e.on("afterStartPageLoadSpan",a=>{n=a.spanContext().spanId,gv(o)})}function gv(...e){e.forEach(t=>t&&setTimeout(t,0))}function JD(e){let t=0,n;if(!Iw("layout-shift"))return;const r=_m(({metric:i})=>{const s=i.entries[i.entries.length-1];s&&(t=i.value,n=s)},!0);Rw(e,(i,s)=>{QD(t,n,s,i),r()})}function QD(e,t,n,r){var c;Is&&N.log(`Sending CLS span (${e})`);const i=Pe((It()||0)+((t==null?void 0:t.startTime)||0)),s=ue().getScopeData().transactionName,o=t?Jt((c=t.sources[0])==null?void 0:c.node):"Layout shift",a={[qe]:"auto.http.browser.cls",[Gn]:"ui.webvital.cls",[$s]:(t==null?void 0:t.duration)||0,"sentry.pageload.span_id":n,"sentry.report_event":r};t!=null&&t.sources&&t.sources.forEach((d,f)=>{a[`cls.source.${f+1}`]=Jt(d.node)});const l=Sm({name:o,transaction:s,attributes:a,startTime:i});l&&(l.addEvent("cls",{[Aa]:"",[Pa]:e}),l.end(i))}function ej(e){let t=0,n;if(!Iw("largest-contentful-paint"))return;const r=xm(({metric:i})=>{const s=i.entries[i.entries.length-1];s&&(t=i.value,n=s)},!0);Rw(e,(i,s)=>{tj(t,n,s,i),r()})}function tj(e,t,n,r){Is&&N.log(`Sending LCP span (${e})`);const i=Pe((It()||0)+((t==null?void 0:t.startTime)||0)),s=ue().getScopeData().transactionName,o=t?Jt(t.element):"Largest contentful paint",a={[qe]:"auto.http.browser.lcp",[Gn]:"ui.webvital.lcp",[$s]:0,"sentry.pageload.span_id":n,"sentry.report_event":r};t&&(t.element&&(a["lcp.element"]=Jt(t.element)),t.id&&(a["lcp.id"]=t.id),t.url&&(a["lcp.url"]=t.url.trim().slice(0,200)),t.loadTime!=null&&(a["lcp.loadTime"]=t.loadTime),t.renderTime!=null&&(a["lcp.renderTime"]=t.renderTime),t.size!=null&&(a["lcp.size"]=t.size));const l=Sm({name:o,transaction:s,attributes:a,startTime:i});l&&(l.addEvent("lcp",{[Aa]:"millisecond",[Pa]:e}),l.end(i))}const nj=2147483647;let yv=0,cn={},_t,Qi;function rj({recordClsStandaloneSpans:e,recordLcpStandaloneSpans:t,client:n}){const r=zu();if(r&&It()){r.mark&&G.performance.mark("sentry-tracing-init");const i=t?ej(n):lj(),s=cj(),o=e?JD(n):aj();return()=>{i==null||i(),s(),o==null||o()}}return()=>{}}function ij(){_i("longtask",({entries:e})=>{const t=mt();if(!t)return;const{op:n,start_timestamp:r}=oe(t);for(const i of e){const s=Pe(It()+i.startTime),o=Pe(i.duration);n==="navigation"&&r&&s<r||Dr(t,s,s+o,{name:"Main UI thread blocked",op:"ui.long-task",attributes:{[qe]:"auto.ui.browser.metrics"}})}})}function sj(){new PerformanceObserver(t=>{const n=mt();if(n)for(const r of t.getEntries()){if(!r.scripts[0])continue;const i=Pe(It()+r.startTime),{start_timestamp:s,op:o}=oe(n);if(o==="navigation"&&s&&i<s)continue;const a=Pe(r.duration),l={[qe]:"auto.ui.browser.metrics"},c=r.scripts[0],{invoker:d,invokerType:f,sourceURL:h,sourceFunctionName:p,sourceCharPosition:m}=c;l["browser.script.invoker"]=d,l["browser.script.invoker_type"]=f,h&&(l["code.filepath"]=h),p&&(l["code.function"]=p),m!==-1&&(l["browser.script.source_char_position"]=m),Dr(n,i,i+a,{name:"Main UI thread blocked",op:"ui.long-animation-frame",attributes:l})}}).observe({type:"long-animation-frame",buffered:!0})}function oj(){_i("event",({entries:e})=>{const t=mt();if(t){for(const n of e)if(n.name==="click"){const r=Pe(It()+n.startTime),i=Pe(n.duration),s={name:Jt(n.target),op:`ui.interaction.${n.name}`,startTime:r,attributes:{[qe]:"auto.ui.browser.metrics"}},o=hb(n.target);o&&(s.attributes["ui.component_name"]=o),Dr(t,r,r+i,s)}}})}function aj(){return _m(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(cn.cls={value:e.value,unit:""},Qi=t)},!0)}function lj(){return xm(({metric:e})=>{const t=e.entries[e.entries.length-1];t&&(cn.lcp={value:e.value,unit:"millisecond"},_t=t)},!0)}function cj(){return VD(({metric:e})=>{e.entries[e.entries.length-1]&&(cn.ttfb={value:e.value,unit:"millisecond"})})}function uj(e,t){const n=zu(),r=It();if(!(n!=null&&n.getEntries)||!r)return;const i=Pe(r),s=n.getEntries(),{op:o,start_timestamp:a}=oe(e);s.slice(yv).forEach(l=>{const c=Pe(l.startTime),d=Pe(Math.max(0,l.duration));if(!(o==="navigation"&&a&&i+c<a))switch(l.entryType){case"navigation":{hj(e,l,i);break}case"mark":case"paint":case"measure":{dj(e,l,c,d,i,t.ignorePerformanceApiSpans);const f=ym(),h=l.startTime<f.firstHiddenTime;l.name==="first-paint"&&h&&(cn.fp={value:l.startTime,unit:"millisecond"}),l.name==="first-contentful-paint"&&h&&(cn.fcp={value:l.startTime,unit:"millisecond"});break}case"resource":{gj(e,l,l.name,c,d,i,t.ignoreResourceSpans);break}}}),yv=Math.max(s.length-1,0),yj(e),o==="pageload"&&(_j(cn),t.recordClsOnPageloadSpan||delete cn.cls,t.recordLcpOnPageloadSpan||delete cn.lcp,Object.entries(cn).forEach(([l,c])=>{lR(l,c.value,c.unit)}),e.setAttribute("performance.timeOrigin",i),e.setAttribute("performance.activationStart",Hs()),vj(e,t)),_t=void 0,Qi=void 0,cn={}}function dj(e,t,n,r,i,s){if(["mark","measure"].includes(t.entryType)&&$n(t.name,s))return;const o=Na(!1),a=Pe(o?o.requestStart:0),l=i+Math.max(n,a),c=i+n,d=c+r,f={[qe]:"auto.resource.browser.metrics"};l!==c&&(f["sentry.browser.measure_happened_before_request"]=!0,f["sentry.browser.measure_start_time"]=l),fj(f,t),l<=d&&Dr(e,l,d,{name:t.name,op:t.entryType,attributes:f})}function fj(e,t){try{const n=t.detail;if(!n)return;if(typeof n=="object"){for(const[r,i]of Object.entries(n))if(i&&sa(i))e[`sentry.browser.measure.detail.${r}`]=i;else if(i!==void 0)try{e[`sentry.browser.measure.detail.${r}`]=JSON.stringify(i)}catch{}return}if(sa(n)){e["sentry.browser.measure.detail"]=n;return}try{e["sentry.browser.measure.detail"]=JSON.stringify(n)}catch{}}catch{}}function hj(e,t,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{pl(e,t,r,n)}),pl(e,t,"secureConnection",n,"TLS/SSL"),pl(e,t,"fetch",n,"cache"),pl(e,t,"domainLookup",n,"DNS"),mj(e,t,n)}function pl(e,t,n,r,i=n){const s=pj(n),o=t[s],a=t[`${n}Start`];!a||!o||Dr(e,r+Pe(a),r+Pe(o),{op:`browser.${i}`,name:t.name,attributes:{[qe]:"auto.ui.browser.metrics",...n==="redirect"&&t.redirectCount!=null?{"http.redirect_count":t.redirectCount}:{}}})}function pj(e){return e==="secureConnection"?"connectEnd":e==="fetch"?"domainLookupStart":`${e}End`}function mj(e,t,n){const r=n+Pe(t.requestStart),i=n+Pe(t.responseEnd),s=n+Pe(t.responseStart);t.responseEnd&&(Dr(e,r,i,{op:"browser.request",name:t.name,attributes:{[qe]:"auto.ui.browser.metrics"}}),Dr(e,s,i,{op:"browser.response",name:t.name,attributes:{[qe]:"auto.ui.browser.metrics"}}))}function gj(e,t,n,r,i,s,o){if(t.initiatorType==="xmlhttprequest"||t.initiatorType==="fetch")return;const a=t.initiatorType?`resource.${t.initiatorType}`:"resource.other";if(o!=null&&o.includes(a))return;const l=ci(n),c={[qe]:"auto.resource.browser.metrics"};Vd(c,t,"transferSize","http.response_transfer_size"),Vd(c,t,"encodedBodySize","http.response_content_length"),Vd(c,t,"decodedBodySize","http.decoded_response_content_length");const d=t.deliveryType;d!=null&&(c["http.response_delivery_type"]=d);const f=t.renderBlockingStatus;if(f&&(c["resource.render_blocking_status"]=f),l.protocol&&(c["url.scheme"]=l.protocol.split(":").pop()),l.host&&(c["server.address"]=l.host),c["url.same_origin"]=n.includes(G.location.origin),t.nextHopProtocol!=null){const{name:m,version:g}=Tw(t.nextHopProtocol);c["network.protocol.name"]=m,c["network.protocol.version"]=g}const h=s+r,p=h+i;Dr(e,h,p,{name:n.replace(G.location.origin,""),op:a,attributes:c})}function yj(e){const t=G.navigator;if(!t)return;const n=t.connection;n&&(n.effectiveType&&e.setAttribute("effectiveConnectionType",n.effectiveType),n.type&&e.setAttribute("connectionType",n.type),Hd(n.rtt)&&(cn["connection.rtt"]={value:n.rtt,unit:"millisecond"})),Hd(t.deviceMemory)&&e.setAttribute("deviceMemory",`${t.deviceMemory} GB`),Hd(t.hardwareConcurrency)&&e.setAttribute("hardwareConcurrency",String(t.hardwareConcurrency))}function vj(e,t){_t&&t.recordLcpOnPageloadSpan&&(_t.element&&e.setAttribute("lcp.element",Jt(_t.element)),_t.id&&e.setAttribute("lcp.id",_t.id),_t.url&&e.setAttribute("lcp.url",_t.url.trim().slice(0,200)),_t.loadTime!=null&&e.setAttribute("lcp.loadTime",_t.loadTime),_t.renderTime!=null&&e.setAttribute("lcp.renderTime",_t.renderTime),e.setAttribute("lcp.size",_t.size)),Qi!=null&&Qi.sources&&t.recordClsOnPageloadSpan&&Qi.sources.forEach((n,r)=>e.setAttribute(`cls.source.${r+1}`,Jt(n.node)))}function Vd(e,t,n,r){const i=t[n];i!=null&&i<nj&&(e[r]=i)}function _j(e){const t=Na(!1);if(!t)return;const{responseStart:n,requestStart:r}=t;r<=n&&(e["ttfb.requestTime"]={value:n-r,unit:"millisecond"})}function xj(){return zu()&&It()?_i("element",Sj):()=>{}}const Sj=({entries:e})=>{const t=mt(),n=t?at(t):void 0,r=n?oe(n).description:ue().getScopeData().transactionName;e.forEach(i=>{var p,m;const s=i;if(!s.identifier)return;const o=s.name,a=s.renderTime,l=s.loadTime,[c,d]=l?[Pe(l),"load-time"]:a?[Pe(a),"render-time"]:[Qe(),"entry-emission"],f=o==="image-paint"?Pe(Math.max(0,(a??0)-(l??0))):0,h={[qe]:"auto.ui.browser.elementtiming",[Gn]:"ui.elementtiming",[fn]:"component","sentry.span_start_time_source":d,"sentry.transaction_name":r,"element.id":s.id,"element.type":((m=(p=s.element)==null?void 0:p.tagName)==null?void 0:m.toLowerCase())||"unknown","element.size":s.naturalWidth&&s.naturalHeight?`${s.naturalWidth}x${s.naturalHeight}`:void 0,"element.render_time":a,"element.load_time":l,"element.url":s.url||void 0,"element.identifier":s.identifier,"element.paint_type":o};pR({name:`element[${s.identifier}]`,attributes:h,startTime:c,onlyIfParent:!0},g=>{g.end(c+f)})})},bj=1e3;let vv,Ch,Th;function Mw(e){const t="dom";Nr(t,e),Lr(t,wj)}function wj(){if(!G.document)return;const e=Gt.bind(null,"dom"),t=_v(e,!0);G.document.addEventListener("click",t,!1),G.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{var s,o;const i=(s=G[n])==null?void 0:s.prototype;(o=i==null?void 0:i.hasOwnProperty)!=null&&o.call(i,"addEventListener")&&(wt(i,"addEventListener",function(a){return function(l,c,d){if(l==="click"||l=="keypress")try{const f=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},h=f[l]=f[l]||{refCount:0};if(!h.handler){const p=_v(e);h.handler=p,a.call(this,l,p,d)}h.refCount++}catch{}return a.call(this,l,c,d)}}),wt(i,"removeEventListener",function(a){return function(l,c,d){if(l==="click"||l=="keypress")try{const f=this.__sentry_instrumentation_handlers__||{},h=f[l];h&&(h.refCount--,h.refCount<=0&&(a.call(this,l,h.handler,d),h.handler=void 0,delete f[l]),Object.keys(f).length===0&&delete this.__sentry_instrumentation_handlers__)}catch{}return a.call(this,l,c,d)}}))})}function kj(e){if(e.type!==Ch)return!1;try{if(!e.target||e.target._sentryId!==Th)return!1}catch{}return!0}function Ej(e,t){return e!=="keypress"?!1:t!=null&&t.tagName?!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable):!0}function _v(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=Cj(n);if(Ej(n.type,r))return;Nt(n,"_sentryCaptured",!0),r&&!r._sentryId&&Nt(r,"_sentryId",Pt());const i=n.type==="keypress"?"input":n.type;kj(n)||(e({event:n,name:i,global:t}),Ch=n.type,Th=r?r._sentryId:void 0),clearTimeout(vv),vv=G.setTimeout(()=>{Th=void 0,Ch=void 0},bj)}}function Cj(e){try{return e.target}catch{return null}}let ml;function Fu(e){const t="history";Nr(t,e),Lr(t,Tj)}function Tj(){if(G.addEventListener("popstate",()=>{const t=G.location.href,n=ml;if(ml=t,n===t)return;Gt("history",{from:n,to:t})}),!JM())return;function e(t){return function(...n){const r=n.length>2?n[2]:void 0;if(r){const i=ml,s=Ij(String(r));if(ml=s,i===s)return t.apply(this,n);Gt("history",{from:i,to:s})}return t.apply(this,n)}}wt(G.history,"pushState",e),wt(G.history,"replaceState",e)}function Ij(e){try{return new URL(e,G.location.origin).toString()}catch{return e}}const oc={};function Dw(e){const t=oc[e];if(t)return t;let n=G[e];if(xh(n))return oc[e]=n.bind(G);const r=G.document;if(r&&typeof r.createElement=="function")try{const i=r.createElement("iframe");i.hidden=!0,r.head.appendChild(i);const s=i.contentWindow;s!=null&&s[e]&&(n=s[e]),r.head.removeChild(i)}catch(i){Is&&N.warn(`Could not create sandbox iframe for ${e} check, bailing to window.${e}: `,i)}return n&&(oc[e]=n.bind(G))}function xv(e){oc[e]=void 0}function Fa(...e){return Dw("setTimeout")(...e)}const Qr="__sentry_xhr_v3__";function jw(e){const t="xhr";Nr(t,e),Lr(t,Rj)}function Rj(){if(!G.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;e.open=new Proxy(e.open,{apply(t,n,r){const i=new Error,s=Qe()*1e3,o=Bn(r[0])?r[0].toUpperCase():void 0,a=Mj(r[1]);if(!o||!a)return t.apply(n,r);n[Qr]={method:o,url:a,request_headers:{}},o==="POST"&&a.match(/sentry_key/)&&(n.__sentry_own_request__=!0);const l=()=>{const c=n[Qr];if(c&&n.readyState===4){try{c.status_code=n.status}catch{}const d={endTimestamp:Qe()*1e3,startTimestamp:s,xhr:n,virtualError:i};Gt("xhr",d)}};return"onreadystatechange"in n&&typeof n.onreadystatechange=="function"?n.onreadystatechange=new Proxy(n.onreadystatechange,{apply(c,d,f){return l(),c.apply(d,f)}}):n.addEventListener("readystatechange",l),n.setRequestHeader=new Proxy(n.setRequestHeader,{apply(c,d,f){const[h,p]=f,m=d[Qr];return m&&Bn(h)&&Bn(p)&&(m.request_headers[h.toLowerCase()]=p),c.apply(d,f)}}),t.apply(n,r)}}),e.send=new Proxy(e.send,{apply(t,n,r){const i=n[Qr];if(!i)return t.apply(n,r);r[0]!==void 0&&(i.body=r[0]);const s={startTimestamp:Qe()*1e3,xhr:n};return Gt("xhr",s),t.apply(n,r)}})}function Mj(e){if(Bn(e))return e;try{return e.toString()}catch{}}function Aw(e){return new URLSearchParams(e).toString()}function Pw(e,t=N){try{if(typeof e=="string")return[e];if(e instanceof URLSearchParams)return[e.toString()];if(e instanceof FormData)return[Aw(e)];if(!e)return[void 0]}catch(n){return Is&&t.error(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Is&&t.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function Ow(e=[]){if(!(e.length!==2||typeof e[1]!="object"))return e[1].body}const Zd=[],ac=new Map,Dj=60;function jj(){if(zu()&&It()){const t=Aj();return()=>{t()}}return()=>{}}const Sv={click:"click",pointerdown:"click",pointerup:"click",mousedown:"click",mouseup:"click",touchstart:"click",touchend:"click",mouseover:"hover",mouseout:"hover",mouseenter:"hover",mouseleave:"hover",pointerover:"hover",pointerout:"hover",pointerenter:"hover",pointerleave:"hover",dragstart:"drag",dragend:"drag",drag:"drag",dragenter:"drag",dragleave:"drag",dragover:"drag",drop:"drag",keydown:"press",keyup:"press",keypress:"press",input:"press"};function Aj(){return kw(Pj)}const Pj=({metric:e})=>{if(e.value==null)return;const t=Pe(e.value);if(t>Dj)return;const n=e.entries.find(m=>m.duration===e.value&&Sv[m.name]);if(!n)return;const{interactionId:r}=n,i=Sv[n.name],s=Pe(It()+n.startTime),o=mt(),a=o?at(o):void 0,c=(r!=null?ac.get(r):void 0)||a,d=c?oe(c).description:ue().getScopeData().transactionName,f=Jt(n.target),h={[qe]:"auto.http.browser.inp",[Gn]:`ui.interaction.${i}`,[$s]:n.duration},p=Sm({name:f,transaction:d,attributes:h,startTime:s});p&&(p.addEvent("inp",{[Aa]:"millisecond",[Pa]:e.value}),p.end(s+t))};function Oj(){const e=({entries:t})=>{const n=mt(),r=n&&at(n);t.forEach(i=>{if(!XD(i)||!r)return;const s=i.interactionId;if(s!=null&&!ac.has(s)){if(Zd.length>10){const o=Zd.shift();ac.delete(o)}Zd.push(s),ac.set(s,r)}})};_i("event",e),_i("first-input",e)}function Nj(e,t=Dw("fetch")){let n=0,r=0;function i(s){const o=s.body.length;n+=o,r++;const a={body:s.body,method:"POST",referrerPolicy:"strict-origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};if(!t)return xv("fetch"),Vc("No fetch implementation available");try{return t(e.url,a).then(l=>(n-=o,r--,{statusCode:l.status,headers:{"x-sentry-rate-limits":l.headers.get("X-Sentry-Rate-Limits"),"retry-after":l.headers.get("Retry-After")}}))}catch(l){return xv("fetch"),n-=o,r--,Vc(l)}}return dM(e,i)}const Lj=30,zj=50;function Ih(e,t,n,r){const i={filename:e,function:t==="<anonymous>"?yi:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const Fj=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,Bj=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,$j=/\((\S*)(?::(\d+))(?::(\d+))\)/,Wj=/at (.+?) ?\(data:(.+?),/,Uj=e=>{const t=e.match(Wj);if(t)return{filename:`<data:${t[2]}>`,function:t[1]};const n=Fj.exec(e);if(n){const[,i,s,o]=n;return Ih(i,yi,+s,+o)}const r=Bj.exec(e);if(r){if(r[2]&&r[2].indexOf("eval")===0){const a=$j.exec(r[2]);a&&(r[2]=a[1],r[3]=a[2],r[4]=a[3])}const[s,o]=Nw(r[1]||yi,r[2]);return Ih(o,s,r[3]?+r[3]:void 0,r[4]?+r[4]:void 0)}},Hj=[Lj,Uj],Vj=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,Zj=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,Yj=e=>{const t=Vj.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=Zj.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||yi;return[i,r]=Nw(i,r),Ih(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}},qj=[zj,Yj],Gj=[Hj,qj],Kj=ob(...Gj),Nw=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:yi,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},Tt=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,gl=1024,Xj="Breadcrumbs",Jj=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Xj,setup(n){t.console&&zM(nA(n)),t.dom&&Mw(tA(n,t.dom)),t.xhr&&jw(rA(n)),t.fetch&&fw(iA(n)),t.history&&Fu(sA(n)),t.sentry&&n.on("beforeSendEvent",eA(n))}}},Qj=Jj;function eA(e){return function(n){te()===e&&Lt({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Gr(n)},{event:n})}}function tA(e,t){return function(r){if(te()!==e)return;let i,s,o=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>gl&&(Tt&&N.warn(`\`dom.maxStringLength\` cannot exceed ${gl}, but a value of ${a} was configured. Sentry will use ${gl} instead.`),a=gl),typeof o=="string"&&(o=[o]);try{const c=r.event,d=oA(c)?c.target:c;i=Jt(d,{keyAttrs:o,maxStringLength:a}),s=hb(d)}catch{i="<unknown>"}if(i.length===0)return;const l={category:`ui.${r.name}`,message:i};s&&(l.data={"ui.component_name":s}),Lt(l,{event:r.event,name:r.name,global:r.global})}}function nA(e){return function(n){if(te()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:lw(n.level),message:Dy(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${Dy(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;Lt(r,{input:n.args,level:n.level})}}function rA(e){return function(n){if(te()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[Qr];if(!r||!i||!s)return;const{method:o,url:a,status_code:l,body:c}=s,d={method:o,url:a,status_code:l},f={xhr:n.xhr,input:c,startTimestamp:r,endTimestamp:i},h={category:"xhr",data:d,type:"http",level:dw(l)};e.emit("beforeOutgoingRequestBreadcrumb",h,f),Lt(h,f)}}function iA(e){return function(n){if(te()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.fetchData.method,n.fetchData.url,n.error){const s=n.fetchData,o={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i},a={category:"fetch",data:s,level:"error",type:"http"};e.emit("beforeOutgoingRequestBreadcrumb",a,o),Lt(a,o)}else{const s=n.response,o={...n.fetchData,status_code:s==null?void 0:s.status};n.fetchData.request_body_size,n.fetchData.response_body_size,s==null||s.status;const a={input:n.args,response:s,startTimestamp:r,endTimestamp:i},l={category:"fetch",data:o,type:"http",level:dw(o.status_code)};e.emit("beforeOutgoingRequestBreadcrumb",l,a),Lt(l,a)}}}function sA(e){return function(n){if(te()!==e)return;let r=n.from,i=n.to;const s=ci(ee.location.href);let o=r?ci(r):void 0;const a=ci(i);o!=null&&o.path||(o=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===o.protocol&&s.host===o.host&&(r=o.relative),Lt({category:"navigation",data:{from:r,to:i}})}}function oA(e){return!!e&&!!e.target}const aA=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],lA="BrowserApiErrors",cA=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,unregisterOriginalCallbacks:!1,...e};return{name:lA,setupOnce(){t.setTimeout&&wt(ee,"setTimeout",bv),t.setInterval&&wt(ee,"setInterval",bv),t.requestAnimationFrame&&wt(ee,"requestAnimationFrame",dA),t.XMLHttpRequest&&"XMLHttpRequest"in ee&&wt(XMLHttpRequest.prototype,"send",fA);const n=t.eventTarget;n&&(Array.isArray(n)?n:aA).forEach(i=>hA(i,t))}}},uA=cA;function bv(e){return function(...t){const n=t[0];return t[0]=Ts(n,{mechanism:{data:{function:Yn(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function dA(e){return function(t){return e.apply(this,[Ts(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Yn(e)},handled:!1,type:"instrument"}})])}}function fA(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&wt(n,i,function(s){const o={mechanism:{data:{function:i,handler:Yn(s)},handled:!1,type:"instrument"}},a=Qp(s);return a&&(o.mechanism.data.handler=Yn(a)),Ts(s,o)})}),e.apply(this,t)}}function hA(e,t){var i,s;const r=(i=ee[e])==null?void 0:i.prototype;(s=r==null?void 0:r.hasOwnProperty)!=null&&s.call(r,"addEventListener")&&(wt(r,"addEventListener",function(o){return function(a,l,c){try{pA(l)&&(l.handleEvent=Ts(l.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Yn(l),target:e},handled:!1,type:"instrument"}}))}catch{}return t.unregisterOriginalCallbacks&&mA(this,a,l),o.apply(this,[a,Ts(l,{mechanism:{data:{function:"addEventListener",handler:Yn(l),target:e},handled:!1,type:"instrument"}}),c])}}),wt(r,"removeEventListener",function(o){return function(a,l,c){try{const d=l.__sentry_wrapped__;d&&o.call(this,a,d,c)}catch{}return o.call(this,a,l,c)}}))}function pA(e){return typeof e.handleEvent=="function"}function mA(e,t,n){e&&typeof e=="object"&&"removeEventListener"in e&&typeof e.removeEventListener=="function"&&e.removeEventListener(t,n)}const gA=()=>({name:"BrowserSession",setupOnce(){if(typeof ee.document>"u"){Tt&&N.warn("Using the `browserSessionIntegration` in non-browser environments is not supported.");return}Qy({ignoreDuration:!0}),ev(),Fu(({from:e,to:t})=>{e!==void 0&&e!==t&&(Qy({ignoreDuration:!0}),ev())})}}),yA="GlobalHandlers",vA=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:yA,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(xA(n),wv("onerror")),t.onunhandledrejection&&(SA(n),wv("onunhandledrejection"))}}},_A=vA;function xA(e){ab(t=>{const{stackParser:n,attachStacktrace:r}=Lw();if(te()!==e||pw())return;const{msg:i,url:s,line:o,column:a,error:l}=t,c=kA(pm(n,l||i,void 0,r,!1),s,o,a);c.level="error",Vb(c,{originalException:l,mechanism:{handled:!1,type:"auto.browser.global_handlers.onerror"}})})}function SA(e){lb(t=>{const{stackParser:n,attachStacktrace:r}=Lw();if(te()!==e||pw())return;const i=bA(t),s=sa(i)?wA(i):pm(n,i,void 0,r,!0);s.level="error",Vb(s,{originalException:i,mechanism:{handled:!1,type:"auto.browser.global_handlers.onunhandledrejection"}})})}function bA(e){if(sa(e))return e;try{if("reason"in e)return e.reason;if("detail"in e&&"reason"in e.detail)return e.detail.reason}catch{}return e}function wA(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function kA(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],o=s[0]=s[0]||{},a=o.stacktrace=o.stacktrace||{},l=a.frames=a.frames||[],c=r,d=n,f=EA(t)??zs();return l.length===0&&l.push({colno:c,filename:f,function:yi,in_app:!0,lineno:d}),e}function wv(e){Tt&&N.log(`Global Handler attached: ${e}`)}function Lw(){const e=te();return(e==null?void 0:e.getOptions())||{stackParser:()=>[],attachStacktrace:!1}}function EA(e){if(!(!Bn(e)||e.length===0)){if(e.startsWith("data:")){const t=e.match(/^data:([^;]+)/),n=t?t[1]:"text/javascript",r=e.includes("base64,");return`<data:${n}${r?",base64":""}>`}return e.slice(0,1024)}}const CA=()=>({name:"HttpContext",preprocessEvent(e){var r;if(!ee.navigator&&!ee.location&&!ee.document)return;const t=dm(),n={...t.headers,...(r=e.request)==null?void 0:r.headers};e.request={...t,...e.request,headers:n}}}),TA="cause",IA=5,RA="LinkedErrors",MA=(e={})=>{const t=e.limit||IA,n=e.key||TA;return{name:RA,preprocessEvent(r,i,s){const o=s.getOptions();LM(fm,o.stackParser,n,t,r,i)}}},DA=MA;function jA(){return AA()?(Tt&&Ti(()=>{console.error("[Sentry] You cannot use Sentry.init() in a browser extension, see: https://docs.sentry.io/platforms/javascript/best-practices/browser-extensions/")}),!0):!1}function AA(){var s;if(typeof ee.window>"u")return!1;const e=ee;if(e.nw)return!1;const t=e.chrome||e.browser;if(!((s=t==null?void 0:t.runtime)!=null&&s.id))return!1;const n=zs(),r=["chrome-extension","moz-extension","ms-browser-extension","safari-web-extension"];return!(ee===ee.top&&r.some(o=>n.startsWith(`${o}://`)))}function PA(e){return[RM(),EM(),uA(),Qj(),_A(),DA(),WM(),CA(),gA()]}function OA(e={}){const t=!e.skipBrowserExtensionCheck&&jA(),n={...e,enabled:t?!1:e.enabled,stackParser:VT(e.stackParser||Kj),integrations:YR({integrations:e.integrations,defaultIntegrations:e.defaultIntegrations==null?PA():e.defaultIntegrations}),transport:e.transport||Nj};return iM(wD,n)}function Rh(e={}){const t=ee.document,n=(t==null?void 0:t.head)||(t==null?void 0:t.body);if(!n){Tt&&N.error("[showReportDialog] Global document not defined");return}const r=ue(),i=te(),s=i==null?void 0:i.getDsn();if(!s){Tt&&N.error("[showReportDialog] DSN not configured");return}const o={...e,user:{...r.getUser(),...e.user},eventId:e.eventId||go()},a=ee.document.createElement("script");a.async=!0,a.crossOrigin="anonymous",a.src=VR(s,o);const{onLoad:l,onClose:c}=o;if(l&&(a.onload=l),c){const d=f=>{if(f.data==="__sentry_reportdialog_closed__")try{c()}finally{ee.removeEventListener("message",d)}};ee.addEventListener("message",d)}n.appendChild(a)}const ve=le,bm="sentryReplaySession",NA="replay_event",wm="Unable to send Replay",LA=3e5,zA=9e5,FA=5e3,BA=5500,$A=6e4,WA=5e3,UA=3,kv=15e4,yl=5e3,HA=3e3,VA=300,km=2e7,ZA=4999,YA=15e3,Ev=36e5;var qA=Object.defineProperty,GA=(e,t,n)=>t in e?qA(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Cv=(e,t,n)=>GA(e,typeof t!="symbol"?t+"":t,n),Be=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Be||{});function KA(e){return e.nodeType===e.ELEMENT_NODE}function Oo(e){const t=e==null?void 0:e.host;return(t==null?void 0:t.shadowRoot)===e}function No(e){return Object.prototype.toString.call(e)==="[object ShadowRoot]"}function XA(e){return e.includes(" background-clip: text;")&&!e.includes(" -webkit-background-clip: text;")&&(e=e.replace(/\sbackground-clip:\s*text;/g," -webkit-background-clip: text; background-clip: text;")),e}function JA(e){const{cssText:t}=e;if(t.split('"').length<3)return t;const n=["@import",`url(${JSON.stringify(e.href)})`];return e.layerName===""?n.push("layer"):e.layerName&&n.push(`layer(${e.layerName})`),e.supportsText&&n.push(`supports(${e.supportsText})`),e.media.length&&n.push(e.media.mediaText),n.join(" ")+";"}function Xc(e){try{const t=e.rules||e.cssRules;return t?XA(Array.from(t,zw).join("")):null}catch{return null}}function QA(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style,i=r[n],s=r.getPropertyPriority(i);t+=`${i}:${r.getPropertyValue(i)}${s?" !important":""};`}return`${e.selectorText} { ${t} }`}function zw(e){let t;if(tP(e))try{t=Xc(e.styleSheet)||JA(e)}catch{}else if(nP(e)){let n=e.cssText;const r=e.selectorText.includes(":"),i=typeof e.style.all=="string"&&e.style.all;if(i&&(n=QA(e)),r&&(n=eP(n)),r||i)return n}return t||e.cssText}function eP(e){const t=/(\[(?:[\w-]+)[^\\])(:(?:[\w-]+)\])/gm;return e.replace(t,"$1\\$2")}function tP(e){return"styleSheet"in e}function nP(e){return"selectorText"in e}class Fw{constructor(){Cv(this,"idNodeMap",new Map),Cv(this,"nodeMetaMap",new WeakMap)}getId(t){var r;return t?((r=this.getMeta(t))==null?void 0:r.id)??-1:-1}getNode(t){return this.idNodeMap.get(t)||null}getIds(){return Array.from(this.idNodeMap.keys())}getMeta(t){return this.nodeMetaMap.get(t)||null}removeNodeFromMap(t){const n=this.getId(t);this.idNodeMap.delete(n),t.childNodes&&t.childNodes.forEach(r=>this.removeNodeFromMap(r))}has(t){return this.idNodeMap.has(t)}hasNode(t){return this.nodeMetaMap.has(t)}add(t,n){const r=n.id;this.idNodeMap.set(r,t),this.nodeMetaMap.set(t,n)}replace(t,n){const r=this.getNode(t);if(r){const i=this.nodeMetaMap.get(r);i&&this.nodeMetaMap.set(n,i)}this.idNodeMap.set(t,n)}reset(){this.idNodeMap=new Map,this.nodeMetaMap=new WeakMap}}function rP(){return new Fw}function Bu({maskInputOptions:e,tagName:t,type:n}){return t==="OPTION"&&(t="SELECT"),!!(e[t.toLowerCase()]||n&&e[n]||n==="password"||t==="INPUT"&&!n&&e.text)}function la({isMasked:e,element:t,value:n,maskInputFn:r}){let i=n||"";return e?(r&&(i=r(i,t)),"*".repeat(i.length)):i}function Rs(e){return e.toLowerCase()}function Mh(e){return e.toUpperCase()}const Tv="__rrweb_original__";function iP(e){const t=e.getContext("2d");if(!t)return!0;const n=50;for(let r=0;r<e.width;r+=n)for(let i=0;i<e.height;i+=n){const s=t.getImageData,o=Tv in s?s[Tv]:s;if(new Uint32Array(o.call(t,r,i,Math.min(n,e.width-r),Math.min(n,e.height-i)).data.buffer).some(l=>l!==0))return!1}return!0}function Em(e){const t=e.type;return e.hasAttribute("data-rr-is-password")?"password":t?Rs(t):null}function Jc(e,t,n){return t==="INPUT"&&(n==="radio"||n==="checkbox")?e.getAttribute("value")||"":e.value}function Bw(e,t){let n;try{n=new URL(e,t??window.location.href)}catch{return null}const r=/\.([0-9a-z]+)(?:$)/i,i=n.pathname.match(r);return(i==null?void 0:i[1])??null}const Iv={};function $w(e){const t=Iv[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return Iv[e]=r.bind(window)}function Dh(...e){return $w("setTimeout")(...e)}function Ww(...e){return $w("clearTimeout")(...e)}function Uw(e){try{return e.contentDocument}catch{}}let sP=1;const oP=new RegExp("[^a-z0-9-_:]"),ca=-2;function Cm(){return sP++}function aP(e){if(e instanceof HTMLFormElement)return"form";const t=Rs(e.tagName);return oP.test(t)?"div":t}function lP(e){let t="";return e.indexOf("//")>-1?t=e.split("/").slice(0,3).join("/"):t=e.split("/")[0],t=t.split("?")[0],t}let Pi,Rv;const cP=/url\((?:(')([^']*)'|(")(.*?)"|([^)]*))\)/gm,uP=/^(?:[a-z+]+:)?\/\//i,dP=/^www\..*/i,fP=/^(data:)([^,]*),(.*)/i;function Qc(e,t){return(e||"").replace(cP,(n,r,i,s,o,a)=>{const l=i||o||a,c=r||s||"";if(!l)return n;if(uP.test(l)||dP.test(l))return`url(${c}${l}${c})`;if(fP.test(l))return`url(${c}${l}${c})`;if(l[0]==="/")return`url(${c}${lP(t)+l}${c})`;const d=t.split("/"),f=l.split("/");d.pop();for(const h of f)h!=="."&&(h===".."?d.pop():d.push(h));return`url(${c}${d.join("/")}${c})`})}const hP=/^[^ \t\n\r\u000c]+/,pP=/^[, \t\n\r\u000c]+/;function mP(e,t){if(t.trim()==="")return t;let n=0;function r(s){let o;const a=s.exec(t.substring(n));return a?(o=a[0],n+=o.length,o):""}const i=[];for(;r(pP),!(n>=t.length);){let s=r(hP);if(s.slice(-1)===",")s=es(e,s.substring(0,s.length-1)),i.push(s);else{let o="";s=es(e,s);let a=!1;for(;;){const l=t.charAt(n);if(l===""){i.push((s+o).trim());break}else if(a)l===")"&&(a=!1);else if(l===","){n+=1,i.push((s+o).trim());break}else l==="("&&(a=!0);o+=l,n+=1}}}return i.join(", ")}const Mv=new WeakMap;function es(e,t){return!t||t.trim()===""?t:$u(e,t)}function gP(e){return!!(e.tagName==="svg"||e.ownerSVGElement)}function $u(e,t){let n=Mv.get(e);if(n||(n=e.createElement("a"),Mv.set(e,n)),!t)t="";else if(t.startsWith("blob:")||t.startsWith("data:"))return t;return n.setAttribute("href",t),n.href}function Hw(e,t,n,r,i,s){return r&&(n==="src"||n==="href"&&!(t==="use"&&r[0]==="#")||n==="xlink:href"&&r[0]!=="#"||n==="background"&&(t==="table"||t==="td"||t==="th")?es(e,r):n==="srcset"?mP(e,r):n==="style"?Qc(r,$u(e)):t==="object"&&n==="data"?es(e,r):typeof s=="function"?s(n,r,i):r)}function Vw(e,t,n){return(e==="video"||e==="audio")&&t==="autoplay"}function yP(e,t,n,r){try{if(r&&e.matches(r))return!1;if(typeof t=="string"){if(e.classList.contains(t))return!0}else for(let i=e.classList.length;i--;){const s=e.classList[i];if(t.test(s))return!0}if(n)return e.matches(n)}catch{}return!1}function vP(e,t){for(let n=e.classList.length;n--;){const r=e.classList[n];if(t.test(r))return!0}return!1}function ei(e,t,n=1/0,r=0){return!e||e.nodeType!==e.ELEMENT_NODE||r>n?-1:t(e)?r:ei(e.parentNode,t,n,r+1)}function ts(e,t){return n=>{const r=n;if(r===null)return!1;try{if(e){if(typeof e=="string"){if(r.matches(`.${e}`))return!0}else if(vP(r,e))return!0}return!!(t&&r.matches(t))}catch{return!1}}}function Ms(e,t,n,r,i,s){try{const o=e.nodeType===e.ELEMENT_NODE?e:e.parentElement;if(o===null)return!1;if(o.tagName==="INPUT"){const c=o.getAttribute("autocomplete");if(["current-password","new-password","cc-number","cc-exp","cc-exp-month","cc-exp-year","cc-csc"].includes(c))return!0}let a=-1,l=-1;if(s){if(l=ei(o,ts(r,i)),l<0)return!0;a=ei(o,ts(t,n),l>=0?l:1/0)}else{if(a=ei(o,ts(t,n)),a<0)return!1;l=ei(o,ts(r,i),a>=0?a:1/0)}return a>=0?l>=0?a<=l:!0:l>=0?!1:!!s}catch{}return!!s}function _P(e,t,n){const r=e.contentWindow;if(!r)return;let i=!1,s;try{s=r.document.readyState}catch{return}if(s!=="complete"){const a=Dh(()=>{i||(t(),i=!0)},n);e.addEventListener("load",()=>{Ww(a),i=!0,t()});return}const o="about:blank";if(r.location.href!==o||e.src===o||e.src==="")return Dh(t,0),e.addEventListener("load",t);e.addEventListener("load",t)}function xP(e,t,n){let r=!1,i;try{i=e.sheet}catch{return}if(i)return;const s=Dh(()=>{r||(t(),r=!0)},n);e.addEventListener("load",()=>{Ww(s),r=!0,t()})}function SP(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskAttributeFn:l,maskTextClass:c,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h,inlineStylesheet:p,maskInputOptions:m={},maskTextFn:g,maskInputFn:_,dataURLOptions:y={},inlineImages:v,recordCanvas:x,keepIframeSrcFn:S,newlyAddedElement:b=!1}=t,k=bP(n,r);switch(e.nodeType){case e.DOCUMENT_NODE:return e.compatMode!=="CSS1Compat"?{type:Be.Document,childNodes:[],compatMode:e.compatMode}:{type:Be.Document,childNodes:[]};case e.DOCUMENT_TYPE_NODE:return{type:Be.DocumentType,name:e.name,publicId:e.publicId,systemId:e.systemId,rootId:k};case e.ELEMENT_NODE:return kP(e,{doc:n,blockClass:i,blockSelector:s,unblockSelector:o,inlineStylesheet:p,maskAttributeFn:l,maskInputOptions:m,maskInputFn:_,dataURLOptions:y,inlineImages:v,recordCanvas:x,keepIframeSrcFn:S,newlyAddedElement:b,rootId:k,maskTextClass:c,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h});case e.TEXT_NODE:return wP(e,{doc:n,maskAllText:a,maskTextClass:c,unmaskTextClass:d,maskTextSelector:f,unmaskTextSelector:h,maskTextFn:g,maskInputOptions:m,maskInputFn:_,rootId:k});case e.CDATA_SECTION_NODE:return{type:Be.CDATA,textContent:"",rootId:k};case e.COMMENT_NODE:return{type:Be.Comment,textContent:e.textContent||"",rootId:k};default:return!1}}function bP(e,t){if(!t.hasNode(e))return;const n=t.getId(e);return n===1?void 0:n}function wP(e,t){var y;const{maskAllText:n,maskTextClass:r,unmaskTextClass:i,maskTextSelector:s,unmaskTextSelector:o,maskTextFn:a,maskInputOptions:l,maskInputFn:c,rootId:d}=t,f=e.parentNode&&e.parentNode.tagName;let h=e.textContent;const p=f==="STYLE"?!0:void 0,m=f==="SCRIPT"?!0:void 0,g=f==="TEXTAREA"?!0:void 0;if(p&&h){try{e.nextSibling||e.previousSibling||(y=e.parentNode.sheet)!=null&&y.cssRules&&(h=Xc(e.parentNode.sheet))}catch(v){console.warn(`Cannot get CSS styles from text's parentNode. Error: ${v}`,e)}h=Qc(h,$u(t.doc))}m&&(h="SCRIPT_PLACEHOLDER");const _=Ms(e,r,s,i,o,n);if(!p&&!m&&!g&&h&&_&&(h=a?a(h,e.parentElement):h.replace(/[\S]/g,"*")),g&&h&&(l.textarea||_)&&(h=c?c(h,e.parentNode):h.replace(/[\S]/g,"*")),f==="OPTION"&&h){const v=Bu({type:null,tagName:f,maskInputOptions:l});h=la({isMasked:Ms(e,r,s,i,o,v),element:e,value:h,maskInputFn:c})}return{type:Be.Text,textContent:h||"",isStyle:p,rootId:d}}function kP(e,t){const{doc:n,blockClass:r,blockSelector:i,unblockSelector:s,inlineStylesheet:o,maskInputOptions:a={},maskAttributeFn:l,maskInputFn:c,dataURLOptions:d={},inlineImages:f,recordCanvas:h,keepIframeSrcFn:p,newlyAddedElement:m=!1,rootId:g,maskTextClass:_,unmaskTextClass:y,maskTextSelector:v,unmaskTextSelector:x}=t,S=yP(e,r,i,s),b=aP(e);let k={};const w=e.attributes.length;for(let C=0;C<w;C++){const T=e.attributes[C];T.name&&!Vw(b,T.name,T.value)&&(k[T.name]=Hw(n,b,Rs(T.name),T.value,e,l))}if(b==="link"&&o){const C=Array.from(n.styleSheets).find(I=>I.href===e.href);let T=null;C&&(T=Xc(C)),T&&(k.rel=null,k.href=null,k.crossorigin=null,k._cssText=Qc(T,C.href))}if(b==="style"&&e.sheet&&!(e.innerText||e.textContent||"").trim().length){const C=Xc(e.sheet);C&&(k._cssText=Qc(C,$u(n)))}if(b==="input"||b==="textarea"||b==="select"||b==="option"){const C=e,T=Em(C),I=Jc(C,Mh(b),T),D=C.checked;if(T!=="submit"&&T!=="button"&&I){const F=Ms(C,_,v,y,x,Bu({type:T,tagName:Mh(b),maskInputOptions:a}));k.value=la({isMasked:F,element:C,value:I,maskInputFn:c})}D&&(k.checked=D)}if(b==="option"&&(e.selected&&!a.select?k.selected=!0:delete k.selected),b==="canvas"&&h){if(e.__context==="2d")iP(e)||(k.rr_dataURL=e.toDataURL(d.type,d.quality));else if(!("__context"in e)){const C=e.toDataURL(d.type,d.quality),T=n.createElement("canvas");T.width=e.width,T.height=e.height;const I=T.toDataURL(d.type,d.quality);C!==I&&(k.rr_dataURL=C)}}if(b==="img"&&f){Pi||(Pi=n.createElement("canvas"),Rv=Pi.getContext("2d"));const C=e,T=C.currentSrc||C.getAttribute("src")||"<unknown-src>",I=C.crossOrigin,D=()=>{C.removeEventListener("load",D);try{Pi.width=C.naturalWidth,Pi.height=C.naturalHeight,Rv.drawImage(C,0,0),k.rr_dataURL=Pi.toDataURL(d.type,d.quality)}catch(F){if(C.crossOrigin!=="anonymous"){C.crossOrigin="anonymous",C.complete&&C.naturalWidth!==0?D():C.addEventListener("load",D);return}else console.warn(`Cannot inline img src=${T}! Error: ${F}`)}C.crossOrigin==="anonymous"&&(I?k.crossOrigin=I:C.removeAttribute("crossorigin"))};C.complete&&C.naturalWidth!==0?D():C.addEventListener("load",D)}if((b==="audio"||b==="video")&&(k.rr_mediaState=e.paused?"paused":"played",k.rr_mediaCurrentTime=e.currentTime),m||(e.scrollLeft&&(k.rr_scrollLeft=e.scrollLeft),e.scrollTop&&(k.rr_scrollTop=e.scrollTop)),S){const{width:C,height:T}=e.getBoundingClientRect();k={class:k.class,rr_width:`${C}px`,rr_height:`${T}px`}}b==="iframe"&&!p(k.src)&&(!S&&!Uw(e)&&(k.rr_src=k.src),delete k.src);let E;try{customElements.get(b)&&(E=!0)}catch{}return{type:Be.Element,tagName:b,attributes:k,childNodes:[],isSVG:gP(e)||void 0,needBlock:S,rootId:g,isCustom:E}}function ye(e){return e==null?"":e.toLowerCase()}function EP(e,t){if(t.comment&&e.type===Be.Comment)return!0;if(e.type===Be.Element){if(t.script&&(e.tagName==="script"||e.tagName==="link"&&(e.attributes.rel==="preload"||e.attributes.rel==="modulepreload")||e.tagName==="link"&&e.attributes.rel==="prefetch"&&typeof e.attributes.href=="string"&&Bw(e.attributes.href)==="js"))return!0;if(t.headFavicon&&(e.tagName==="link"&&e.attributes.rel==="shortcut icon"||e.tagName==="meta"&&(ye(e.attributes.name).match(/^msapplication-tile(image|color)$/)||ye(e.attributes.name)==="application-name"||ye(e.attributes.rel)==="icon"||ye(e.attributes.rel)==="apple-touch-icon"||ye(e.attributes.rel)==="shortcut icon")))return!0;if(e.tagName==="meta"){if(t.headMetaDescKeywords&&ye(e.attributes.name).match(/^description|keywords$/))return!0;if(t.headMetaSocial&&(ye(e.attributes.property).match(/^(og|twitter|fb):/)||ye(e.attributes.name).match(/^(og|twitter):/)||ye(e.attributes.name)==="pinterest"))return!0;if(t.headMetaRobots&&(ye(e.attributes.name)==="robots"||ye(e.attributes.name)==="googlebot"||ye(e.attributes.name)==="bingbot"))return!0;if(t.headMetaHttpEquiv&&e.attributes["http-equiv"]!==void 0)return!0;if(t.headMetaAuthorship&&(ye(e.attributes.name)==="author"||ye(e.attributes.name)==="generator"||ye(e.attributes.name)==="framework"||ye(e.attributes.name)==="publisher"||ye(e.attributes.name)==="progid"||ye(e.attributes.property).match(/^article:/)||ye(e.attributes.property).match(/^product:/)))return!0;if(t.headMetaVerification&&(ye(e.attributes.name)==="google-site-verification"||ye(e.attributes.name)==="yandex-verification"||ye(e.attributes.name)==="csrf-token"||ye(e.attributes.name)==="p:domain_verify"||ye(e.attributes.name)==="verify-v1"||ye(e.attributes.name)==="verification"||ye(e.attributes.name)==="shopify-checkout-api-token"))return!0}}return!1}function ns(e,t){const{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,skipChild:h=!1,inlineStylesheet:p=!0,maskInputOptions:m={},maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:v,dataURLOptions:x={},inlineImages:S=!1,recordCanvas:b=!1,onSerialize:k,onIframeLoad:w,iframeLoadTimeout:E=5e3,onBlockedImageLoad:C,onStylesheetLoad:T,stylesheetLoadTimeout:I=5e3,keepIframeSrcFn:D=()=>!1,newlyAddedElement:F=!1}=t;let{preserveWhiteSpace:U=!0}=t;const A=SP(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,dataURLOptions:x,inlineImages:S,recordCanvas:b,keepIframeSrcFn:D,newlyAddedElement:F});if(!A)return console.warn(e,"not serialized"),null;let z;r.hasNode(e)?z=r.getId(e):EP(A,v)||!U&&A.type===Be.Text&&!A.isStyle&&!A.textContent.replace(/^\s+|\s+$/gm,"").length?z=ca:z=Cm();const P=Object.assign(A,{id:z});if(r.add(e,P),z===ca)return null;k&&k(e);let R=!h;if(P.type===Be.Element){R=R&&!P.needBlock;const j=e.shadowRoot;j&&No(j)&&(P.isShadowHost=!0)}if((P.type===Be.Document||P.type===Be.Element)&&R){v.headWhitespace&&P.type===Be.Element&&P.tagName==="head"&&(U=!1);const j={doc:n,mirror:r,blockClass:i,blockSelector:s,maskAllText:a,unblockSelector:o,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,skipChild:h,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:v,dataURLOptions:x,inlineImages:S,recordCanvas:b,preserveWhiteSpace:U,onSerialize:k,onIframeLoad:w,iframeLoadTimeout:E,onBlockedImageLoad:C,onStylesheetLoad:T,stylesheetLoadTimeout:I,keepIframeSrcFn:D},B=e.childNodes?Array.from(e.childNodes):[];for(const Z of B){const X=ns(Z,j);X&&P.childNodes.push(X)}if(KA(e)&&e.shadowRoot)for(const Z of Array.from(e.shadowRoot.childNodes)){const X=ns(Z,j);X&&(No(e.shadowRoot)&&(X.isShadow=!0),P.childNodes.push(X))}}if(e.parentNode&&Oo(e.parentNode)&&No(e.parentNode)&&(P.isShadow=!0),P.type===Be.Element&&P.tagName==="iframe"&&!P.needBlock&&_P(e,()=>{const j=Uw(e);if(j&&w){const B=ns(j,{doc:j,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:v,dataURLOptions:x,inlineImages:S,recordCanvas:b,preserveWhiteSpace:U,onSerialize:k,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:T,stylesheetLoadTimeout:I,keepIframeSrcFn:D});B&&w(e,B)}},E),P.type===Be.Element&&P.tagName==="img"&&!e.complete&&P.needBlock){const j=e,B=()=>{if(j.isConnected&&!j.complete&&C)try{const Z=j.getBoundingClientRect();Z.width>0&&Z.height>0&&C(j,P,Z)}catch{}j.removeEventListener("load",B)};j.isConnected&&j.addEventListener("load",B)}return P.type===Be.Element&&P.tagName==="link"&&typeof P.attributes.rel=="string"&&(P.attributes.rel==="stylesheet"||P.attributes.rel==="preload"&&typeof P.attributes.href=="string"&&Bw(P.attributes.href)==="css")&&xP(e,()=>{if(T){const j=ns(e,{doc:n,mirror:r,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:a,maskTextClass:l,unmaskTextClass:c,maskTextSelector:d,unmaskTextSelector:f,skipChild:!1,inlineStylesheet:p,maskInputOptions:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:v,dataURLOptions:x,inlineImages:S,recordCanvas:b,preserveWhiteSpace:U,onSerialize:k,onIframeLoad:w,iframeLoadTimeout:E,onStylesheetLoad:T,stylesheetLoadTimeout:I,keepIframeSrcFn:D});j&&T(e,j)}},I),P.type===Be.Element&&delete P.needBlock,P}function CP(e,t){const{mirror:n=new Fw,blockClass:r="rr-block",blockSelector:i=null,unblockSelector:s=null,maskAllText:o=!1,maskTextClass:a="rr-mask",unmaskTextClass:l=null,maskTextSelector:c=null,unmaskTextSelector:d=null,inlineStylesheet:f=!0,inlineImages:h=!1,recordCanvas:p=!1,maskAllInputs:m=!1,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOM:v=!1,dataURLOptions:x,preserveWhiteSpace:S,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:w,onBlockedImageLoad:E,onStylesheetLoad:C,stylesheetLoadTimeout:T,keepIframeSrcFn:I=()=>!1}=t||{};return ns(e,{doc:e,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,maskAllText:o,maskTextClass:a,unmaskTextClass:l,maskTextSelector:c,unmaskTextSelector:d,skipChild:!1,inlineStylesheet:f,maskInputOptions:m===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:m===!1?{}:m,maskAttributeFn:g,maskTextFn:_,maskInputFn:y,slimDOMOptions:v===!0||v==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:v==="all",headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:v===!1?{}:v,dataURLOptions:x,inlineImages:h,recordCanvas:p,preserveWhiteSpace:S,onSerialize:b,onIframeLoad:k,iframeLoadTimeout:w,onBlockedImageLoad:E,onStylesheetLoad:C,stylesheetLoadTimeout:T,keepIframeSrcFn:I,newlyAddedElement:!1})}function dt(e,t,n=document){const r={capture:!0,passive:!0};return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t,r)}const zi=`Please stop import mirror directly. Instead of that,\r
now you can use replayer.getMirror() to access the mirror instance of a replayer,\r
or you can use record.mirror to access the mirror instance during recording.`;let Dv={map:{},getId(){return console.error(zi),-1},getNode(){return console.error(zi),null},removeNodeFromMap(){console.error(zi)},has(){return console.error(zi),!1},reset(){console.error(zi)}};typeof window<"u"&&window.Proxy&&window.Reflect&&(Dv=new Proxy(Dv,{get(e,t,n){return t==="map"&&console.error(zi),Reflect.get(e,t,n)}}));function ua(e,t,n={}){let r=null,i=0;return function(...s){const o=Date.now();!i&&n.leading===!1&&(i=o);const a=t-(o-i),l=this;a<=0||a>t?(r&&(AP(r),r=null),i=o,e.apply(l,s)):!r&&n.trailing!==!1&&(r=Wu(()=>{i=n.leading===!1?0:Date.now(),r=null,e.apply(l,s)},a))}}function Zw(e,t,n,r,i=window){const s=i.Object.getOwnPropertyDescriptor(e,t);return i.Object.defineProperty(e,t,r?n:{set(o){Wu(()=>{n.set.call(this,o)},0),s&&s.set&&s.set.call(this,o)}}),()=>Zw(e,t,s||{},!0)}function Tm(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}let eu=Date.now;/[1-9][0-9]{12}/.test(Date.now().toString())||(eu=()=>new Date().getTime());function Yw(e){var n,r,i,s,o,a;const t=e.document;return{left:t.scrollingElement?t.scrollingElement.scrollLeft:e.pageXOffset!==void 0?e.pageXOffset:(t==null?void 0:t.documentElement.scrollLeft)||((r=(n=t==null?void 0:t.body)==null?void 0:n.parentElement)==null?void 0:r.scrollLeft)||((i=t==null?void 0:t.body)==null?void 0:i.scrollLeft)||0,top:t.scrollingElement?t.scrollingElement.scrollTop:e.pageYOffset!==void 0?e.pageYOffset:(t==null?void 0:t.documentElement.scrollTop)||((o=(s=t==null?void 0:t.body)==null?void 0:s.parentElement)==null?void 0:o.scrollTop)||((a=t==null?void 0:t.body)==null?void 0:a.scrollTop)||0}}function qw(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function Gw(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function Kw(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function Dt(e,t,n,r,i){if(!e)return!1;const s=Kw(e);if(!s)return!1;const o=ts(t,n);if(!i){const c=r&&s.matches(r);return o(s)&&!c}const a=ei(s,o);let l=-1;return a<0?!1:(r&&(l=ei(s,ts(null,r))),a>-1&&l<0?!0:a<l)}function TP(e,t){return t.getId(e)!==-1}function Yd(e,t){return t.getId(e)===ca}function Xw(e,t){if(Oo(e))return!1;const n=t.getId(e);return t.has(n)?e.parentNode&&e.parentNode.nodeType===e.DOCUMENT_NODE?!1:e.parentNode?Xw(e.parentNode,t):!0:!0}function jh(e){return!!e.changedTouches}function IP(e=window){"NodeList"in e&&!e.NodeList.prototype.forEach&&(e.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in e&&!e.DOMTokenList.prototype.forEach&&(e.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=(...t)=>{let n=t[0];if(!(0 in t))throw new TypeError("1 argument is required");do if(this===n)return!0;while(n=n&&n.parentNode);return!1})}function Jw(e,t){return!!(e.nodeName==="IFRAME"&&t.getMeta(e))}function Qw(e,t){return!!(e.nodeName==="LINK"&&e.nodeType===e.ELEMENT_NODE&&e.getAttribute&&e.getAttribute("rel")==="stylesheet"&&t.getMeta(e))}function Ah(e){return!!(e!=null&&e.shadowRoot)}class RP{constructor(){this.id=1,this.styleIDMap=new WeakMap,this.idStyleMap=new Map}getId(t){return this.styleIDMap.get(t)??-1}has(t){return this.styleIDMap.has(t)}add(t,n){if(this.has(t))return this.getId(t);let r;return n===void 0?r=this.id++:r=n,this.styleIDMap.set(t,r),this.idStyleMap.set(r,t),r}getStyle(t){return this.idStyleMap.get(t)||null}reset(){this.styleIDMap=new WeakMap,this.idStyleMap=new Map,this.id=1}generateId(){return this.id++}}function ek(e){var n,r;let t=null;return((r=(n=e.getRootNode)==null?void 0:n.call(e))==null?void 0:r.nodeType)===Node.DOCUMENT_FRAGMENT_NODE&&e.getRootNode().host&&(t=e.getRootNode().host),t}function MP(e){let t=e,n;for(;n=ek(t);)t=n;return t}function DP(e){const t=e.ownerDocument;if(!t)return!1;const n=MP(e);return t.contains(n)}function tk(e){const t=e.ownerDocument;return t?t.contains(e)||DP(e):!1}const jv={};function Im(e){const t=jv[e];if(t)return t;const n=window.document;let r=window[e];if(n&&typeof n.createElement=="function")try{const i=n.createElement("iframe");i.hidden=!0,n.head.appendChild(i);const s=i.contentWindow;s&&s[e]&&(r=s[e]),n.head.removeChild(i)}catch{}return jv[e]=r.bind(window)}function jP(...e){return Im("requestAnimationFrame")(...e)}function Wu(...e){return Im("setTimeout")(...e)}function AP(...e){return Im("clearTimeout")(...e)}var J=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(J||{}),K=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(K||{}),ct=(e=>(e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd",e[e.TouchCancel=10]="TouchCancel",e))(ct||{}),Mn=(e=>(e[e.Mouse=0]="Mouse",e[e.Pen=1]="Pen",e[e.Touch=2]="Touch",e))(Mn||{}),Fi=(e=>(e[e.Play=0]="Play",e[e.Pause=1]="Pause",e[e.Seeked=2]="Seeked",e[e.VolumeChange=3]="VolumeChange",e[e.RateChange=4]="RateChange",e))(Fi||{});function Rm(e){try{return e.contentDocument}catch{}}function PP(e){try{return e.contentWindow}catch{}}function Av(e){return"__ln"in e}class OP{constructor(){this.length=0,this.head=null,this.tail=null}get(t){if(t>=this.length)throw new Error("Position outside of list range");let n=this.head;for(let r=0;r<t;r++)n=(n==null?void 0:n.next)||null;return n}addNode(t){const n={value:t,previous:null,next:null};if(t.__ln=n,t.previousSibling&&Av(t.previousSibling)){const r=t.previousSibling.__ln.next;n.next=r,n.previous=t.previousSibling.__ln,t.previousSibling.__ln.next=n,r&&(r.previous=n)}else if(t.nextSibling&&Av(t.nextSibling)&&t.nextSibling.__ln.previous){const r=t.nextSibling.__ln.previous;n.previous=r,n.next=t.nextSibling.__ln,t.nextSibling.__ln.previous=n,r&&(r.next=n)}else this.head&&(this.head.previous=n),n.next=this.head,this.head=n;n.next===null&&(this.tail=n),this.length++}removeNode(t){const n=t.__ln;this.head&&(n.previous?(n.previous.next=n.next,n.next?n.next.previous=n.previous:this.tail=n.previous):(this.head=n.next,this.head?this.head.previous=null:this.tail=null),t.__ln&&delete t.__ln,this.length--)}}const Pv=(e,t)=>`${e}@${t}`;class NP{constructor(){this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=t=>{t.forEach(this.processMutation),this.emit()},this.emit=()=>{if(this.frozen||this.locked)return;const t=[],n=new Set,r=new OP,i=l=>{let c=l,d=ca;for(;d===ca;)c=c&&c.nextSibling,d=c&&this.mirror.getId(c);return d},s=l=>{if(!l.parentNode||!tk(l))return;const c=Oo(l.parentNode)?this.mirror.getId(ek(l)):this.mirror.getId(l.parentNode),d=i(l);if(c===-1||d===-1)return r.addNode(l);const f=ns(l,{doc:this.doc,mirror:this.mirror,blockClass:this.blockClass,blockSelector:this.blockSelector,maskAllText:this.maskAllText,unblockSelector:this.unblockSelector,maskTextClass:this.maskTextClass,unmaskTextClass:this.unmaskTextClass,maskTextSelector:this.maskTextSelector,unmaskTextSelector:this.unmaskTextSelector,skipChild:!0,newlyAddedElement:!0,inlineStylesheet:this.inlineStylesheet,maskInputOptions:this.maskInputOptions,maskAttributeFn:this.maskAttributeFn,maskTextFn:this.maskTextFn,maskInputFn:this.maskInputFn,slimDOMOptions:this.slimDOMOptions,dataURLOptions:this.dataURLOptions,recordCanvas:this.recordCanvas,inlineImages:this.inlineImages,onSerialize:h=>{Jw(h,this.mirror)&&!Dt(h,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&this.iframeManager.addIframe(h),Qw(h,this.mirror)&&this.stylesheetManager.trackLinkElement(h),Ah(l)&&this.shadowDomManager.addShadowRoot(l.shadowRoot,this.doc)},onIframeLoad:(h,p)=>{Dt(h,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(this.iframeManager.attachIframe(h,p),h.contentWindow&&this.canvasManager.addWindow(h.contentWindow),this.shadowDomManager.observeAttachShadow(h))},onStylesheetLoad:(h,p)=>{this.stylesheetManager.attachLinkElement(h,p)},onBlockedImageLoad:(h,p,{width:m,height:g})=>{this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:p.id,attributes:{style:{width:`${m}px`,height:`${g}px`}}}]})}});f&&(t.push({parentId:c,nextId:d,node:f}),n.add(f.id))};for(;this.mapRemoves.length;)this.mirror.removeNodeFromMap(this.mapRemoves.shift());for(const l of this.movedSet)Ov(this.removes,l,this.mirror)&&!this.movedSet.has(l.parentNode)||s(l);for(const l of this.addedSet)!Nv(this.droppedSet,l)&&!Ov(this.removes,l,this.mirror)||Nv(this.movedSet,l)?s(l):this.droppedSet.add(l);let o=null;for(;r.length;){let l=null;if(o){const c=this.mirror.getId(o.value.parentNode),d=i(o.value);c!==-1&&d!==-1&&(l=o)}if(!l){let c=r.tail;for(;c;){const d=c;if(c=c.previous,d){const f=this.mirror.getId(d.value.parentNode);if(i(d.value)===-1)continue;if(f!==-1){l=d;break}else{const p=d.value;if(p.parentNode&&p.parentNode.nodeType===Node.DOCUMENT_FRAGMENT_NODE){const m=p.parentNode.host;if(this.mirror.getId(m)!==-1){l=d;break}}}}}}if(!l){for(;r.head;)r.removeNode(r.head.value);break}o=l.previous,r.removeNode(l.value),s(l.value)}const a={texts:this.texts.map(l=>({id:this.mirror.getId(l.node),value:l.value})).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),attributes:this.attributes.map(l=>{const{attributes:c}=l;if(typeof c.style=="string"){const d=JSON.stringify(l.styleDiff),f=JSON.stringify(l._unchangedStyles);d.length<c.style.length&&(d+f).split("var(").length===c.style.split("var(").length&&(c.style=l.styleDiff)}return{id:this.mirror.getId(l.node),attributes:c}}).filter(l=>!n.has(l.id)).filter(l=>this.mirror.has(l.id)),removes:this.removes,adds:t};!a.texts.length&&!a.attributes.length&&!a.removes.length&&!a.adds.length||(this.texts=[],this.attributes=[],this.attributeMap=new WeakMap,this.removes=[],this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.movedMap={},this.mutationCb(a))},this.processMutation=t=>{if(!Yd(t.target,this.mirror))switch(t.type){case"characterData":{const n=t.target.textContent;!Dt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)&&n!==t.oldValue&&this.texts.push({value:Ms(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,this.maskAllText)&&n?this.maskTextFn?this.maskTextFn(n,Kw(t.target)):n.replace(/[\S]/g,"*"):n,node:t.target});break}case"attributes":{const n=t.target;let r=t.attributeName,i=t.target.getAttribute(r);if(r==="value"){const o=Em(n),a=n.tagName;i=Jc(n,a,o);const l=Bu({maskInputOptions:this.maskInputOptions,tagName:a,type:o}),c=Ms(t.target,this.maskTextClass,this.maskTextSelector,this.unmaskTextClass,this.unmaskTextSelector,l);i=la({isMasked:c,element:n,value:i,maskInputFn:this.maskInputFn})}if(Dt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||i===t.oldValue)return;let s=this.attributeMap.get(t.target);if(n.tagName==="IFRAME"&&r==="src"&&!this.keepIframeSrcFn(i))if(!Rm(n))r="rr_src";else return;if(s||(s={node:t.target,attributes:{},styleDiff:{},_unchangedStyles:{}},this.attributes.push(s),this.attributeMap.set(t.target,s)),r==="type"&&n.tagName==="INPUT"&&(t.oldValue||"").toLowerCase()==="password"&&n.setAttribute("data-rr-is-password","true"),!Vw(n.tagName,r)&&(s.attributes[r]=Hw(this.doc,Rs(n.tagName),Rs(r),i,n,this.maskAttributeFn),r==="style")){if(!this.unattachedDoc)try{this.unattachedDoc=document.implementation.createHTMLDocument()}catch{this.unattachedDoc=this.doc}const o=this.unattachedDoc.createElement("span");t.oldValue&&o.setAttribute("style",t.oldValue);for(const a of Array.from(n.style)){const l=n.style.getPropertyValue(a),c=n.style.getPropertyPriority(a);l!==o.style.getPropertyValue(a)||c!==o.style.getPropertyPriority(a)?c===""?s.styleDiff[a]=l:s.styleDiff[a]=[l,c]:s._unchangedStyles[a]=[l,c]}for(const a of Array.from(o.style))n.style.getPropertyValue(a)===""&&(s.styleDiff[a]=!1)}break}case"childList":{if(Dt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!0))return;t.addedNodes.forEach(n=>this.genAdds(n,t.target)),t.removedNodes.forEach(n=>{const r=this.mirror.getId(n),i=Oo(t.target)?this.mirror.getId(t.target.host):this.mirror.getId(t.target);Dt(t.target,this.blockClass,this.blockSelector,this.unblockSelector,!1)||Yd(n,this.mirror)||!TP(n,this.mirror)||(this.addedSet.has(n)?(Ph(this.addedSet,n),this.droppedSet.add(n)):this.addedSet.has(t.target)&&r===-1||Xw(t.target,this.mirror)||(this.movedSet.has(n)&&this.movedMap[Pv(r,i)]?Ph(this.movedSet,n):this.removes.push({parentId:i,id:r,isShadow:Oo(t.target)&&No(t.target)?!0:void 0})),this.mapRemoves.push(n))});break}}},this.genAdds=(t,n)=>{if(!this.processedNodeManager.inOtherBuffer(t,this)&&!(this.addedSet.has(t)||this.movedSet.has(t))){if(this.mirror.hasNode(t)){if(Yd(t,this.mirror))return;this.movedSet.add(t);let r=null;n&&this.mirror.hasNode(n)&&(r=this.mirror.getId(n)),r&&r!==-1&&(this.movedMap[Pv(this.mirror.getId(t),r)]=!0)}else this.addedSet.add(t),this.droppedSet.delete(t);Dt(t,this.blockClass,this.blockSelector,this.unblockSelector,!1)||(t.childNodes&&t.childNodes.forEach(r=>this.genAdds(r)),Ah(t)&&t.shadowRoot.childNodes.forEach(r=>{this.processedNodeManager.add(r,this),this.genAdds(r,t)}))}}}init(t){["mutationCb","blockClass","blockSelector","unblockSelector","maskAllText","maskTextClass","unmaskTextClass","maskTextSelector","unmaskTextSelector","inlineStylesheet","maskInputOptions","maskAttributeFn","maskTextFn","maskInputFn","keepIframeSrcFn","recordCanvas","inlineImages","slimDOMOptions","dataURLOptions","doc","mirror","iframeManager","stylesheetManager","shadowDomManager","canvasManager","processedNodeManager"].forEach(n=>{this[n]=t[n]})}freeze(){this.frozen=!0,this.canvasManager.freeze()}unfreeze(){this.frozen=!1,this.canvasManager.unfreeze(),this.emit()}isFrozen(){return this.frozen}lock(){this.locked=!0,this.canvasManager.lock()}unlock(){this.locked=!1,this.canvasManager.unlock(),this.emit()}reset(){this.shadowDomManager.reset(),this.canvasManager.reset()}}function Ph(e,t){var n;e.delete(t),(n=t.childNodes)==null||n.forEach(r=>Ph(e,r))}function Ov(e,t,n){return e.length===0?!1:LP(e,t,n)}function LP(e,t,n){let r=t.parentNode;for(;r;){const i=n.getId(r);if(e.some(s=>s.id===i))return!0;r=r.parentNode}return!1}function Nv(e,t){return e.size===0?!1:nk(e,t)}function nk(e,t){const{parentNode:n}=t;return n?e.has(n)?!0:nk(e,n):!1}let Lo;function zP(e){Lo=e}function FP(){Lo=void 0}const ie=e=>Lo?(...n)=>{try{return e(...n)}catch(r){if(Lo&&Lo(r)===!0)return()=>{};throw r}}:e,rs=[];function Ba(e){try{if("composedPath"in e){const t=e.composedPath();if(t.length)return t[0]}else if("path"in e&&e.path.length)return e.path[0]}catch{}return e&&e.target}function rk(e,t){var o,a;const n=new NP;rs.push(n),n.init(e);let r=window.MutationObserver||window.__rrMutationObserver;const i=(a=(o=window==null?void 0:window.Zone)==null?void 0:o.__symbol__)==null?void 0:a.call(o,"MutationObserver");i&&window[i]&&(r=window[i]);const s=new r(ie(l=>{e.onMutation&&e.onMutation(l)===!1||n.processMutations.bind(n)(l)}));return s.observe(t,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),s}function BP({mousemoveCb:e,sampling:t,doc:n,mirror:r}){if(t.mousemove===!1)return()=>{};const i=typeof t.mousemove=="number"?t.mousemove:50,s=typeof t.mousemoveCallback=="number"?t.mousemoveCallback:500;let o=[],a;const l=ua(ie(f=>{const h=Date.now()-a;e(o.map(p=>(p.timeOffset-=h,p)),f),o=[],a=null}),s),c=ie(ua(ie(f=>{const h=Ba(f),{clientX:p,clientY:m}=jh(f)?f.changedTouches[0]:f;a||(a=eu()),o.push({x:p,y:m,id:r.getId(h),timeOffset:eu()-a}),l(typeof DragEvent<"u"&&f instanceof DragEvent?K.Drag:f instanceof MouseEvent?K.MouseMove:K.TouchMove)}),i,{trailing:!1})),d=[dt("mousemove",c,n),dt("touchmove",c,n),dt("drag",c,n)];return ie(()=>{d.forEach(f=>f())})}function $P({mouseInteractionCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){if(o.mouseInteraction===!1)return()=>{};const a=o.mouseInteraction===!0||o.mouseInteraction===void 0?{}:o.mouseInteraction,l=[];let c=null;const d=f=>h=>{const p=Ba(h);if(Dt(p,r,i,s,!0))return;let m=null,g=f;if("pointerType"in h){switch(h.pointerType){case"mouse":m=Mn.Mouse;break;case"touch":m=Mn.Touch;break;case"pen":m=Mn.Pen;break}m===Mn.Touch?ct[f]===ct.MouseDown?g="TouchStart":ct[f]===ct.MouseUp&&(g="TouchEnd"):Mn.Pen}else jh(h)&&(m=Mn.Touch);m!==null?(c=m,(g.startsWith("Touch")&&m===Mn.Touch||g.startsWith("Mouse")&&m===Mn.Mouse)&&(m=null)):ct[f]===ct.Click&&(m=c,c=null);const _=jh(h)?h.changedTouches[0]:h;if(!_)return;const y=n.getId(p),{clientX:v,clientY:x}=_;ie(e)({type:ct[g],id:y,x:v,y:x,...m!==null&&{pointerType:m}})};return Object.keys(ct).filter(f=>Number.isNaN(Number(f))&&!f.endsWith("_Departed")&&a[f]!==!1).forEach(f=>{let h=Rs(f);const p=d(f);if(window.PointerEvent)switch(ct[f]){case ct.MouseDown:case ct.MouseUp:h=h.replace("mouse","pointer");break;case ct.TouchStart:case ct.TouchEnd:return}l.push(dt(h,p,t))}),ie(()=>{l.forEach(f=>f())})}function ik({scrollCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,sampling:o}){const a=ie(ua(ie(l=>{const c=Ba(l);if(!c||Dt(c,r,i,s,!0))return;const d=n.getId(c);if(c===t&&t.defaultView){const f=Yw(t.defaultView);e({id:d,x:f.left,y:f.top})}else e({id:d,x:c.scrollLeft,y:c.scrollTop})}),o.scroll||100));return dt("scroll",a,t)}function WP({viewportResizeCb:e},{win:t}){let n=-1,r=-1;const i=ie(ua(ie(()=>{const s=qw(),o=Gw();(n!==s||r!==o)&&(e({width:Number(o),height:Number(s)}),n=s,r=o)}),200));return dt("resize",i,t)}const UP=["INPUT","TEXTAREA","SELECT"],Lv=new WeakMap;function HP({inputCb:e,doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,ignoreClass:o,ignoreSelector:a,maskInputOptions:l,maskInputFn:c,sampling:d,userTriggeredOnInput:f,maskTextClass:h,unmaskTextClass:p,maskTextSelector:m,unmaskTextSelector:g}){function _(w){let E=Ba(w);const C=w.isTrusted,T=E&&Mh(E.tagName);if(T==="OPTION"&&(E=E.parentElement),!E||!T||UP.indexOf(T)<0||Dt(E,r,i,s,!0))return;const I=E;if(I.classList.contains(o)||a&&I.matches(a))return;const D=Em(E);let F=Jc(I,T,D),U=!1;const A=Bu({maskInputOptions:l,tagName:T,type:D}),z=Ms(E,h,m,p,g,A);(D==="radio"||D==="checkbox")&&(U=E.checked),F=la({isMasked:z,element:E,value:F,maskInputFn:c}),y(E,f?{text:F,isChecked:U,userTriggered:C}:{text:F,isChecked:U});const P=E.name;D==="radio"&&P&&U&&t.querySelectorAll(`input[type="radio"][name="${P}"]`).forEach(R=>{if(R!==E){const j=la({isMasked:z,element:R,value:Jc(R,T,D),maskInputFn:c});y(R,f?{text:j,isChecked:!U,userTriggered:!1}:{text:j,isChecked:!U})}})}function y(w,E){const C=Lv.get(w);if(!C||C.text!==E.text||C.isChecked!==E.isChecked){Lv.set(w,E);const T=n.getId(w);ie(e)({...E,id:T})}}const x=(d.input==="last"?["change"]:["input","change"]).map(w=>dt(w,ie(_),t)),S=t.defaultView;if(!S)return()=>{x.forEach(w=>w())};const b=S.Object.getOwnPropertyDescriptor(S.HTMLInputElement.prototype,"value"),k=[[S.HTMLInputElement.prototype,"value"],[S.HTMLInputElement.prototype,"checked"],[S.HTMLSelectElement.prototype,"value"],[S.HTMLTextAreaElement.prototype,"value"],[S.HTMLSelectElement.prototype,"selectedIndex"],[S.HTMLOptionElement.prototype,"selected"]];return b&&b.set&&x.push(...k.map(w=>Zw(w[0],w[1],{set(){ie(_)({target:this,isTrusted:!1})}},!1,S))),ie(()=>{x.forEach(w=>w())})}function tu(e){const t=[];function n(r,i){if(vl("CSSGroupingRule")&&r.parentRule instanceof CSSGroupingRule||vl("CSSMediaRule")&&r.parentRule instanceof CSSMediaRule||vl("CSSSupportsRule")&&r.parentRule instanceof CSSSupportsRule||vl("CSSConditionRule")&&r.parentRule instanceof CSSConditionRule){const o=Array.from(r.parentRule.cssRules).indexOf(r);i.unshift(o)}else if(r.parentStyleSheet){const o=Array.from(r.parentStyleSheet.cssRules).indexOf(r);i.unshift(o)}return i}return n(e,t)}function or(e,t,n){let r,i;return e?(e.ownerNode?r=t.getId(e.ownerNode):i=n.getId(e),{styleId:i,id:r}):{}}function VP({styleSheetRuleCb:e,mirror:t,stylesheetManager:n},{win:r}){if(!r.CSSStyleSheet||!r.CSSStyleSheet.prototype)return()=>{};const i=r.CSSStyleSheet.prototype.insertRule;r.CSSStyleSheet.prototype.insertRule=new Proxy(i,{apply:ie((d,f,h)=>{const[p,m]=h,{id:g,styleId:_}=or(f,t,n.styleMirror);return(g&&g!==-1||_&&_!==-1)&&e({id:g,styleId:_,adds:[{rule:p,index:m}]}),d.apply(f,h)})});const s=r.CSSStyleSheet.prototype.deleteRule;r.CSSStyleSheet.prototype.deleteRule=new Proxy(s,{apply:ie((d,f,h)=>{const[p]=h,{id:m,styleId:g}=or(f,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,removes:[{index:p}]}),d.apply(f,h)})});let o;r.CSSStyleSheet.prototype.replace&&(o=r.CSSStyleSheet.prototype.replace,r.CSSStyleSheet.prototype.replace=new Proxy(o,{apply:ie((d,f,h)=>{const[p]=h,{id:m,styleId:g}=or(f,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replace:p}),d.apply(f,h)})}));let a;r.CSSStyleSheet.prototype.replaceSync&&(a=r.CSSStyleSheet.prototype.replaceSync,r.CSSStyleSheet.prototype.replaceSync=new Proxy(a,{apply:ie((d,f,h)=>{const[p]=h,{id:m,styleId:g}=or(f,t,n.styleMirror);return(m&&m!==-1||g&&g!==-1)&&e({id:m,styleId:g,replaceSync:p}),d.apply(f,h)})}));const l={};_l("CSSGroupingRule")?l.CSSGroupingRule=r.CSSGroupingRule:(_l("CSSMediaRule")&&(l.CSSMediaRule=r.CSSMediaRule),_l("CSSConditionRule")&&(l.CSSConditionRule=r.CSSConditionRule),_l("CSSSupportsRule")&&(l.CSSSupportsRule=r.CSSSupportsRule));const c={};return Object.entries(l).forEach(([d,f])=>{c[d]={insertRule:f.prototype.insertRule,deleteRule:f.prototype.deleteRule},f.prototype.insertRule=new Proxy(c[d].insertRule,{apply:ie((h,p,m)=>{const[g,_]=m,{id:y,styleId:v}=or(p.parentStyleSheet,t,n.styleMirror);return(y&&y!==-1||v&&v!==-1)&&e({id:y,styleId:v,adds:[{rule:g,index:[...tu(p),_||0]}]}),h.apply(p,m)})}),f.prototype.deleteRule=new Proxy(c[d].deleteRule,{apply:ie((h,p,m)=>{const[g]=m,{id:_,styleId:y}=or(p.parentStyleSheet,t,n.styleMirror);return(_&&_!==-1||y&&y!==-1)&&e({id:_,styleId:y,removes:[{index:[...tu(p),g]}]}),h.apply(p,m)})})}),ie(()=>{r.CSSStyleSheet.prototype.insertRule=i,r.CSSStyleSheet.prototype.deleteRule=s,o&&(r.CSSStyleSheet.prototype.replace=o),a&&(r.CSSStyleSheet.prototype.replaceSync=a),Object.entries(l).forEach(([d,f])=>{f.prototype.insertRule=c[d].insertRule,f.prototype.deleteRule=c[d].deleteRule})})}function sk({mirror:e,stylesheetManager:t},n){var o,a,l;let r=null;n.nodeName==="#document"?r=e.getId(n):r=e.getId(n.host);const i=n.nodeName==="#document"?(o=n.defaultView)==null?void 0:o.Document:(l=(a=n.ownerDocument)==null?void 0:a.defaultView)==null?void 0:l.ShadowRoot,s=i!=null&&i.prototype?Object.getOwnPropertyDescriptor(i==null?void 0:i.prototype,"adoptedStyleSheets"):void 0;return r===null||r===-1||!i||!s?()=>{}:(Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get(){var c;return(c=s.get)==null?void 0:c.call(this)},set(c){var f;const d=(f=s.set)==null?void 0:f.call(this,c);if(r!==null&&r!==-1)try{t.adoptStyleSheets(c,r)}catch{}return d}}),ie(()=>{Object.defineProperty(n,"adoptedStyleSheets",{configurable:s.configurable,enumerable:s.enumerable,get:s.get,set:s.set})}))}function ZP({styleDeclarationCb:e,mirror:t,ignoreCSSAttributes:n,stylesheetManager:r},{win:i}){const s=i.CSSStyleDeclaration.prototype.setProperty;i.CSSStyleDeclaration.prototype.setProperty=new Proxy(s,{apply:ie((a,l,c)=>{var g;const[d,f,h]=c;if(n.has(d))return s.apply(l,[d,f,h]);const{id:p,styleId:m}=or((g=l.parentRule)==null?void 0:g.parentStyleSheet,t,r.styleMirror);return(p&&p!==-1||m&&m!==-1)&&e({id:p,styleId:m,set:{property:d,value:f,priority:h},index:tu(l.parentRule)}),a.apply(l,c)})});const o=i.CSSStyleDeclaration.prototype.removeProperty;return i.CSSStyleDeclaration.prototype.removeProperty=new Proxy(o,{apply:ie((a,l,c)=>{var p;const[d]=c;if(n.has(d))return o.apply(l,[d]);const{id:f,styleId:h}=or((p=l.parentRule)==null?void 0:p.parentStyleSheet,t,r.styleMirror);return(f&&f!==-1||h&&h!==-1)&&e({id:f,styleId:h,remove:{property:d},index:tu(l.parentRule)}),a.apply(l,c)})}),ie(()=>{i.CSSStyleDeclaration.prototype.setProperty=s,i.CSSStyleDeclaration.prototype.removeProperty=o})}function YP({mediaInteractionCb:e,blockClass:t,blockSelector:n,unblockSelector:r,mirror:i,sampling:s,doc:o}){const a=ie(c=>ua(ie(d=>{const f=Ba(d);if(!f||Dt(f,t,n,r,!0))return;const{currentTime:h,volume:p,muted:m,playbackRate:g}=f;e({type:c,id:i.getId(f),currentTime:h,volume:p,muted:m,playbackRate:g})}),s.media||500)),l=[dt("play",a(Fi.Play),o),dt("pause",a(Fi.Pause),o),dt("seeked",a(Fi.Seeked),o),dt("volumechange",a(Fi.VolumeChange),o),dt("ratechange",a(Fi.RateChange),o)];return ie(()=>{l.forEach(c=>c())})}function qP({fontCb:e,doc:t}){const n=t.defaultView;if(!n)return()=>{};const r=[],i=new WeakMap,s=n.FontFace;n.FontFace=function(l,c,d){const f=new s(l,c,d);return i.set(f,{family:l,buffer:typeof c!="string",descriptors:d,fontSource:typeof c=="string"?c:JSON.stringify(Array.from(new Uint8Array(c)))}),f};const o=Tm(t.fonts,"add",function(a){return function(l){return Wu(ie(()=>{const c=i.get(l);c&&(e(c),i.delete(l))}),0),a.apply(this,[l])}});return r.push(()=>{n.FontFace=s}),r.push(o),ie(()=>{r.forEach(a=>a())})}function GP(e){const{doc:t,mirror:n,blockClass:r,blockSelector:i,unblockSelector:s,selectionCb:o}=e;let a=!0;const l=ie(()=>{const c=t.getSelection();if(!c||a&&(c!=null&&c.isCollapsed))return;a=c.isCollapsed||!1;const d=[],f=c.rangeCount||0;for(let h=0;h<f;h++){const p=c.getRangeAt(h),{startContainer:m,startOffset:g,endContainer:_,endOffset:y}=p;Dt(m,r,i,s,!0)||Dt(_,r,i,s,!0)||d.push({start:n.getId(m),startOffset:g,end:n.getId(_),endOffset:y})}o({ranges:d})});return l(),dt("selectionchange",l)}function KP({doc:e,customElementCb:t}){const n=e.defaultView;return!n||!n.customElements?()=>{}:Tm(n.customElements,"define",function(i){return function(s,o,a){try{t({define:{name:s}})}catch{}return i.apply(this,[s,o,a])}})}function XP(e,t={}){const n=e.doc.defaultView;if(!n)return()=>{};let r;e.recordDOM&&(r=rk(e,e.doc));const i=BP(e),s=$P(e),o=ik(e),a=WP(e,{win:n}),l=HP(e),c=YP(e);let d=()=>{},f=()=>{},h=()=>{},p=()=>{};e.recordDOM&&(d=VP(e,{win:n}),f=sk(e,e.doc),h=ZP(e,{win:n}),e.collectFonts&&(p=qP(e)));const m=GP(e),g=KP(e),_=[];for(const y of e.plugins)_.push(y.observer(y.callback,n,y.options));return ie(()=>{rs.forEach(y=>y.reset()),r==null||r.disconnect(),i(),s(),o(),a(),l(),c(),d(),f(),h(),p(),m(),g(),_.forEach(y=>y())})}function vl(e){return typeof window[e]<"u"}function _l(e){return!!(typeof window[e]<"u"&&window[e].prototype&&"insertRule"in window[e].prototype&&"deleteRule"in window[e].prototype)}class Oh{constructor(t){this.generateIdFn=t,this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap}getId(t,n,r,i){const s=r||this.getIdToRemoteIdMap(t),o=i||this.getRemoteIdToIdMap(t);let a=s.get(n);return a||(a=this.generateIdFn(),s.set(n,a),o.set(a,n)),a}getIds(t,n){const r=this.getIdToRemoteIdMap(t),i=this.getRemoteIdToIdMap(t);return n.map(s=>this.getId(t,s,r,i))}getRemoteId(t,n,r){const i=r||this.getRemoteIdToIdMap(t);if(typeof n!="number")return n;const s=i.get(n);return s||-1}getRemoteIds(t,n){const r=this.getRemoteIdToIdMap(t);return n.map(i=>this.getRemoteId(t,i,r))}reset(t){if(!t){this.iframeIdToRemoteIdMap=new WeakMap,this.iframeRemoteIdToIdMap=new WeakMap;return}this.iframeIdToRemoteIdMap.delete(t),this.iframeRemoteIdToIdMap.delete(t)}getIdToRemoteIdMap(t){let n=this.iframeIdToRemoteIdMap.get(t);return n||(n=new Map,this.iframeIdToRemoteIdMap.set(t,n)),n}getRemoteIdToIdMap(t){let n=this.iframeRemoteIdToIdMap.get(t);return n||(n=new Map,this.iframeRemoteIdToIdMap.set(t,n)),n}}class JP{constructor(){this.crossOriginIframeMirror=new Oh(Cm),this.crossOriginIframeRootIdMap=new WeakMap}addIframe(){}addLoadListener(){}attachIframe(){}}class QP{constructor(t){this.iframes=new WeakMap,this.crossOriginIframeMap=new WeakMap,this.crossOriginIframeMirror=new Oh(Cm),this.crossOriginIframeRootIdMap=new WeakMap,this.mutationCb=t.mutationCb,this.wrappedEmit=t.wrappedEmit,this.stylesheetManager=t.stylesheetManager,this.recordCrossOriginIframes=t.recordCrossOriginIframes,this.crossOriginIframeStyleMirror=new Oh(this.stylesheetManager.styleMirror.generateId.bind(this.stylesheetManager.styleMirror)),this.mirror=t.mirror,this.recordCrossOriginIframes&&window.addEventListener("message",this.handleMessage.bind(this))}addIframe(t){this.iframes.set(t,!0),t.contentWindow&&this.crossOriginIframeMap.set(t.contentWindow,t)}addLoadListener(t){this.loadListener=t}attachIframe(t,n){var i,s;this.mutationCb({adds:[{parentId:this.mirror.getId(t),nextId:null,node:n}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),this.recordCrossOriginIframes&&((i=t.contentWindow)==null||i.addEventListener("message",this.handleMessage.bind(this))),(s=this.loadListener)==null||s.call(this,t);const r=Rm(t);r&&r.adoptedStyleSheets&&r.adoptedStyleSheets.length>0&&this.stylesheetManager.adoptStyleSheets(r.adoptedStyleSheets,this.mirror.getId(r))}handleMessage(t){const n=t;if(n.data.type!=="rrweb"||n.origin!==n.data.origin||!t.source)return;const i=this.crossOriginIframeMap.get(t.source);if(!i)return;const s=this.transformCrossOriginEvent(i,n.data.event);s&&this.wrappedEmit(s,n.data.isCheckout)}transformCrossOriginEvent(t,n){var r;switch(n.type){case J.FullSnapshot:{this.crossOriginIframeMirror.reset(t),this.crossOriginIframeStyleMirror.reset(t),this.replaceIdOnNode(n.data.node,t);const i=n.data.node.id;return this.crossOriginIframeRootIdMap.set(t,i),this.patchRootIdOnNode(n.data.node,i),{timestamp:n.timestamp,type:J.IncrementalSnapshot,data:{source:K.Mutation,adds:[{parentId:this.mirror.getId(t),nextId:null,node:n.data.node}],removes:[],texts:[],attributes:[],isAttachIframe:!0}}}case J.Meta:case J.Load:case J.DomContentLoaded:return!1;case J.Plugin:return n;case J.Custom:return this.replaceIds(n.data.payload,t,["id","parentId","previousId","nextId"]),n;case J.IncrementalSnapshot:switch(n.data.source){case K.Mutation:return n.data.adds.forEach(i=>{this.replaceIds(i,t,["parentId","nextId","previousId"]),this.replaceIdOnNode(i.node,t);const s=this.crossOriginIframeRootIdMap.get(t);s&&this.patchRootIdOnNode(i.node,s)}),n.data.removes.forEach(i=>{this.replaceIds(i,t,["parentId","id"])}),n.data.attributes.forEach(i=>{this.replaceIds(i,t,["id"])}),n.data.texts.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case K.Drag:case K.TouchMove:case K.MouseMove:return n.data.positions.forEach(i=>{this.replaceIds(i,t,["id"])}),n;case K.ViewportResize:return!1;case K.MediaInteraction:case K.MouseInteraction:case K.Scroll:case K.CanvasMutation:case K.Input:return this.replaceIds(n.data,t,["id"]),n;case K.StyleSheetRule:case K.StyleDeclaration:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleId"]),n;case K.Font:return n;case K.Selection:return n.data.ranges.forEach(i=>{this.replaceIds(i,t,["start","end"])}),n;case K.AdoptedStyleSheet:return this.replaceIds(n.data,t,["id"]),this.replaceStyleIds(n.data,t,["styleIds"]),(r=n.data.styles)==null||r.forEach(i=>{this.replaceStyleIds(i,t,["styleId"])}),n}}return!1}replace(t,n,r,i){for(const s of i)!Array.isArray(n[s])&&typeof n[s]!="number"||(Array.isArray(n[s])?n[s]=t.getIds(r,n[s]):n[s]=t.getId(r,n[s]));return n}replaceIds(t,n,r){return this.replace(this.crossOriginIframeMirror,t,n,r)}replaceStyleIds(t,n,r){return this.replace(this.crossOriginIframeStyleMirror,t,n,r)}replaceIdOnNode(t,n){this.replaceIds(t,n,["id","rootId"]),"childNodes"in t&&t.childNodes.forEach(r=>{this.replaceIdOnNode(r,n)})}patchRootIdOnNode(t,n){t.type!==Be.Document&&!t.rootId&&(t.rootId=n),"childNodes"in t&&t.childNodes.forEach(r=>{this.patchRootIdOnNode(r,n)})}}class eO{init(){}addShadowRoot(){}observeAttachShadow(){}reset(){}}class tO{constructor(t){this.shadowDoms=new WeakSet,this.restoreHandlers=[],this.mutationCb=t.mutationCb,this.scrollCb=t.scrollCb,this.bypassOptions=t.bypassOptions,this.mirror=t.mirror,this.init()}init(){this.reset(),this.patchAttachShadow(Element,document)}addShadowRoot(t,n){if(!No(t)||this.shadowDoms.has(t))return;this.shadowDoms.add(t),this.bypassOptions.canvasManager.addShadowRoot(t);const r=rk({...this.bypassOptions,doc:n,mutationCb:this.mutationCb,mirror:this.mirror,shadowDomManager:this},t);this.restoreHandlers.push(()=>r.disconnect()),this.restoreHandlers.push(ik({...this.bypassOptions,scrollCb:this.scrollCb,doc:t,mirror:this.mirror})),Wu(()=>{t.adoptedStyleSheets&&t.adoptedStyleSheets.length>0&&this.bypassOptions.stylesheetManager.adoptStyleSheets(t.adoptedStyleSheets,this.mirror.getId(t.host)),this.restoreHandlers.push(sk({mirror:this.mirror,stylesheetManager:this.bypassOptions.stylesheetManager},t))},0)}observeAttachShadow(t){const n=Rm(t),r=PP(t);!n||!r||this.patchAttachShadow(r.Element,n)}patchAttachShadow(t,n){const r=this;this.restoreHandlers.push(Tm(t.prototype,"attachShadow",function(i){return function(s){const o=i.call(this,s);return this.shadowRoot&&tk(this)&&r.addShadowRoot(this.shadowRoot,n),o}}))}reset(){this.restoreHandlers.forEach(t=>{try{t()}catch{}}),this.restoreHandlers=[],this.shadowDoms=new WeakSet,this.bypassOptions.canvasManager.resetShadowRoots()}}var zv="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nO=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xl=0;xl<zv.length;xl++)nO[zv.charCodeAt(xl)]=xl;class Fv{reset(){}freeze(){}unfreeze(){}lock(){}unlock(){}snapshot(){}addWindow(){}addShadowRoot(){}resetShadowRoots(){}}class rO{constructor(t){this.trackedLinkElements=new WeakSet,this.styleMirror=new RP,this.mutationCb=t.mutationCb,this.adoptedStyleSheetCb=t.adoptedStyleSheetCb}attachLinkElement(t,n){"_cssText"in n.attributes&&this.mutationCb({adds:[],removes:[],texts:[],attributes:[{id:n.id,attributes:n.attributes}]}),this.trackLinkElement(t)}trackLinkElement(t){this.trackedLinkElements.has(t)||(this.trackedLinkElements.add(t),this.trackStylesheetInLinkElement(t))}adoptStyleSheets(t,n){if(t.length===0)return;const r={id:n,styleIds:[]},i=[];for(const s of t){let o;this.styleMirror.has(s)?o=this.styleMirror.getId(s):(o=this.styleMirror.add(s),i.push({styleId:o,rules:Array.from(s.rules||CSSRule,(a,l)=>({rule:zw(a),index:l}))})),r.styleIds.push(o)}i.length>0&&(r.styles=i),this.adoptedStyleSheetCb(r)}reset(){this.styleMirror.reset(),this.trackedLinkElements=new WeakSet}trackStylesheetInLinkElement(t){}}class iO{constructor(){this.nodeMap=new WeakMap,this.active=!1}inOtherBuffer(t,n){const r=this.nodeMap.get(t);return r&&Array.from(r).some(i=>i!==n)}add(t,n){this.active||(this.active=!0,jP(()=>{this.nodeMap=new WeakMap,this.active=!1})),this.nodeMap.set(t,(this.nodeMap.get(t)||new Set).add(n))}destroy(){}}let De,nu;var B0;try{if(Array.from([1],e=>e*2)[0]!==2){const e=document.createElement("iframe");document.body.appendChild(e),Array.from=((B0=e.contentWindow)==null?void 0:B0.Array.from)||Array.from,document.body.removeChild(e)}}catch(e){console.debug("Unable to override Array.from",e)}const sn=rP();function Wn(e={}){const{emit:t,checkoutEveryNms:n,checkoutEveryNth:r,blockClass:i="rr-block",blockSelector:s=null,unblockSelector:o=null,ignoreClass:a="rr-ignore",ignoreSelector:l=null,maskAllText:c=!1,maskTextClass:d="rr-mask",unmaskTextClass:f=null,maskTextSelector:h=null,unmaskTextSelector:p=null,inlineStylesheet:m=!0,maskAllInputs:g,maskInputOptions:_,slimDOMOptions:y,maskAttributeFn:v,maskInputFn:x,maskTextFn:S,maxCanvasSize:b=null,packFn:k,sampling:w={},dataURLOptions:E={},mousemoveWait:C,recordDOM:T=!0,recordCanvas:I=!1,recordCrossOriginIframes:D=!1,recordAfter:F=e.recordAfter==="DOMContentLoaded"?e.recordAfter:"load",userTriggeredOnInput:U=!1,collectFonts:A=!1,inlineImages:z=!1,plugins:P,keepIframeSrcFn:R=()=>!1,ignoreCSSAttributes:j=new Set([]),errorHandler:B,onMutation:Z,getCanvasManager:X}=e;zP(B);const Fe=D?window.parent===window:!0;let fe=!1;if(!Fe)try{window.parent.document&&(fe=!1)}catch{fe=!0}if(Fe&&!t)throw new Error("emit function is required");if(!Fe&&!fe)return()=>{};C!==void 0&&w.mousemove===void 0&&(w.mousemove=C),sn.reset();const Ce=g===!0?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,radio:!0,checkbox:!0}:_!==void 0?_:{},Oe=y===!0||y==="all"?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:y==="all",headMetaDescKeywords:y==="all"}:y||{};IP();let er,Qu=0;const ug=ce=>{for(const nn of P||[])nn.eventProcessor&&(ce=nn.eventProcessor(ce));return k&&!fe&&(ce=k(ce)),ce};De=(ce,nn)=>{var gt;const re=ce;if(re.timestamp=eu(),(gt=rs[0])!=null&&gt.isFrozen()&&re.type!==J.FullSnapshot&&!(re.type===J.IncrementalSnapshot&&re.data.source===K.Mutation)&&rs.forEach($t=>$t.unfreeze()),Fe)t==null||t(ug(re),nn);else if(fe){const $t={type:"rrweb",event:ug(re),origin:window.location.origin,isCheckout:nn};window.parent.postMessage($t,"*")}if(re.type===J.FullSnapshot)er=re,Qu=0;else if(re.type===J.IncrementalSnapshot){if(re.data.source===K.Mutation&&re.data.isAttachIframe)return;Qu++;const $t=r&&Qu>=r,he=n&&er&&re.timestamp-er.timestamp>n;($t||he)&&nd(!0)}};const qs=ce=>{De({type:J.IncrementalSnapshot,data:{source:K.Mutation,...ce}})},dg=ce=>De({type:J.IncrementalSnapshot,data:{source:K.Scroll,...ce}}),U1=ce=>De({type:J.IncrementalSnapshot,data:{source:K.CanvasMutation,...ce}}),H1=ce=>De({type:J.IncrementalSnapshot,data:{source:K.AdoptedStyleSheet,...ce}}),Br=new rO({mutationCb:qs,adoptedStyleSheetCb:H1}),$r=typeof __RRWEB_EXCLUDE_IFRAME__=="boolean"&&__RRWEB_EXCLUDE_IFRAME__?new JP:new QP({mirror:sn,mutationCb:qs,stylesheetManager:Br,recordCrossOriginIframes:D,wrappedEmit:De});for(const ce of P||[])ce.getMirror&&ce.getMirror({nodeMirror:sn,crossOriginIframeMirror:$r.crossOriginIframeMirror,crossOriginIframeStyleMirror:$r.crossOriginIframeStyleMirror});const ed=new iO,td=oO(X,{mirror:sn,win:window,mutationCb:ce=>De({type:J.IncrementalSnapshot,data:{source:K.CanvasMutation,...ce}}),recordCanvas:I,blockClass:i,blockSelector:s,unblockSelector:o,maxCanvasSize:b,sampling:w.canvas,dataURLOptions:E,errorHandler:B}),Ha=typeof __RRWEB_EXCLUDE_SHADOW_DOM__=="boolean"&&__RRWEB_EXCLUDE_SHADOW_DOM__?new eO:new tO({mutationCb:qs,scrollCb:dg,bypassOptions:{onMutation:Z,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:m,maskInputOptions:Ce,dataURLOptions:E,maskAttributeFn:v,maskTextFn:S,maskInputFn:x,recordCanvas:I,inlineImages:z,sampling:w,slimDOMOptions:Oe,iframeManager:$r,stylesheetManager:Br,canvasManager:td,keepIframeSrcFn:R,processedNodeManager:ed},mirror:sn}),nd=(ce=!1)=>{if(!T)return;De({type:J.Meta,data:{href:window.location.href,width:Gw(),height:qw()}},ce),Br.reset(),Ha.init(),rs.forEach(re=>re.lock());const nn=CP(document,{mirror:sn,blockClass:i,blockSelector:s,unblockSelector:o,maskAllText:c,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:p,inlineStylesheet:m,maskAllInputs:Ce,maskAttributeFn:v,maskInputFn:x,maskTextFn:S,slimDOM:Oe,dataURLOptions:E,recordCanvas:I,inlineImages:z,onSerialize:re=>{Jw(re,sn)&&$r.addIframe(re),Qw(re,sn)&&Br.trackLinkElement(re),Ah(re)&&Ha.addShadowRoot(re.shadowRoot,document)},onIframeLoad:(re,gt)=>{$r.attachIframe(re,gt),re.contentWindow&&td.addWindow(re.contentWindow),Ha.observeAttachShadow(re)},onStylesheetLoad:(re,gt)=>{Br.attachLinkElement(re,gt)},onBlockedImageLoad:(re,gt,{width:$t,height:he})=>{qs({adds:[],removes:[],texts:[],attributes:[{id:gt.id,attributes:{style:{width:`${$t}px`,height:`${he}px`}}}]})},keepIframeSrcFn:R});if(!nn)return console.warn("Failed to snapshot the document");De({type:J.FullSnapshot,data:{node:nn,initialOffset:Yw(window)}}),rs.forEach(re=>re.unlock()),document.adoptedStyleSheets&&document.adoptedStyleSheets.length>0&&Br.adoptStyleSheets(document.adoptedStyleSheets,sn.getId(document))};nu=nd;try{const ce=[],nn=gt=>{var $t;return ie(XP)({onMutation:Z,mutationCb:qs,mousemoveCb:(he,rd)=>De({type:J.IncrementalSnapshot,data:{source:rd,positions:he}}),mouseInteractionCb:he=>De({type:J.IncrementalSnapshot,data:{source:K.MouseInteraction,...he}}),scrollCb:dg,viewportResizeCb:he=>De({type:J.IncrementalSnapshot,data:{source:K.ViewportResize,...he}}),inputCb:he=>De({type:J.IncrementalSnapshot,data:{source:K.Input,...he}}),mediaInteractionCb:he=>De({type:J.IncrementalSnapshot,data:{source:K.MediaInteraction,...he}}),styleSheetRuleCb:he=>De({type:J.IncrementalSnapshot,data:{source:K.StyleSheetRule,...he}}),styleDeclarationCb:he=>De({type:J.IncrementalSnapshot,data:{source:K.StyleDeclaration,...he}}),canvasMutationCb:U1,fontCb:he=>De({type:J.IncrementalSnapshot,data:{source:K.Font,...he}}),selectionCb:he=>{De({type:J.IncrementalSnapshot,data:{source:K.Selection,...he}})},customElementCb:he=>{De({type:J.IncrementalSnapshot,data:{source:K.CustomElement,...he}})},blockClass:i,ignoreClass:a,ignoreSelector:l,maskAllText:c,maskTextClass:d,unmaskTextClass:f,maskTextSelector:h,unmaskTextSelector:p,maskInputOptions:Ce,inlineStylesheet:m,sampling:w,recordDOM:T,recordCanvas:I,inlineImages:z,userTriggeredOnInput:U,collectFonts:A,doc:gt,maskAttributeFn:v,maskInputFn:x,maskTextFn:S,keepIframeSrcFn:R,blockSelector:s,unblockSelector:o,slimDOMOptions:Oe,dataURLOptions:E,mirror:sn,iframeManager:$r,stylesheetManager:Br,shadowDomManager:Ha,processedNodeManager:ed,canvasManager:td,ignoreCSSAttributes:j,plugins:(($t=P==null?void 0:P.filter(he=>he.observer))==null?void 0:$t.map(he=>({observer:he.observer,options:he.options,callback:rd=>De({type:J.Plugin,data:{plugin:he.name,payload:rd}})})))||[]},{})};$r.addLoadListener(gt=>{try{ce.push(nn(gt.contentDocument))}catch($t){console.warn($t)}});const re=()=>{nd(),ce.push(nn(document))};return document.readyState==="interactive"||document.readyState==="complete"?re():(ce.push(dt("DOMContentLoaded",()=>{De({type:J.DomContentLoaded,data:{}}),F==="DOMContentLoaded"&&re()})),ce.push(dt("load",()=>{De({type:J.Load,data:{}}),F==="load"&&re()},window))),()=>{ce.forEach(gt=>gt()),ed.destroy(),nu=void 0,FP()}}catch(ce){console.warn(ce)}}function sO(e){if(!nu)throw new Error("please take full snapshot after start recording");nu(e)}Wn.mirror=sn;Wn.takeFullSnapshot=sO;function oO(e,t){try{return e?e(t):new Fv}catch{return console.warn("Unable to initialize CanvasManager"),new Fv}}var Bv;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(Bv||(Bv={}));const aO=3,lO=5;function Mm(e){return e>9999999999?e:e*1e3}function qd(e){return e>9999999999?e/1e3:e}function $a(e,t){t.category!=="sentry.transaction"&&(["ui.click","ui.input"].includes(t.category)?e.triggerUserActivity():e.checkAndHandleExpiredSession(),e.addUpdate(()=>(e.throttledAddEvent({type:J.Custom,timestamp:(t.timestamp||0)*1e3,data:{tag:"breadcrumb",payload:ln(t,10,1e3)}}),t.category==="console")))}const cO="button,a";function ok(e){return e.closest(cO)||e}function ak(e){const t=lk(e);return!t||!(t instanceof Element)?t:ok(t)}function lk(e){return uO(e)?e.target:e}function uO(e){return typeof e=="object"&&!!e&&"target"in e}let ar;function dO(e){return ar||(ar=[],fO()),ar.push(e),()=>{const t=ar?ar.indexOf(e):-1;t>-1&&ar.splice(t,1)}}function fO(){wt(ve,"open",function(e){return function(...t){if(ar)try{ar.forEach(n=>n())}catch{}return e.apply(ve,t)}})}const hO=new Set([K.Mutation,K.StyleSheetRule,K.StyleDeclaration,K.AdoptedStyleSheet,K.CanvasMutation,K.Selection,K.MediaInteraction]);function pO(e,t,n){e.handleClick(t,n)}class mO{constructor(t,n,r=$a){this._lastMutation=0,this._lastScroll=0,this._clicks=[],this._timeout=n.timeout/1e3,this._threshold=n.threshold/1e3,this._scrollTimeout=n.scrollTimeout/1e3,this._replay=t,this._ignoreSelector=n.ignoreSelector,this._addBreadcrumbEvent=r}addListeners(){const t=dO(()=>{this._lastMutation=$v()});this._teardown=()=>{t(),this._clicks=[],this._lastMutation=0,this._lastScroll=0}}removeListeners(){this._teardown&&this._teardown(),this._checkClickTimeout&&clearTimeout(this._checkClickTimeout)}handleClick(t,n){if(yO(n,this._ignoreSelector)||!vO(t))return;const r={timestamp:qd(t.timestamp),clickBreadcrumb:t,clickCount:0,node:n};this._clicks.some(i=>i.node===r.node&&Math.abs(i.timestamp-r.timestamp)<1)||(this._clicks.push(r),this._clicks.length===1&&this._scheduleCheckClicks())}registerMutation(t=Date.now()){this._lastMutation=qd(t)}registerScroll(t=Date.now()){this._lastScroll=qd(t)}registerClick(t){const n=ok(t);this._handleMultiClick(n)}_handleMultiClick(t){this._getClicks(t).forEach(n=>{n.clickCount++})}_getClicks(t){return this._clicks.filter(n=>n.node===t)}_checkClicks(){const t=[],n=$v();this._clicks.forEach(r=>{!r.mutationAfter&&this._lastMutation&&(r.mutationAfter=r.timestamp<=this._lastMutation?this._lastMutation-r.timestamp:void 0),!r.scrollAfter&&this._lastScroll&&(r.scrollAfter=r.timestamp<=this._lastScroll?this._lastScroll-r.timestamp:void 0),r.timestamp+this._timeout<=n&&t.push(r)});for(const r of t){const i=this._clicks.indexOf(r);i>-1&&(this._generateBreadcrumbs(r),this._clicks.splice(i,1))}this._clicks.length&&this._scheduleCheckClicks()}_generateBreadcrumbs(t){const n=this._replay,r=t.scrollAfter&&t.scrollAfter<=this._scrollTimeout,i=t.mutationAfter&&t.mutationAfter<=this._threshold,s=!r&&!i,{clickCount:o,clickBreadcrumb:a}=t;if(s){const l=Math.min(t.mutationAfter||this._timeout,this._timeout)*1e3,c=l<this._timeout*1e3?"mutation":"timeout",d={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.slowClickDetected",data:{...a.data,url:ve.location.href,route:n.getCurrentRoute(),timeAfterClickMs:l,endReason:c,clickCount:o||1}};this._addBreadcrumbEvent(n,d);return}if(o>1){const l={type:"default",message:a.message,timestamp:a.timestamp,category:"ui.multiClick",data:{...a.data,url:ve.location.href,route:n.getCurrentRoute(),clickCount:o,metric:!0}};this._addBreadcrumbEvent(n,l)}}_scheduleCheckClicks(){this._checkClickTimeout&&clearTimeout(this._checkClickTimeout),this._checkClickTimeout=Fa(()=>this._checkClicks(),1e3)}}const gO=["A","BUTTON","INPUT"];function yO(e,t){return!!(!gO.includes(e.tagName)||e.tagName==="INPUT"&&!["submit","button"].includes(e.getAttribute("type")||"")||e.tagName==="A"&&(e.hasAttribute("download")||e.hasAttribute("target")&&e.getAttribute("target")!=="_self")||t&&e.matches(t))}function vO(e){return!!(e.data&&typeof e.data.nodeId=="number"&&e.timestamp)}function $v(){return Date.now()/1e3}function _O(e,t){try{if(!xO(t))return;const{source:n}=t.data;if(hO.has(n)&&e.registerMutation(t.timestamp),n===K.Scroll&&e.registerScroll(t.timestamp),SO(t)){const{type:r,id:i}=t.data,s=Wn.mirror.getNode(i);s instanceof HTMLElement&&r===ct.Click&&e.registerClick(s)}}catch{}}function xO(e){return e.type===aO}function SO(e){return e.data.source===K.MouseInteraction}function kn(e){return{timestamp:Date.now()/1e3,type:"default",...e}}var Dm=(e=>(e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment",e))(Dm||{});const bO=new Set(["id","class","aria-label","role","name","alt","title","data-test-id","data-testid","disabled","aria-disabled","data-sentry-component"]);function wO(e){const t={};!e["data-sentry-component"]&&e["data-sentry-element"]&&(e["data-sentry-component"]=e["data-sentry-element"]);for(const n in e)if(bO.has(n)){let r=n;(n==="data-testid"||n==="data-test-id")&&(r="testId"),t[r]=e[n]}return t}const kO=e=>t=>{if(!e.isEnabled())return;const n=EO(t);if(!n)return;const r=t.name==="click",i=r?t.event:void 0;r&&e.clickDetector&&(i!=null&&i.target)&&!i.altKey&&!i.metaKey&&!i.ctrlKey&&!i.shiftKey&&pO(e.clickDetector,n,ak(t.event)),$a(e,n)};function ck(e,t){const n=Wn.mirror.getId(e),r=n&&Wn.mirror.getNode(n),i=r&&Wn.mirror.getMeta(r),s=i&&TO(i)?i:null;return{message:t,data:s?{nodeId:n,node:{id:n,tagName:s.tagName,textContent:Array.from(s.childNodes).map(o=>o.type===Dm.Text&&o.textContent).filter(Boolean).map(o=>o.trim()).join(""),attributes:wO(s.attributes)}}:{}}}function EO(e){const{target:t,message:n}=CO(e);return kn({category:`ui.${e.name}`,...ck(t,n)})}function CO(e){const t=e.name==="click";let n,r=null;try{r=t?ak(e.event):lk(e.event),n=Jt(r,{maxStringLength:200})||"<unknown>"}catch{n="<unknown>"}return{target:r,message:n}}function TO(e){return e.type===Dm.Element}function IO(e,t){if(!e.isEnabled())return;e.updateUserActivity();const n=RO(t);n&&$a(e,n)}function RO(e){const{metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s,target:o}=e;if(!o||MO(o)||!s)return null;const a=t||r||i,l=s.length===1;if(!a&&l)return null;const c=Jt(o,{maxStringLength:200})||"<unknown>",d=ck(o,c);return kn({category:"ui.keyDown",message:c,data:{...d.data,metaKey:t,shiftKey:n,ctrlKey:r,altKey:i,key:s}})}function MO(e){return e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable}const DO={resource:NO,paint:PO,navigation:OO};function Gd(e,t){return({metric:n})=>void t.replayPerformanceEntries.push(e(n))}function jO(e){return e.map(AO).filter(Boolean)}function AO(e){const t=DO[e.entryType];return t?t(e):null}function Ds(e){return((It()||ve.performance.timeOrigin)+e)/1e3}function PO(e){const{duration:t,entryType:n,name:r,startTime:i}=e,s=Ds(i);return{type:n,name:r,start:s,end:s+t,data:void 0}}function OO(e){const{entryType:t,name:n,decodedBodySize:r,duration:i,domComplete:s,encodedBodySize:o,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,domInteractive:c,loadEventStart:d,loadEventEnd:f,redirectCount:h,startTime:p,transferSize:m,type:g}=e;return i===0?null:{type:`${t}.${g}`,start:Ds(p),end:Ds(s),name:n,data:{size:m,decodedBodySize:r,encodedBodySize:o,duration:i,domInteractive:c,domContentLoadedEventStart:a,domContentLoadedEventEnd:l,loadEventStart:d,loadEventEnd:f,domComplete:s,redirectCount:h}}}function NO(e){const{entryType:t,initiatorType:n,name:r,responseEnd:i,startTime:s,decodedBodySize:o,encodedBodySize:a,responseStatus:l,transferSize:c}=e;return["fetch","xmlhttprequest"].includes(n)?null:{type:`${t}.${n}`,start:Ds(s),end:Ds(i),name:r,data:{size:c,statusCode:l,decodedBodySize:o,encodedBodySize:a}}}function LO(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.element?[t.element]:void 0;return jm(e,"largest-contentful-paint",n)}function zO(e){return e.sources!==void 0}function FO(e){const t=[],n=[];for(const r of e.entries)if(zO(r)){const i=[];for(const s of r.sources)if(s.node){n.push(s.node);const o=Wn.mirror.getId(s.node);o&&i.push(o)}t.push({value:r.value,nodeIds:i.length?i:void 0})}return jm(e,"cumulative-layout-shift",n,t)}function BO(e){const t=e.entries[e.entries.length-1],n=t!=null&&t.target?[t.target]:void 0;return jm(e,"interaction-to-next-paint",n)}function jm(e,t,n,r){const i=e.value,s=e.rating,o=Ds(i);return{type:"web-vital",name:t,start:o,end:o,data:{value:i,size:i,rating:s,nodeIds:n?n.map(a=>Wn.mirror.getId(a)):void 0,attributions:r}}}function $O(e){function t(i){e.performanceEntries.includes(i)||e.performanceEntries.push(i)}function n({entries:i}){i.forEach(t)}const r=[];return["navigation","paint","resource"].forEach(i=>{r.push(_i(i,n))}),r.push(xm(Gd(LO,e)),_m(Gd(FO,e)),kw(Gd(BO,e))),()=>{r.forEach(i=>i())}}const Y=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,WO='var t=Uint8Array,n=Uint16Array,r=Int32Array,e=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),i=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),s=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(t,e){for(var i=new n(31),s=0;s<31;++s)i[s]=e+=1<<t[s-1];var a=new r(i[30]);for(s=1;s<30;++s)for(var o=i[s];o<i[s+1];++o)a[o]=o-i[s]<<5|s;return{b:i,r:a}},o=a(e,2),h=o.b,f=o.r;h[28]=258,f[258]=28;for(var l=a(i,0).r,u=new n(32768),c=0;c<32768;++c){var v=(43690&c)>>1|(21845&c)<<1;v=(61680&(v=(52428&v)>>2|(13107&v)<<2))>>4|(3855&v)<<4,u[c]=((65280&v)>>8|(255&v)<<8)>>1}var d=function(t,r,e){for(var i=t.length,s=0,a=new n(r);s<i;++s)t[s]&&++a[t[s]-1];var o,h=new n(r);for(s=1;s<r;++s)h[s]=h[s-1]+a[s-1]<<1;if(e){o=new n(1<<r);var f=15-r;for(s=0;s<i;++s)if(t[s])for(var l=s<<4|t[s],c=r-t[s],v=h[t[s]-1]++<<c,d=v|(1<<c)-1;v<=d;++v)o[u[v]>>f]=l}else for(o=new n(i),s=0;s<i;++s)t[s]&&(o[s]=u[h[t[s]-1]++]>>15-t[s]);return o},p=new t(288);for(c=0;c<144;++c)p[c]=8;for(c=144;c<256;++c)p[c]=9;for(c=256;c<280;++c)p[c]=7;for(c=280;c<288;++c)p[c]=8;var g=new t(32);for(c=0;c<32;++c)g[c]=5;var w=d(p,9,0),y=d(g,5,0),m=function(t){return(t+7)/8|0},b=function(n,r,e){return(null==e||e>n.length)&&(e=n.length),new t(n.subarray(r,e))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],E=function(t,n,r){var e=new Error(n||M[t]);if(e.code=t,Error.captureStackTrace&&Error.captureStackTrace(e,E),!r)throw e;return e},z=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8},_=function(t,n,r){r<<=7&n;var e=n/8|0;t[e]|=r,t[e+1]|=r>>8,t[e+2]|=r>>16},x=function(r,e){for(var i=[],s=0;s<r.length;++s)r[s]&&i.push({s:s,f:r[s]});var a=i.length,o=i.slice();if(!a)return{t:F,l:0};if(1==a){var h=new t(i[0].s+1);return h[i[0].s]=1,{t:h,l:1}}i.sort(function(t,n){return t.f-n.f}),i.push({s:-1,f:25001});var f=i[0],l=i[1],u=0,c=1,v=2;for(i[0]={s:-1,f:f.f+l.f,l:f,r:l};c!=a-1;)f=i[i[u].f<i[v].f?u++:v++],l=i[u!=c&&i[u].f<i[v].f?u++:v++],i[c++]={s:-1,f:f.f+l.f,l:f,r:l};var d=o[0].s;for(s=1;s<a;++s)o[s].s>d&&(d=o[s].s);var p=new n(d+1),g=A(i[c-1],p,0);if(g>e){s=0;var w=0,y=g-e,m=1<<y;for(o.sort(function(t,n){return p[n.s]-p[t.s]||t.f-n.f});s<a;++s){var b=o[s].s;if(!(p[b]>e))break;w+=m-(1<<g-p[b]),p[b]=e}for(w>>=y;w>0;){var M=o[s].s;p[M]<e?w-=1<<e-p[M]++-1:++s}for(;s>=0&&w;--s){var E=o[s].s;p[E]==e&&(--p[E],++w)}g=e}return{t:new t(p),l:g}},A=function(t,n,r){return-1==t.s?Math.max(A(t.l,n,r+1),A(t.r,n,r+1)):n[t.s]=r},D=function(t){for(var r=t.length;r&&!t[--r];);for(var e=new n(++r),i=0,s=t[0],a=1,o=function(t){e[i++]=t},h=1;h<=r;++h)if(t[h]==s&&h!=r)++a;else{if(!s&&a>2){for(;a>138;a-=138)o(32754);a>2&&(o(a>10?a-11<<5|28690:a-3<<5|12305),a=0)}else if(a>3){for(o(s),--a;a>6;a-=6)o(8304);a>2&&(o(a-3<<5|8208),a=0)}for(;a--;)o(s);a=1,s=t[h]}return{c:e.subarray(0,i),n:r}},T=function(t,n){for(var r=0,e=0;e<n.length;++e)r+=t[e]*n[e];return r},k=function(t,n,r){var e=r.length,i=m(n+2);t[i]=255&e,t[i+1]=e>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var s=0;s<e;++s)t[i+s+4]=r[s];return 8*(i+4+e)},U=function(t,r,a,o,h,f,l,u,c,v,m){z(r,m++,a),++h[256];for(var b=x(h,15),M=b.t,E=b.l,A=x(f,15),U=A.t,C=A.l,F=D(M),I=F.c,S=F.n,L=D(U),O=L.c,j=L.n,q=new n(19),B=0;B<I.length;++B)++q[31&I[B]];for(B=0;B<O.length;++B)++q[31&O[B]];for(var G=x(q,7),H=G.t,J=G.l,K=19;K>4&&!H[s[K-1]];--K);var N,P,Q,R,V=v+5<<3,W=T(h,p)+T(f,g)+l,X=T(h,M)+T(f,U)+l+14+3*K+T(q,H)+2*q[16]+3*q[17]+7*q[18];if(c>=0&&V<=W&&V<=X)return k(r,m,t.subarray(c,c+v));if(z(r,m,1+(X<W)),m+=2,X<W){N=d(M,E,0),P=M,Q=d(U,C,0),R=U;var Y=d(H,J,0);z(r,m,S-257),z(r,m+5,j-1),z(r,m+10,K-4),m+=14;for(B=0;B<K;++B)z(r,m+3*B,H[s[B]]);m+=3*K;for(var Z=[I,O],$=0;$<2;++$){var tt=Z[$];for(B=0;B<tt.length;++B){var nt=31&tt[B];z(r,m,Y[nt]),m+=H[nt],nt>15&&(z(r,m,tt[B]>>5&127),m+=tt[B]>>12)}}}else N=w,P=p,Q=y,R=g;for(B=0;B<u;++B){var rt=o[B];if(rt>255){_(r,m,N[(nt=rt>>18&31)+257]),m+=P[nt+257],nt>7&&(z(r,m,rt>>23&31),m+=e[nt]);var et=31&rt;_(r,m,Q[et]),m+=R[et],et>3&&(_(r,m,rt>>5&8191),m+=i[et])}else _(r,m,N[rt]),m+=P[rt]}return _(r,m,N[256]),m+P[256]},C=new r([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new t(0),I=function(){for(var t=new Int32Array(256),n=0;n<256;++n){for(var r=n,e=9;--e;)r=(1&r&&-306674912)^r>>>1;t[n]=r}return t}(),S=function(){var t=1,n=0;return{p:function(r){for(var e=t,i=n,s=0|r.length,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=e+=r[a];e=(65535&e)+15*(e>>16),i=(65535&i)+15*(i>>16)}t=e,n=i},d:function(){return(255&(t%=65521))<<24|(65280&t)<<8|(255&(n%=65521))<<8|n>>8}}},L=function(s,a,o,h,u){if(!u&&(u={l:1},a.dictionary)){var c=a.dictionary.subarray(-32768),v=new t(c.length+s.length);v.set(c),v.set(s,c.length),s=v,u.w=c.length}return function(s,a,o,h,u,c){var v=c.z||s.length,d=new t(h+v+5*(1+Math.ceil(v/7e3))+u),p=d.subarray(h,d.length-u),g=c.l,w=7&(c.r||0);if(a){w&&(p[0]=c.r>>3);for(var y=C[a-1],M=y>>13,E=8191&y,z=(1<<o)-1,_=c.p||new n(32768),x=c.h||new n(z+1),A=Math.ceil(o/3),D=2*A,T=function(t){return(s[t]^s[t+1]<<A^s[t+2]<<D)&z},F=new r(25e3),I=new n(288),S=new n(32),L=0,O=0,j=c.i||0,q=0,B=c.w||0,G=0;j+2<v;++j){var H=T(j),J=32767&j,K=x[H];if(_[J]=K,x[H]=J,B<=j){var N=v-j;if((L>7e3||q>24576)&&(N>423||!g)){w=U(s,p,0,F,I,S,O,q,G,j-G,w),q=L=O=0,G=j;for(var P=0;P<286;++P)I[P]=0;for(P=0;P<30;++P)S[P]=0}var Q=2,R=0,V=E,W=J-K&32767;if(N>2&&H==T(j-W))for(var X=Math.min(M,N)-1,Y=Math.min(32767,j),Z=Math.min(258,N);W<=Y&&--V&&J!=K;){if(s[j+Q]==s[j+Q-W]){for(var $=0;$<Z&&s[j+$]==s[j+$-W];++$);if($>Q){if(Q=$,R=W,$>X)break;var tt=Math.min(W,$-2),nt=0;for(P=0;P<tt;++P){var rt=j-W+P&32767,et=rt-_[rt]&32767;et>nt&&(nt=et,K=rt)}}}W+=(J=K)-(K=_[J])&32767}if(R){F[q++]=268435456|f[Q]<<18|l[R];var it=31&f[Q],st=31&l[R];O+=e[it]+i[st],++I[257+it],++S[st],B=j+Q,++L}else F[q++]=s[j],++I[s[j]]}}for(j=Math.max(j,B);j<v;++j)F[q++]=s[j],++I[s[j]];w=U(s,p,g,F,I,S,O,q,G,j-G,w),g||(c.r=7&w|p[w/8|0]<<3,w-=7,c.h=x,c.p=_,c.i=j,c.w=B)}else{for(j=c.w||0;j<v+g;j+=65535){var at=j+65535;at>=v&&(p[w/8|0]=g,at=v),w=k(p,w+1,s.subarray(j,at))}c.i=v}return b(d,0,h+m(w)+u)}(s,null==a.level?6:a.level,null==a.mem?u.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(s.length)))):20:12+a.mem,o,h,u)},O=function(t,n,r){for(;r;++n)t[n]=r,r>>>=8},j=function(){function n(n,r){if("function"==typeof n&&(r=n,n={}),this.ondata=r,this.o=n||{},this.s={l:0,i:32768,w:32768,z:32768},this.b=new t(98304),this.o.dictionary){var e=this.o.dictionary.subarray(-32768);this.b.set(e,32768-e.length),this.s.i=32768-e.length}}return n.prototype.p=function(t,n){this.ondata(L(t,this.o,0,0,this.s),n)},n.prototype.push=function(n,r){this.ondata||E(5),this.s.l&&E(4);var e=n.length+this.s.z;if(e>this.b.length){if(e>2*this.b.length-32768){var i=new t(-32768&e);i.set(this.b.subarray(0,this.s.z)),this.b=i}var s=this.b.length-this.s.z;this.b.set(n.subarray(0,s),this.s.z),this.s.z=this.b.length,this.p(this.b,!1),this.b.set(this.b.subarray(-32768)),this.b.set(n.subarray(s),32768),this.s.z=n.length-s+32768,this.s.i=32766,this.s.w=32768}else this.b.set(n,this.s.z),this.s.z+=n.length;this.s.l=1&r,(this.s.z>this.s.w+8191||r)&&(this.p(this.b,r||!1),this.s.w=this.s.i,this.s.i-=2)},n.prototype.flush=function(){this.ondata||E(5),this.s.l&&E(4),this.p(this.b,!1),this.s.w=this.s.i,this.s.i-=2},n}();function q(t,n){n||(n={});var r=function(){var t=-1;return{p:function(n){for(var r=t,e=0;e<n.length;++e)r=I[255&r^n[e]]^r>>>8;t=r},d:function(){return~t}}}(),e=t.length;r.p(t);var i,s=L(t,n,10+((i=n).filename?i.filename.length+1:0),8),a=s.length;return function(t,n){var r=n.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=n.level<2?4:9==n.level?2:0,t[9]=3,0!=n.mtime&&O(t,4,Math.floor(new Date(n.mtime||Date.now())/1e3)),r){t[3]=8;for(var e=0;e<=r.length;++e)t[e+10]=r.charCodeAt(e)}}(s,n),O(s,a-8,r.d()),O(s,a-4,e),s}var B=function(){function t(t,n){this.c=S(),this.v=1,j.call(this,t,n)}return t.prototype.push=function(t,n){this.c.p(t),j.prototype.push.call(this,t,n)},t.prototype.p=function(t,n){var r=L(t,this.o,this.v&&(this.o.dictionary?6:2),n&&4,this.s);this.v&&(function(t,n){var r=n.level,e=0==r?0:r<6?1:9==r?3:2;if(t[0]=120,t[1]=e<<6|(n.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,n.dictionary){var i=S();i.p(n.dictionary),O(t,2,i.d())}}(r,this.o),this.v=0),n&&O(r,r.length-4,this.c.d()),this.ondata(r,n)},t.prototype.flush=function(){j.prototype.flush.call(this)},t}(),G="undefined"!=typeof TextEncoder&&new TextEncoder,H="undefined"!=typeof TextDecoder&&new TextDecoder;try{H.decode(F,{stream:!0})}catch(t){}var J=function(){function t(t){this.ondata=t}return t.prototype.push=function(t,n){this.ondata||E(5),this.d&&E(4),this.ondata(K(t),this.d=n||!1)},t}();function K(n,r){if(G)return G.encode(n);for(var e=n.length,i=new t(n.length+(n.length>>1)),s=0,a=function(t){i[s++]=t},o=0;o<e;++o){if(s+5>i.length){var h=new t(s+8+(e-o<<1));h.set(i),i=h}var f=n.charCodeAt(o);f<128||r?a(f):f<2048?(a(192|f>>6),a(128|63&f)):f>55295&&f<57344?(a(240|(f=65536+(1047552&f)|1023&n.charCodeAt(++o))>>18),a(128|f>>12&63),a(128|f>>6&63),a(128|63&f)):(a(224|f>>12),a(128|f>>6&63),a(128|63&f))}return b(i,0,s)}const N=new class{constructor(){this._init()}clear(){this._init()}addEvent(t){if(!t)throw new Error("Adding invalid event");const n=this._hasEvents?",":"";this.stream.push(n+t),this._hasEvents=!0}finish(){this.stream.push("]",!0);const t=function(t){let n=0;for(const r of t)n+=r.length;const r=new Uint8Array(n);for(let n=0,e=0,i=t.length;n<i;n++){const i=t[n];r.set(i,e),e+=i.length}return r}(this._deflatedData);return this._init(),t}_init(){this._hasEvents=!1,this._deflatedData=[],this.deflate=new B,this.deflate.ondata=(t,n)=>{this._deflatedData.push(t)},this.stream=new J((t,n)=>{this.deflate.push(t,n)}),this.stream.push("[")}},P={clear:()=>{N.clear()},addEvent:t=>N.addEvent(t),finish:()=>N.finish(),compress:t=>function(t){return q(K(t))}(t)};addEventListener("message",function(t){const n=t.data.method,r=t.data.id,e=t.data.arg;if(n in P&&"function"==typeof P[n])try{const t=P[n](e);postMessage({id:r,method:n,success:!0,response:t})}catch(t){postMessage({id:r,method:n,success:!1,response:t.message}),console.error(t)}}),postMessage({id:void 0,method:"init",success:!0,response:void 0});';function UO(){const e=new Blob([WO]);return URL.createObjectURL(e)}const Wv=["log","warn","error"],lc="[Replay] ";function Kd(e,t="info"){Lt({category:"console",data:{logger:"replay"},level:t,message:`${lc}${e}`},{level:t})}function HO(){let e=!1,t=!1;const n={exception:()=>{},infoTick:()=>{},setConfig:r=>{e=!!r.captureExceptions,t=!!r.traceInternals}};return Y?(Wv.forEach(r=>{n[r]=(...i)=>{N[r](lc,...i),t&&Kd(i.join(""),lw(r))}}),n.exception=(r,...i)=>{i.length&&n.error&&n.error(...i),N.error(lc,r),e?Cs(r):t&&Kd(r,"error")},n.infoTick=(...r)=>{N.log(lc,...r),t&&setTimeout(()=>Kd(r[0]),0)}):Wv.forEach(r=>{n[r]=()=>{}}),n}const q=HO();class Am extends Error{constructor(){super(`Event buffer exceeded maximum size of ${km}.`)}}class uk{constructor(){this.events=[],this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return this.events.length>0}get type(){return"sync"}destroy(){this.events=[]}async addEvent(t){const n=JSON.stringify(t).length;if(this._totalSize+=n,this._totalSize>km)throw new Am;this.events.push(t)}finish(){return new Promise(t=>{const n=this.events;this.clear(),t(JSON.stringify(n))})}clear(){this.events=[],this._totalSize=0,this.hasCheckout=!1}getEarliestTimestamp(){const t=this.events.map(n=>n.timestamp).sort()[0];return t?Mm(t):null}}class VO{constructor(t){this._worker=t,this._id=0}ensureReady(){return this._ensureReadyPromise?this._ensureReadyPromise:(this._ensureReadyPromise=new Promise((t,n)=>{this._worker.addEventListener("message",({data:r})=>{r.success?t():n()},{once:!0}),this._worker.addEventListener("error",r=>{n(r)},{once:!0})}),this._ensureReadyPromise)}destroy(){Y&&q.log("Destroying compression worker"),this._worker.terminate()}postMessage(t,n){const r=this._getAndIncrementId();return new Promise((i,s)=>{const o=({data:a})=>{const l=a;if(l.method===t&&l.id===r){if(this._worker.removeEventListener("message",o),!l.success){Y&&q.error("Error in compression worker: ",l.response),s(new Error("Error in compression worker"));return}i(l.response)}};this._worker.addEventListener("message",o),this._worker.postMessage({id:r,method:t,arg:n})})}_getAndIncrementId(){return this._id++}}class ZO{constructor(t){this._worker=new VO(t),this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this.waitForCheckout=!1}get hasEvents(){return!!this._earliestTimestamp}get type(){return"worker"}ensureReady(){return this._worker.ensureReady()}destroy(){this._worker.destroy()}addEvent(t){const n=Mm(t.timestamp);(!this._earliestTimestamp||n<this._earliestTimestamp)&&(this._earliestTimestamp=n);const r=JSON.stringify(t);return this._totalSize+=r.length,this._totalSize>km?Promise.reject(new Am):this._sendEventToWorker(r)}finish(){return this._finishRequest()}clear(){this._earliestTimestamp=null,this._totalSize=0,this.hasCheckout=!1,this._worker.postMessage("clear").then(null,t=>{Y&&q.exception(t,'Sending "clear" message to worker failed',t)})}getEarliestTimestamp(){return this._earliestTimestamp}_sendEventToWorker(t){return this._worker.postMessage("addEvent",t)}async _finishRequest(){const t=await this._worker.postMessage("finish");return this._earliestTimestamp=null,this._totalSize=0,t}}class YO{constructor(t){this._fallback=new uk,this._compression=new ZO(t),this._used=this._fallback,this._ensureWorkerIsLoadedPromise=this._ensureWorkerIsLoaded()}get waitForCheckout(){return this._used.waitForCheckout}get type(){return this._used.type}get hasEvents(){return this._used.hasEvents}get hasCheckout(){return this._used.hasCheckout}set hasCheckout(t){this._used.hasCheckout=t}set waitForCheckout(t){this._used.waitForCheckout=t}destroy(){this._fallback.destroy(),this._compression.destroy()}clear(){return this._used.clear()}getEarliestTimestamp(){return this._used.getEarliestTimestamp()}addEvent(t){return this._used.addEvent(t)}async finish(){return await this.ensureWorkerIsLoaded(),this._used.finish()}ensureWorkerIsLoaded(){return this._ensureWorkerIsLoadedPromise}async _ensureWorkerIsLoaded(){try{await this._compression.ensureReady()}catch(t){Y&&q.exception(t,"Failed to load the compression worker, falling back to simple buffer");return}await this._switchToCompressionWorker()}async _switchToCompressionWorker(){const{events:t,hasCheckout:n,waitForCheckout:r}=this._fallback,i=[];for(const s of t)i.push(this._compression.addEvent(s));this._compression.hasCheckout=n,this._compression.waitForCheckout=r,this._used=this._compression;try{await Promise.all(i),this._fallback.clear()}catch(s){Y&&q.exception(s,"Failed to add events when switching buffers.")}}}function qO({useCompression:e,workerUrl:t}){if(e&&window.Worker){const n=GO(t);if(n)return n}return Y&&q.log("Using simple buffer"),new uk}function GO(e){try{const t=e||KO();if(!t)return;Y&&q.log(`Using compression worker${e?` from ${e}`:""}`);const n=new Worker(t);return new YO(n)}catch(t){Y&&q.exception(t,"Failed to create compression worker")}}function KO(){return typeof __SENTRY_EXCLUDE_REPLAY_WORKER__>"u"||!__SENTRY_EXCLUDE_REPLAY_WORKER__?UO():""}function Pm(){try{return"sessionStorage"in ve&&!!ve.sessionStorage}catch{return!1}}function XO(e){JO(),e.session=void 0}function JO(){if(Pm())try{ve.sessionStorage.removeItem(bm)}catch{}}function dk(e){return e===void 0?!1:Math.random()<e}function Om(e){if(Pm())try{ve.sessionStorage.setItem(bm,JSON.stringify(e))}catch{}}function fk(e){const t=Date.now(),n=e.id||Pt(),r=e.started||t,i=e.lastActivity||t,s=e.segmentId||0,o=e.sampled,a=e.previousSessionId;return{id:n,started:r,lastActivity:i,segmentId:s,sampled:o,previousSessionId:a}}function QO(e,t){return dk(e)?"session":t?"buffer":!1}function Uv({sessionSampleRate:e,allowBuffering:t,stickySession:n=!1},{previousSessionId:r}={}){const i=QO(e,t),s=fk({sampled:i,previousSessionId:r});return n&&Om(s),s}function eN(){if(!Pm())return null;try{const e=ve.sessionStorage.getItem(bm);if(!e)return null;const t=JSON.parse(e);return Y&&q.infoTick("Loading existing session"),fk(t)}catch{return null}}function Nh(e,t,n=+new Date){return e===null||t===void 0||t<0?!0:t===0?!1:e+t<=n}function hk(e,{maxReplayDuration:t,sessionIdleExpire:n,targetTime:r=Date.now()}){return Nh(e.started,t,r)||Nh(e.lastActivity,n,r)}function pk(e,{sessionIdleExpire:t,maxReplayDuration:n}){return!(!hk(e,{sessionIdleExpire:t,maxReplayDuration:n})||e.sampled==="buffer"&&e.segmentId===0)}function Xd({sessionIdleExpire:e,maxReplayDuration:t,previousSessionId:n},r){const i=r.stickySession&&eN();return i?pk(i,{sessionIdleExpire:e,maxReplayDuration:t})?(Y&&q.infoTick("Session in sessionStorage is expired, creating new one..."),Uv(r,{previousSessionId:i.id})):i:(Y&&q.infoTick("Creating new session"),Uv(r,{previousSessionId:n}))}function tN(e){return e.type===J.Custom}function Nm(e,t,n){return gk(e,t)?(mk(e,t,n),!0):!1}function nN(e,t,n){return gk(e,t)?mk(e,t,n):Promise.resolve(null)}async function mk(e,t,n){const{eventBuffer:r}=e;if(!r||r.waitForCheckout&&!n)return null;const i=e.recordingMode==="buffer";try{n&&i&&r.clear(),n&&(r.hasCheckout=!0,r.waitForCheckout=!1);const s=e.getOptions(),o=rN(t,s.beforeAddRecordingEvent);return o?await r.addEvent(o):void 0}catch(s){const o=s&&s instanceof Am,a=o?"addEventSizeExceeded":"addEvent";if(o&&i)return r.clear(),r.waitForCheckout=!0,null;e.handleException(s),await e.stop({reason:a});const l=te();l&&l.recordDroppedEvent("internal_sdk_error","replay")}}function gk(e,t){if(!e.eventBuffer||e.isPaused()||!e.isEnabled())return!1;const n=Mm(t.timestamp);return n+e.timeouts.sessionIdlePause<Date.now()?!1:n>e.getContext().initialTimestamp+e.getOptions().maxReplayDuration?(Y&&q.infoTick(`Skipping event with timestamp ${n} because it is after maxReplayDuration`),!1):!0}function rN(e,t){try{if(typeof t=="function"&&tN(e))return t(e)}catch(n){return Y&&q.exception(n,"An error occurred in the `beforeAddRecordingEvent` callback, skipping the event..."),null}return e}function Lm(e){return!e.type}function Lh(e){return e.type==="transaction"}function iN(e){return e.type==="replay_event"}function Hv(e){return e.type==="feedback"}function sN(e){return(t,n)=>{if(!e.isEnabled()||!Lm(t)&&!Lh(t))return;const r=n==null?void 0:n.statusCode;if(!(!r||r<200||r>=300)){if(Lh(t)){oN(e,t);return}aN(e,t)}}}function oN(e,t){var r,i;const n=e.getContext();(i=(r=t.contexts)==null?void 0:r.trace)!=null&&i.trace_id&&n.traceIds.size<100&&n.traceIds.add(t.contexts.trace.trace_id)}function aN(e,t){const n=e.getContext();if(t.event_id&&n.errorIds.size<100&&n.errorIds.add(t.event_id),e.recordingMode!=="buffer"||!t.tags||!t.tags.replayId)return;const{beforeErrorSampling:r}=e.getOptions();typeof r=="function"&&!r(t)||Fa(async()=>{try{await e.sendBufferedReplayOrFlush()}catch(i){e.handleException(i)}})}function lN(e){return t=>{!e.isEnabled()||!Lm(t)||cN(e,t)}}function cN(e,t){var r,i,s;const n=(s=(i=(r=t.exception)==null?void 0:r.values)==null?void 0:i[0])==null?void 0:s.value;if(typeof n=="string"&&(n.match(/(reactjs\.org\/docs\/error-decoder\.html\?invariant=|react\.dev\/errors\/)(418|419|422|423|425)/)||n.match(/(does not match server-rendered HTML|Hydration failed because)/i))){const o=kn({category:"replay.hydrate-error",data:{url:zs()}});$a(e,o)}}function uN(e){const t=te();t&&t.on("beforeAddBreadcrumb",n=>dN(e,n))}function dN(e,t){if(!e.isEnabled()||!yk(t))return;const n=fN(t);n&&$a(e,n)}function fN(e){return!yk(e)||["fetch","xhr","sentry.event","sentry.transaction"].includes(e.category)||e.category.startsWith("ui.")?null:e.category==="console"?hN(e):kn(e)}function hN(e){var i;const t=(i=e.data)==null?void 0:i.arguments;if(!Array.isArray(t)||t.length===0)return kn(e);let n=!1;const r=t.map(s=>{if(!s)return s;if(typeof s=="string")return s.length>yl?(n=!0,`${s.slice(0,yl)}…`):s;if(typeof s=="object")try{const o=ln(s,7);return JSON.stringify(o).length>yl?(n=!0,`${JSON.stringify(o,null,2).slice(0,yl)}…`):o}catch{}return s});return kn({...e,data:{...e.data,arguments:r,...n?{_meta:{warnings:["CONSOLE_ARG_TRUNCATED"]}}:{}}})}function yk(e){return!!e.category}function pN(e,t){var n,r,i;return e.type||!((r=(n=e.exception)==null?void 0:n.values)!=null&&r.length)?!1:!!((i=t.originalException)!=null&&i.__rrweb__)}function vk(){const e=ue().getPropagationContext().dsc;e&&delete e.replay_id;const t=mt();if(t){const n=Kn(t);delete n.replay_id}}function mN(e,t){e.triggerUserActivity(),e.addUpdate(()=>t.timestamp?(e.throttledAddEvent({type:J.Custom,timestamp:t.timestamp*1e3,data:{tag:"breadcrumb",payload:{timestamp:t.timestamp,type:"default",category:"sentry.feedback",data:{feedbackId:t.event_id}}}}),!1):!0)}function gN(e,t){return e.recordingMode!=="buffer"||t.message===wm||!t.exception||t.type?!1:dk(e.getOptions().errorSampleRate)}function yN(e){return Object.assign((t,n)=>!e.isEnabled()||e.isPaused()?t:iN(t)?(delete t.breadcrumbs,t):!Lm(t)&&!Lh(t)&&!Hv(t)?t:e.checkAndHandleExpiredSession()?Hv(t)?(e.flush(),t.contexts.feedback.replay_id=e.getSessionId(),mN(e,t),t):pN(t,n)&&!e.getOptions()._experiments.captureExceptions?(Y&&q.log("Ignoring error from rrweb internals",t),null):((gN(e,t)||e.recordingMode==="session")&&(t.tags={...t.tags,replayId:e.getSessionId()}),t):(vk(),t),{id:"Replay"})}function Uu(e,t){return t.map(({type:n,start:r,end:i,name:s,data:o})=>{const a=e.throttledAddEvent({type:J.Custom,timestamp:r,data:{tag:"performanceSpan",payload:{op:n,description:s,startTimestamp:r,endTimestamp:i,data:o}}});return typeof a=="string"?Promise.resolve(null):a})}function vN(e){const{from:t,to:n}=e,r=Date.now()/1e3;return{type:"navigation.push",start:r,end:r,name:n,data:{previous:t}}}function _N(e){return t=>{if(!e.isEnabled())return;const n=vN(t);n!==null&&(e.getContext().urls.push(n.name),e.triggerUserActivity(),e.addUpdate(()=>(Uu(e,[n]),!1)))}}function xN(e,t){return Y&&e.getOptions()._experiments.traceInternals?!1:mM(t,te())}function _k(e,t){e.isEnabled()&&t!==null&&(xN(e,t.name)||e.addUpdate(()=>(Uu(e,[t]),!0)))}function Hu(e){if(!e)return;const t=new TextEncoder;try{if(typeof e=="string")return t.encode(e).length;if(e instanceof URLSearchParams)return t.encode(e.toString()).length;if(e instanceof FormData){const n=Aw(e);return t.encode(n).length}if(e instanceof Blob)return e.size;if(e instanceof ArrayBuffer)return e.byteLength}catch{}}function xk(e){if(!e)return;const t=parseInt(e,10);return isNaN(t)?void 0:t}function ru(e,t){if(!e)return{headers:{},size:void 0,_meta:{warnings:[t]}};const n={...e._meta},r=n.warnings||[];return n.warnings=[...r,t],e._meta=n,e}function Sk(e,t){if(!t)return null;const{startTimestamp:n,endTimestamp:r,url:i,method:s,statusCode:o,request:a,response:l}=t;return{type:e,start:n/1e3,end:r/1e3,name:i,data:{method:s,statusCode:o,request:a,response:l}}}function da(e){return{headers:{},size:e,_meta:{warnings:["URL_SKIPPED"]}}}function wr(e,t,n){if(!t&&Object.keys(e).length===0)return;if(!t)return{headers:e};if(!n)return{headers:e,size:t};const r={headers:e,size:t},{body:i,warnings:s}=SN(n);return r.body=i,s!=null&&s.length&&(r._meta={warnings:s}),r}function zh(e,t){return Object.entries(e).reduce((n,[r,i])=>{const s=r.toLowerCase();return t.includes(s)&&e[r]&&(n[s]=i),n},{})}function SN(e){if(!e||typeof e!="string")return{body:e};const t=e.length>kv,n=bN(e);if(t){const r=e.slice(0,kv);return n?{body:r,warnings:["MAYBE_JSON_TRUNCATED"]}:{body:`${r}…`,warnings:["TEXT_TRUNCATED"]}}if(n)try{return{body:JSON.parse(e)}}catch{}return{body:e}}function bN(e){const t=e[0],n=e[e.length-1];return t==="["&&n==="]"||t==="{"&&n==="}"}function iu(e,t){const n=wN(e);return $n(n,t)}function wN(e,t=ve.document.baseURI){if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith(ve.location.origin))return e;const n=new URL(e,t);if(n.origin!==new URL(t).origin)return e;const r=n.href;return!e.endsWith("/")&&r.endsWith("/")?r.slice(0,-1):r}async function kN(e,t,n){try{const r=await CN(e,t,n),i=Sk("resource.fetch",r);_k(n.replay,i)}catch(r){Y&&q.exception(r,"Failed to capture fetch breadcrumb")}}function EN(e,t){const{input:n,response:r}=t,i=n?Ow(n):void 0,s=Hu(i),o=r?xk(r.headers.get("content-length")):void 0;s!==void 0&&(e.data.request_body_size=s),o!==void 0&&(e.data.response_body_size=o)}async function CN(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r}=t,{url:o,method:a,status_code:l=0,request_body_size:c,response_body_size:d}=e.data,f=iu(o,n.networkDetailAllowUrls)&&!iu(o,n.networkDetailDenyUrls),h=f?TN(n,t.input,c):da(c),p=await IN(f,n,t.response,d);return{startTimestamp:i,endTimestamp:s,url:o,method:a,statusCode:l,request:h,response:p}}function TN({networkCaptureBodies:e,networkRequestHeaders:t},n,r){const i=n?DN(n,t):{};if(!e)return wr(i,r,void 0);const s=Ow(n),[o,a]=Pw(s,q),l=wr(i,r,o);return a?ru(l,a):l}async function IN(e,{networkCaptureBodies:t,networkResponseHeaders:n},r,i){if(!e&&i!==void 0)return da(i);const s=r?bk(r.headers,n):{};if(!r||!t&&i!==void 0)return wr(s,i,void 0);const[o,a]=await MN(r),l=RN(o,{networkCaptureBodies:t,responseBodySize:i,captureDetails:e,headers:s});return a?ru(l,a):l}function RN(e,{networkCaptureBodies:t,responseBodySize:n,captureDetails:r,headers:i}){try{const s=e!=null&&e.length&&n===void 0?Hu(e):n;return r?t?wr(i,s,e):wr(i,s,void 0):da(s)}catch(s){return Y&&q.exception(s,"Failed to serialize response body"),wr(i,n,void 0)}}async function MN(e){const t=jN(e);if(!t)return[void 0,"BODY_PARSE_ERROR"];try{return[await AN(t)]}catch(n){return n instanceof Error&&n.message.indexOf("Timeout")>-1?(Y&&q.warn("Parsing text body from response timed out"),[void 0,"BODY_PARSE_TIMEOUT"]):(Y&&q.exception(n,"Failed to get text body from response"),[void 0,"BODY_PARSE_ERROR"])}}function bk(e,t){const n={};return t.forEach(r=>{e.get(r)&&(n[r]=e.get(r))}),n}function DN(e,t){return e.length===1&&typeof e[0]!="string"?Vv(e[0],t):e.length===2?Vv(e[1],t):{}}function Vv(e,t){if(!e)return{};const n=e.headers;return n?n instanceof Headers?bk(n,t):Array.isArray(n)?{}:zh(n,t):{}}function jN(e){try{return e.clone()}catch(t){Y&&q.exception(t,"Failed to clone response body")}}function AN(e){return new Promise((t,n)=>{const r=Fa(()=>n(new Error("Timeout while trying to read response body")),500);PN(e).then(i=>t(i),i=>n(i)).finally(()=>clearTimeout(r))})}async function PN(e){return await e.text()}async function ON(e,t,n){try{const r=LN(e,t,n),i=Sk("resource.xhr",r);_k(n.replay,i)}catch(r){Y&&q.exception(r,"Failed to capture xhr breadcrumb")}}function NN(e,t){const{xhr:n,input:r}=t;if(!n)return;const i=Hu(r),s=n.getResponseHeader("content-length")?xk(n.getResponseHeader("content-length")):$N(n.response,n.responseType);i!==void 0&&(e.data.request_body_size=i),s!==void 0&&(e.data.response_body_size=s)}function LN(e,t,n){const r=Date.now(),{startTimestamp:i=r,endTimestamp:s=r,input:o,xhr:a}=t,{url:l,method:c,status_code:d=0,request_body_size:f,response_body_size:h}=e.data;if(!l)return null;if(!a||!iu(l,n.networkDetailAllowUrls)||iu(l,n.networkDetailDenyUrls)){const k=da(f),w=da(h);return{startTimestamp:i,endTimestamp:s,url:l,method:c,statusCode:d,request:k,response:w}}const p=a[Qr],m=p?zh(p.request_headers,n.networkRequestHeaders):{},g=zh(zN(a),n.networkResponseHeaders),[_,y]=n.networkCaptureBodies?Pw(o,q):[void 0],[v,x]=n.networkCaptureBodies?FN(a):[void 0],S=wr(m,f,_),b=wr(g,h,v);return{startTimestamp:i,endTimestamp:s,url:l,method:c,statusCode:d,request:y?ru(S,y):S,response:x?ru(b,x):b}}function zN(e){const t=e.getAllResponseHeaders();return t?t.split(`\r
`).reduce((n,r)=>{const[i,s]=r.split(": ");return s&&(n[i.toLowerCase()]=s),n},{}):{}}function FN(e){const t=[];try{return[e.responseText]}catch(n){t.push(n)}try{return BN(e.response,e.responseType)}catch(n){t.push(n)}return Y&&q.warn("Failed to get xhr response body",...t),[void 0]}function BN(e,t){try{if(typeof e=="string")return[e];if(e instanceof Document)return[e.body.outerHTML];if(t==="json"&&e&&typeof e=="object")return[JSON.stringify(e)];if(!e)return[void 0]}catch(n){return Y&&q.exception(n,"Failed to serialize body",e),[void 0,"BODY_PARSE_ERROR"]}return Y&&q.log("Skipping network body because of body type",e),[void 0,"UNPARSEABLE_BODY_TYPE"]}function $N(e,t){try{const n=t==="json"&&e&&typeof e=="object"?JSON.stringify(e):e;return Hu(n)}catch{return}}function WN(e){const t=te();try{const{networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o}=e.getOptions(),a={replay:e,networkDetailAllowUrls:n,networkDetailDenyUrls:r,networkCaptureBodies:i,networkRequestHeaders:s,networkResponseHeaders:o};t&&t.on("beforeAddBreadcrumb",(l,c)=>UN(a,l,c))}catch{}}function UN(e,t,n){if(t.data)try{HN(t)&&ZN(n)&&(NN(t,n),ON(t,n,e)),VN(t)&&YN(n)&&(EN(t,n),kN(t,n,e))}catch(r){Y&&q.exception(r,"Error when enriching network breadcrumb")}}function HN(e){return e.category==="xhr"}function VN(e){return e.category==="fetch"}function ZN(e){return e==null?void 0:e.xhr}function YN(e){return e==null?void 0:e.response}function qN(e){const t=te();Mw(kO(e)),Fu(_N(e)),uN(e),WN(e);const n=yN(e);BR(n),t&&(t.on("beforeSendEvent",lN(e)),t.on("afterSendEvent",sN(e)),t.on("createDsc",r=>{const i=e.getSessionId();i&&e.isEnabled()&&e.recordingMode==="session"&&e.checkAndHandleExpiredSession()&&(r.replay_id=i)}),t.on("spanStart",r=>{e.lastActiveSpan=r}),t.on("spanEnd",r=>{e.lastActiveSpan=r}),t.on("beforeSendFeedback",async(r,i)=>{var o;const s=e.getSessionId();i!=null&&i.includeReplay&&e.isEnabled()&&s&&((o=r.contexts)!=null&&o.feedback)&&(r.contexts.feedback.source==="api"&&await e.sendBufferedReplayOrFlush(),r.contexts.feedback.replay_id=s)}),t.on("openFeedbackWidget",async()=>{await e.sendBufferedReplayOrFlush()}))}async function GN(e){try{return Promise.all(Uu(e,[KN(ve.performance.memory)]))}catch{return[]}}function KN(e){const{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}=e,i=Date.now()/1e3;return{type:"memory",name:"memory",start:i,end:i,data:{memory:{jsHeapSizeLimit:t,totalJSHeapSize:n,usedJSHeapSize:r}}}}function XN(e,t,n){return SM(e,t,{...n,setTimeoutImpl:Fa})}const Wt=le.navigator;function JN(){return/iPhone|iPad|iPod/i.test((Wt==null?void 0:Wt.userAgent)??"")||/Macintosh/i.test((Wt==null?void 0:Wt.userAgent)??"")&&(Wt!=null&&Wt.maxTouchPoints)&&(Wt==null?void 0:Wt.maxTouchPoints)>1?{sampling:{mousemove:!1}}:{}}function QN(e){let t=!1;return(n,r)=>{if(!e.checkAndHandleExpiredSession()){Y&&q.warn("Received replay event after session expired.");return}const i=r||!t;t=!0,e.clickDetector&&_O(e.clickDetector,n),e.addUpdate(()=>{if(e.recordingMode==="buffer"&&i&&e.setInitialState(),!Nm(e,n,i))return!0;if(!i)return!1;const s=e.session;if(tL(e,i),e.recordingMode==="buffer"&&s&&e.eventBuffer){const o=e.eventBuffer.getEarliestTimestamp();o&&(Y&&q.log(`Updating session start time to earliest event in buffer to ${new Date(o)}`),s.started=o,e.getOptions().stickySession&&Om(s))}return s!=null&&s.previousSessionId||e.recordingMode==="session"&&e.flush(),!0})}}function eL(e){const t=e.getOptions();return{type:J.Custom,timestamp:Date.now(),data:{tag:"options",payload:{shouldRecordCanvas:e.isRecordingCanvas(),sessionSampleRate:t.sessionSampleRate,errorSampleRate:t.errorSampleRate,useCompressionOption:t.useCompression,blockAllMedia:t.blockAllMedia,maskAllText:t.maskAllText,maskAllInputs:t.maskAllInputs,useCompression:e.eventBuffer?e.eventBuffer.type==="worker":!1,networkDetailHasUrls:t.networkDetailAllowUrls.length>0,networkCaptureBodies:t.networkCaptureBodies,networkRequestHasHeaders:t.networkRequestHeaders.length>0,networkResponseHasHeaders:t.networkResponseHeaders.length>0}}}}function tL(e,t){!t||!e.session||e.session.segmentId!==0||Nm(e,eL(e),!1)}function nL(e){if(!e)return null;try{return e.nodeType===e.ELEMENT_NODE?e:e.parentElement}catch{return null}}function rL(e,t,n,r){return Mi(Lb(e,sm(e),r,n),[[{type:"replay_event"},e],[{type:"replay_recording",length:typeof t=="string"?new TextEncoder().encode(t).length:t.length},t]])}function iL({recordingData:e,headers:t}){let n;const r=`${JSON.stringify(t)}
`;if(typeof e=="string")n=`${r}${e}`;else{const s=new TextEncoder().encode(r);n=new Uint8Array(s.length+e.length),n.set(s),n.set(e,s.length)}return n}async function sL({client:e,scope:t,replayId:n,event:r}){const i=typeof e._integrations=="object"&&e._integrations!==null&&!Array.isArray(e._integrations)?Object.keys(e._integrations):void 0,s={event_id:n,integrations:i};e.emit("preprocessEvent",r,s);const o=await Ub(e.getOptions(),r,s,t,e,Bt());if(!o)return null;e.emit("postprocessEvent",o,s),o.platform=o.platform||"javascript";const a=e.getSdkMetadata(),{name:l,version:c,settings:d}=(a==null?void 0:a.sdk)||{};return o.sdk={...o.sdk,name:l||"sentry.javascript.unknown",version:c||"0.0.0",settings:d},o}async function oL({recordingData:e,replayId:t,segmentId:n,eventContext:r,timestamp:i,session:s}){const o=iL({recordingData:e,headers:{segment_id:n}}),{urls:a,errorIds:l,traceIds:c,initialTimestamp:d}=r,f=te(),h=ue(),p=f==null?void 0:f.getTransport(),m=f==null?void 0:f.getDsn();if(!f||!p||!m||!s.sampled)return Xn({});const g={type:NA,replay_start_timestamp:d/1e3,timestamp:i/1e3,error_ids:l,trace_ids:c,urls:a,replay_id:t,segment_id:n,replay_type:s.sampled},_=await sL({scope:h,client:f,replayId:t,event:g});if(!_)return f.recordDroppedEvent("event_processor","replay"),Y&&q.log("An event processor returned `null`, will not send event."),Xn({});delete _.sdkProcessingMetadata;const y=rL(_,o,m,f.getOptions().tunnel);let v;try{v=await p.send(y)}catch(S){const b=new Error(wm);try{b.cause=S}catch{}throw b}if(typeof v.statusCode=="number"&&(v.statusCode<200||v.statusCode>=300))throw new wk(v.statusCode);const x=sw({},v);if(iw(x,"replay"))throw new zm(x);return v}class wk extends Error{constructor(t){super(`Transport returned status code ${t}`)}}class zm extends Error{constructor(t){super("Rate limit hit"),this.rateLimits=t}}async function kk(e,t={count:0,interval:WA}){const{recordingData:n,onError:r}=e;if(n.length)try{return await oL(e),!0}catch(i){if(i instanceof wk||i instanceof zm)throw i;if(lm("Replays",{_retryCount:t.count}),r&&r(i),t.count>=UA){const s=new Error(`${wm} - max retries exceeded`);try{s.cause=i}catch{}throw s}return t.interval*=++t.count,new Promise((s,o)=>{Fa(async()=>{try{await kk(e,t),s(!0)}catch(a){o(a)}},t.interval)})}}const Ek="__THROTTLED",aL="__SKIPPED";function lL(e,t,n){const r=new Map,i=a=>{const l=a-n;r.forEach((c,d)=>{d<l&&r.delete(d)})},s=()=>[...r.values()].reduce((a,l)=>a+l,0);let o=!1;return(...a)=>{const l=Math.floor(Date.now()/1e3);if(i(l),s()>=t){const d=o;return o=!0,d?aL:Ek}o=!1;const c=r.get(l)||0;return r.set(l,c+1),e(...a)}}class cL{constructor({options:t,recordingOptions:n}){this.eventBuffer=null,this.performanceEntries=[],this.replayPerformanceEntries=[],this.recordingMode="session",this.timeouts={sessionIdlePause:LA,sessionIdleExpire:zA},this._lastActivity=Date.now(),this._isEnabled=!1,this._isPaused=!1,this._requiresManualStart=!1,this._hasInitializedCoreListeners=!1,this._context={errorIds:new Set,traceIds:new Set,urls:[],initialTimestamp:Date.now(),initialUrl:""},this._recordingOptions=n,this._options=t,this._debouncedFlush=XN(()=>this._flush(),this._options.flushMinDelay,{maxWait:this._options.flushMaxDelay}),this._throttledAddEvent=lL((o,a)=>nN(this,o,a),300,5);const{slowClickTimeout:r,slowClickIgnoreSelectors:i}=this.getOptions(),s=r?{threshold:Math.min(HA,r),timeout:r,scrollTimeout:VA,ignoreSelector:i?i.join(","):""}:void 0;if(s&&(this.clickDetector=new mO(this,s)),Y){const o=t._experiments;q.setConfig({captureExceptions:!!o.captureExceptions,traceInternals:!!o.traceInternals})}this._handleVisibilityChange=()=>{ve.document.visibilityState==="visible"?this._doChangeToForegroundTasks():this._doChangeToBackgroundTasks()},this._handleWindowBlur=()=>{const o=kn({category:"ui.blur"});this._doChangeToBackgroundTasks(o)},this._handleWindowFocus=()=>{const o=kn({category:"ui.focus"});this._doChangeToForegroundTasks(o)},this._handleKeyboardEvent=o=>{IO(this,o)}}getContext(){return this._context}isEnabled(){return this._isEnabled}isPaused(){return this._isPaused}isRecordingCanvas(){return!!this._canvas}getOptions(){return this._options}handleException(t){Y&&q.exception(t),this._options.onError&&this._options.onError(t)}initializeSampling(t){const{errorSampleRate:n,sessionSampleRate:r}=this._options,i=n<=0&&r<=0;if(this._requiresManualStart=i,!i){if(this._initializeSessionForSampling(t),!this.session){Y&&q.exception(new Error("Unable to initialize and create session"));return}this.session.sampled!==!1&&(this.recordingMode=this.session.sampled==="buffer"&&this.session.segmentId===0?"buffer":"session",Y&&q.infoTick(`Starting replay in ${this.recordingMode} mode`),this._initializeRecording())}}start(){if(this._isEnabled&&this.recordingMode==="session"){Y&&q.log("Recording is already in progress");return}if(this._isEnabled&&this.recordingMode==="buffer"){Y&&q.log("Buffering is in progress, call `flush()` to save the replay");return}Y&&q.infoTick("Starting replay in session mode"),this._updateUserActivity();const t=Xd({maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire},{stickySession:this._options.stickySession,sessionSampleRate:1,allowBuffering:!1});this.session=t,this.recordingMode="session",this._initializeRecording()}startBuffering(){if(this._isEnabled){Y&&q.log("Buffering is in progress, call `flush()` to save the replay");return}Y&&q.infoTick("Starting replay in buffer mode");const t=Xd({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration},{stickySession:this._options.stickySession,sessionSampleRate:0,allowBuffering:!0});this.session=t,this.recordingMode="buffer",this._initializeRecording()}startRecording(){try{const t=this._canvas;this._stopRecording=Wn({...this._recordingOptions,...this.recordingMode==="buffer"?{checkoutEveryNms:$A}:this._options._experiments.continuousCheckout&&{checkoutEveryNms:Math.max(36e4,this._options._experiments.continuousCheckout)},emit:QN(this),...JN(),onMutation:this._onMutationHandler.bind(this),...t?{recordCanvas:t.recordCanvas,getCanvasManager:t.getCanvasManager,sampling:t.sampling,dataURLOptions:t.dataURLOptions}:{}})}catch(t){this.handleException(t)}}stopRecording(){try{return this._stopRecording&&(this._stopRecording(),this._stopRecording=void 0),!0}catch(t){return this.handleException(t),!1}}async stop({forceFlush:t=!1,reason:n}={}){var r;if(this._isEnabled){this._isEnabled=!1,this.recordingMode="buffer";try{Y&&q.log(`Stopping Replay${n?` triggered by ${n}`:""}`),vk(),this._removeListeners(),this.stopRecording(),this._debouncedFlush.cancel(),t&&await this._flush({force:!0}),(r=this.eventBuffer)==null||r.destroy(),this.eventBuffer=null,XO(this)}catch(i){this.handleException(i)}}}pause(){this._isPaused||(this._isPaused=!0,this.stopRecording(),Y&&q.log("Pausing replay"))}resume(){!this._isPaused||!this._checkSession()||(this._isPaused=!1,this.startRecording(),Y&&q.log("Resuming replay"))}async sendBufferedReplayOrFlush({continueRecording:t=!0}={}){if(this.recordingMode==="session")return this.flushImmediate();const n=Date.now();Y&&q.log("Converting buffer to session"),await this.flushImmediate();const r=this.stopRecording();!t||!r||this.recordingMode!=="session"&&(this.recordingMode="session",this.session&&(this._updateUserActivity(n),this._updateSessionActivity(n),this._maybeSaveSession()),this.startRecording())}addUpdate(t){const n=t();this.recordingMode==="buffer"||!this._isEnabled||n!==!0&&this._debouncedFlush()}triggerUserActivity(){if(this._updateUserActivity(),!this._stopRecording){if(!this._checkSession())return;this.resume();return}this.checkAndHandleExpiredSession(),this._updateSessionActivity()}updateUserActivity(){this._updateUserActivity(),this._updateSessionActivity()}conditionalFlush(){return this.recordingMode==="buffer"?Promise.resolve():this.flushImmediate()}flush(){return this._debouncedFlush()}flushImmediate(){return this._debouncedFlush(),this._debouncedFlush.flush()}cancelFlush(){this._debouncedFlush.cancel()}getSessionId(){var t;return(t=this.session)==null?void 0:t.id}checkAndHandleExpiredSession(){if(this._lastActivity&&Nh(this._lastActivity,this.timeouts.sessionIdlePause)&&this.session&&this.session.sampled==="session"){this.pause();return}return!!this._checkSession()}setInitialState(){const t=`${ve.location.pathname}${ve.location.hash}${ve.location.search}`,n=`${ve.location.origin}${t}`;this.performanceEntries=[],this.replayPerformanceEntries=[],this._clearContext(),this._context.initialUrl=n,this._context.initialTimestamp=Date.now(),this._context.urls.push(n)}throttledAddEvent(t,n){const r=this._throttledAddEvent(t,n);if(r===Ek){const i=kn({category:"replay.throttled"});this.addUpdate(()=>!Nm(this,{type:lO,timestamp:i.timestamp||0,data:{tag:"breadcrumb",payload:i,metric:!0}}))}return r}getCurrentRoute(){const t=this.lastActiveSpan||mt(),n=t&&at(t),i=(n&&oe(n).data||{})[fn];if(!(!n||!i||!["route","custom"].includes(i)))return oe(n).description}_initializeRecording(){this.setInitialState(),this._updateSessionActivity(),this.eventBuffer=qO({useCompression:this._options.useCompression,workerUrl:this._options.workerUrl}),this._removeListeners(),this._addListeners(),this._isEnabled=!0,this._isPaused=!1,this.startRecording()}_initializeSessionForSampling(t){const n=this._options.errorSampleRate>0,r=Xd({sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration,previousSessionId:t},{stickySession:this._options.stickySession,sessionSampleRate:this._options.sessionSampleRate,allowBuffering:n});this.session=r}_checkSession(){if(!this.session)return!1;const t=this.session;return pk(t,{sessionIdleExpire:this.timeouts.sessionIdleExpire,maxReplayDuration:this._options.maxReplayDuration})?(this._refreshSession(t),!1):!0}async _refreshSession(t){this._isEnabled&&(await this.stop({reason:"refresh session"}),this.initializeSampling(t.id))}_addListeners(){try{ve.document.addEventListener("visibilitychange",this._handleVisibilityChange),ve.addEventListener("blur",this._handleWindowBlur),ve.addEventListener("focus",this._handleWindowFocus),ve.addEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.addListeners(),this._hasInitializedCoreListeners||(qN(this),this._hasInitializedCoreListeners=!0)}catch(t){this.handleException(t)}this._performanceCleanupCallback=$O(this)}_removeListeners(){try{ve.document.removeEventListener("visibilitychange",this._handleVisibilityChange),ve.removeEventListener("blur",this._handleWindowBlur),ve.removeEventListener("focus",this._handleWindowFocus),ve.removeEventListener("keydown",this._handleKeyboardEvent),this.clickDetector&&this.clickDetector.removeListeners(),this._performanceCleanupCallback&&this._performanceCleanupCallback()}catch(t){this.handleException(t)}}_doChangeToBackgroundTasks(t){!this.session||hk(this.session,{maxReplayDuration:this._options.maxReplayDuration,sessionIdleExpire:this.timeouts.sessionIdleExpire})||(t&&this._createCustomBreadcrumb(t),this.conditionalFlush())}_doChangeToForegroundTasks(t){if(!this.session)return;if(!this.checkAndHandleExpiredSession()){Y&&q.log("Document has become active, but session has expired");return}t&&this._createCustomBreadcrumb(t)}_updateUserActivity(t=Date.now()){this._lastActivity=t}_updateSessionActivity(t=Date.now()){this.session&&(this.session.lastActivity=t,this._maybeSaveSession())}_createCustomBreadcrumb(t){this.addUpdate(()=>{this.throttledAddEvent({type:J.Custom,timestamp:t.timestamp||0,data:{tag:"breadcrumb",payload:t}})})}_addPerformanceEntries(){let t=jO(this.performanceEntries).concat(this.replayPerformanceEntries);if(this.performanceEntries=[],this.replayPerformanceEntries=[],this._requiresManualStart){const n=this._context.initialTimestamp/1e3;t=t.filter(r=>r.start>=n)}return Promise.all(Uu(this,t))}_clearContext(){this._context.errorIds.clear(),this._context.traceIds.clear(),this._context.urls=[]}_updateInitialTimestampFromEventBuffer(){const{session:t,eventBuffer:n}=this;if(!t||!n||this._requiresManualStart||t.segmentId)return;const r=n.getEarliestTimestamp();r&&r<this._context.initialTimestamp&&(this._context.initialTimestamp=r)}_popEventContext(){const t={initialTimestamp:this._context.initialTimestamp,initialUrl:this._context.initialUrl,errorIds:Array.from(this._context.errorIds),traceIds:Array.from(this._context.traceIds),urls:this._context.urls};return this._clearContext(),t}async _runFlush(){var n;const t=this.getSessionId();if(!this.session||!this.eventBuffer||!t){Y&&q.error("No session or eventBuffer found to flush.");return}if(await this._addPerformanceEntries(),!!((n=this.eventBuffer)!=null&&n.hasEvents)&&(await GN(this),!!this.eventBuffer&&t===this.getSessionId()))try{this._updateInitialTimestampFromEventBuffer();const r=Date.now();if(r-this._context.initialTimestamp>this._options.maxReplayDuration+3e4)throw new Error("Session is too long, not sending replay");const i=this._popEventContext(),s=this.session.segmentId++;this._maybeSaveSession();const o=await this.eventBuffer.finish();await kk({replayId:t,recordingData:o,segmentId:s,eventContext:i,session:this.session,timestamp:r,onError:a=>this.handleException(a)})}catch(r){this.handleException(r),this.stop({reason:"sendReplay"});const i=te();if(i){const s=r instanceof zm?"ratelimit_backoff":"send_error";i.recordDroppedEvent(s,"replay")}}}async _flush({force:t=!1}={}){if(!this._isEnabled&&!t)return;if(!this.checkAndHandleExpiredSession()){Y&&q.error("Attempting to finish replay event after session expired.");return}if(!this.session)return;const n=this.session.started,i=Date.now()-n;this._debouncedFlush.cancel();const s=i<this._options.minReplayDuration,o=i>this._options.maxReplayDuration+5e3;if(s||o){Y&&q.log(`Session duration (${Math.floor(i/1e3)}s) is too ${s?"short":"long"}, not sending replay.`),s&&this._debouncedFlush();return}const a=this.eventBuffer;a&&this.session.segmentId===0&&!a.hasCheckout&&Y&&q.log("Flushing initial segment without checkout.");const l=!!this._flushLock;this._flushLock||(this._flushLock=this._runFlush());try{await this._flushLock}catch(c){this.handleException(c)}finally{this._flushLock=void 0,l&&this._debouncedFlush()}}_maybeSaveSession(){this.session&&this._options.stickySession&&Om(this.session)}_onMutationHandler(t){const{ignoreMutations:n}=this._options._experiments;if(n!=null&&n.length&&t.some(a=>{const l=nL(a.target),c=n.join(",");return l==null?void 0:l.matches(c)}))return!1;const r=t.length,i=this._options.mutationLimit,s=this._options.mutationBreadcrumbLimit,o=i&&r>i;if(r>s||o){const a=kn({category:"replay.mutations",data:{count:r,limit:o}});this._createCustomBreadcrumb(a)}return o?(this.stop({reason:"mutationLimit",forceFlush:this.recordingMode==="session"}),!1):!0}}function io(e,t){return[...e,...t].join(",")}function uL({mask:e,unmask:t,block:n,unblock:r,ignore:i}){const s=["base","iframe[srcdoc]:not([src])"],o=io(e,[".sentry-mask","[data-sentry-mask]"]),a=io(t,[]);return{maskTextSelector:o,unmaskTextSelector:a,blockSelector:io(n,[".sentry-block","[data-sentry-block]",...s]),unblockSelector:io(r,[]),ignoreSelector:io(i,[".sentry-ignore","[data-sentry-ignore]",'input[type="file"]'])}}function dL({el:e,key:t,maskAttributes:n,maskAllText:r,privacyOptions:i,value:s}){return!r||i.unmaskTextSelector&&e.matches(i.unmaskTextSelector)?s:n.includes(t)||t==="value"&&e.tagName==="INPUT"&&["submit","button"].includes(e.getAttribute("type")||"")?s.replace(/[\S]/g,"*"):s}const Zv='img,image,svg,video,object,picture,embed,map,audio,link[rel="icon"],link[rel="apple-touch-icon"]',fL=["content-length","content-type","accept"];let Yv=!1;const qv=e=>new hL(e);class hL{constructor({flushMinDelay:t=FA,flushMaxDelay:n=BA,minReplayDuration:r=ZA,maxReplayDuration:i=Ev,stickySession:s=!0,useCompression:o=!0,workerUrl:a,_experiments:l={},maskAllText:c=!0,maskAllInputs:d=!0,blockAllMedia:f=!0,mutationBreadcrumbLimit:h=750,mutationLimit:p=1e4,slowClickTimeout:m=7e3,slowClickIgnoreSelectors:g=[],networkDetailAllowUrls:_=[],networkDetailDenyUrls:y=[],networkCaptureBodies:v=!0,networkRequestHeaders:x=[],networkResponseHeaders:S=[],mask:b=[],maskAttributes:k=["title","placeholder","aria-label"],unmask:w=[],block:E=[],unblock:C=[],ignore:T=[],maskFn:I,beforeAddRecordingEvent:D,beforeErrorSampling:F,onError:U}={}){this.name="Replay";const A=uL({mask:b,unmask:w,block:E,unblock:C,ignore:T});if(this._recordingOptions={maskAllInputs:d,maskAllText:c,maskInputOptions:{password:!0},maskTextFn:I,maskInputFn:I,maskAttributeFn:(z,P,R)=>dL({maskAttributes:k,maskAllText:c,privacyOptions:A,key:z,value:P,el:R}),...A,slimDOMOptions:"all",inlineStylesheet:!0,inlineImages:!1,collectFonts:!0,errorHandler:z=>{try{z.__rrweb__=!0}catch{}},recordCrossOriginIframes:!!l.recordCrossOriginIframes},this._initialOptions={flushMinDelay:t,flushMaxDelay:n,minReplayDuration:Math.min(r,YA),maxReplayDuration:Math.min(i,Ev),stickySession:s,useCompression:o,workerUrl:a,blockAllMedia:f,maskAllInputs:d,maskAllText:c,mutationBreadcrumbLimit:h,mutationLimit:p,slowClickTimeout:m,slowClickIgnoreSelectors:g,networkDetailAllowUrls:_,networkDetailDenyUrls:y,networkCaptureBodies:v,networkRequestHeaders:Gv(x),networkResponseHeaders:Gv(S),beforeAddRecordingEvent:D,beforeErrorSampling:F,onError:U,_experiments:l},this._initialOptions.blockAllMedia&&(this._recordingOptions.blockSelector=this._recordingOptions.blockSelector?`${this._recordingOptions.blockSelector},${Zv}`:Zv),this._isInitialized&&mv())throw new Error("Multiple Sentry Session Replay instances are not supported");this._isInitialized=!0}get _isInitialized(){return Yv}set _isInitialized(t){Yv=t}afterAllSetup(t){!mv()||this._replay||(this._setup(t),this._initialize(t))}start(){this._replay&&this._replay.start()}startBuffering(){this._replay&&this._replay.startBuffering()}stop(){return this._replay?this._replay.stop({forceFlush:this._replay.recordingMode==="session"}):Promise.resolve()}flush(t){return this._replay?this._replay.isEnabled()?this._replay.sendBufferedReplayOrFlush(t):(this._replay.start(),Promise.resolve()):Promise.resolve()}getReplayId(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.getSessionId()}getRecordingMode(){var t;if((t=this._replay)!=null&&t.isEnabled())return this._replay.recordingMode}_initialize(t){this._replay&&(this._maybeLoadFromReplayCanvasIntegration(t),this._replay.initializeSampling())}_setup(t){const n=pL(this._initialOptions,t);this._replay=new cL({options:n,recordingOptions:this._recordingOptions})}_maybeLoadFromReplayCanvasIntegration(t){try{const n=t.getIntegrationByName("ReplayCanvas");if(!n)return;this._replay._canvas=n.getOptions()}catch{}}}function pL(e,t){const n=t.getOptions(),r={sessionSampleRate:0,errorSampleRate:0,...e},i=vi(n.replaysSessionSampleRate),s=vi(n.replaysOnErrorSampleRate);return i==null&&s==null&&Ti(()=>{console.warn("Replay is disabled because neither `replaysSessionSampleRate` nor `replaysOnErrorSampleRate` are set.")}),i!=null&&(r.sessionSampleRate=i),s!=null&&(r.errorSampleRate=s),r}function Gv(e){return[...fL,...e.map(t=>t.toLowerCase())]}function vn(e=0){return((It()||performance.timeOrigin)+e)/1e3}function mL(e){const t=[];if(e.nextHopProtocol!=null){const{name:n,version:r}=Tw(e.nextHopProtocol);t.push(["network.protocol.version",r],["network.protocol.name",n])}return It()?[...t,["http.request.redirect_start",vn(e.redirectStart)],["http.request.fetch_start",vn(e.fetchStart)],["http.request.domain_lookup_start",vn(e.domainLookupStart)],["http.request.domain_lookup_end",vn(e.domainLookupEnd)],["http.request.connect_start",vn(e.connectStart)],["http.request.secure_connection_start",vn(e.secureConnectionStart)],["http.request.connection_end",vn(e.connectEnd)],["http.request.request_start",vn(e.requestStart)],["http.request.response_start",vn(e.responseStart)],["http.request.response_end",vn(e.responseEnd)]]:t}const Kv=new WeakMap,Jd=new Map,Ck={traceFetch:!0,traceXHR:!0,enableHTTPTimings:!0,trackFetchStreamPerformance:!1};function gL(e,t){const{traceFetch:n,traceXHR:r,trackFetchStreamPerformance:i,shouldCreateSpanForRequest:s,enableHTTPTimings:o,tracePropagationTargets:a,onRequestSpanStart:l}={...Ck,...t},c=typeof s=="function"?s:p=>!0,d=p=>vL(p,a),f={},h=e.getOptions().propagateTraceparent;n&&(e.addEventProcessor(p=>(p.type==="transaction"&&p.spans&&p.spans.forEach(m=>{if(m.op==="http.client"){const g=Jd.get(m.span_id);g&&(m.timestamp=g/1e3,Jd.delete(m.span_id))}}),p)),i&&tD(p=>{if(p.response){const m=Kv.get(p.response);m&&p.endTimestamp&&Jd.set(m,p.endTimestamp)}}),fw(p=>{const m=ZM(p,c,d,f,{propagateTraceparent:h});if(p.response&&p.fetchData.__span&&Kv.set(p.response,p.fetchData.__span),m){const g=Tk(p.fetchData.url),_=g?ci(g).host:void 0;m.setAttributes({"http.url":g,"server.address":_}),o&&Xv(m),l==null||l(m,{headers:p.headers})}})),r&&jw(p=>{var g;const m=_L(p,c,d,f,h);if(m){o&&Xv(m);let _;try{_=new Headers((g=p.xhr.__sentry_xhr_v3__)==null?void 0:g.request_headers)}catch{}l==null||l(m,{headers:_})}})}function yL(e){return e.entryType==="resource"&&"initiatorType"in e&&typeof e.nextHopProtocol=="string"&&(e.initiatorType==="fetch"||e.initiatorType==="xmlhttprequest")}function Xv(e){const{url:t}=oe(e).data;if(!t||typeof t!="string")return;const n=_i("resource",({entries:r})=>{r.forEach(i=>{yL(i)&&i.name.endsWith(t)&&(mL(i).forEach(o=>e.setAttribute(...o)),setTimeout(n))})})}function vL(e,t){const n=zs();if(n){let r,i;try{r=new URL(e,n),i=new URL(n).origin}catch{return!1}const s=r.origin===i;return t?$n(r.toString(),t)||s&&$n(r.pathname,t):s}else{const r=!!e.match(/^\/(?!\/)/);return t?$n(e,t):r}}function _L(e,t,n,r,i){const s=e.xhr,o=s==null?void 0:s[Qr];if(!s||s.__sentry_own_request__||!o)return;const{url:a,method:l}=o,c=Ir()&&t(a);if(e.endTimestamp&&c){const _=s.__sentry_xhr_span_id__;if(!_)return;const y=r[_];y&&o.status_code!==void 0&&(xb(y,o.status_code),y.end(),delete r[_]);return}const d=Tk(a),f=ci(d||a),h=pM(a),p=!!mt(),m=c&&p?Us({name:`${l} ${h}`,attributes:{url:a,type:"xhr","http.method":l,"http.url":d,"server.address":f==null?void 0:f.host,[qe]:"auto.http.browser",[Gn]:"http.client",...(f==null?void 0:f.search)&&{"http.query":f==null?void 0:f.search},...(f==null?void 0:f.hash)&&{"http.fragment":f==null?void 0:f.hash}}}):new Rr;s.__sentry_xhr_span_id__=m.spanContext().spanId,r[s.__sentry_xhr_span_id__]=m,n(a)&&xL(s,Ir()&&p?m:void 0,i);const g=te();return g&&g.emit("beforeOutgoingRequestSpan",m,e),m}function xL(e,t,n){const{"sentry-trace":r,baggage:i,traceparent:s}=aw({span:t,propagateTraceparent:n});r&&SL(e,r,i,s)}function SL(e,t,n,r){var s;const i=(s=e.__sentry_xhr_v3__)==null?void 0:s.request_headers;if(!(i!=null&&i["sentry-trace"]||!e.setRequestHeader))try{if(e.setRequestHeader("sentry-trace",t),r&&!(i!=null&&i.traceparent)&&e.setRequestHeader("traceparent",r),n){const o=i==null?void 0:i.baggage;(!o||!bL(o))&&e.setRequestHeader("baggage",n)}}catch{}}function bL(e){return e.split(",").some(t=>t.trim().startsWith("sentry-"))}function Tk(e){try{return new URL(e,ee.location.origin).href}catch{return}}function wL(){ee.document?ee.document.addEventListener("visibilitychange",()=>{const e=mt();if(!e)return;const t=at(e);if(ee.document.hidden&&t){const n="cancelled",{op:r,status:i}=oe(t);Tt&&N.log(`[Tracing] Transaction: ${n} -> since tab moved to the background, op: ${r}`),i||t.setStatus({code:Ue,message:n}),t.setAttribute("sentry.cancellation_reason","document.hidden"),t.end()}}):Tt&&N.warn("[Tracing] Could not set up background tab detection due to lack of global document")}const kL=3600,Ik="sentry_previous_trace",EL="sentry.previous_trace";function CL(e,{linkPreviousTrace:t,consistentTraceSampling:n}){const r=t==="session-storage";let i=r?RL():void 0;e.on("spanStart",o=>{if(at(o)!==o)return;const a=ue().getPropagationContext();i=TL(i,o,a),r&&IL(i)});let s=!0;n&&e.on("beforeSampling",o=>{if(!i)return;const a=ue(),l=a.getPropagationContext();if(s&&l.parentSpanId){s=!1;return}a.setPropagationContext({...l,dsc:{...l.dsc,sample_rate:String(i.sampleRate),sampled:String(Fh(i.spanContext))},sampleRand:i.sampleRand}),o.parentSampled=Fh(i.spanContext),o.parentSampleRate=i.sampleRate,o.spanAttributes={...o.spanAttributes,[vb]:i.sampleRate}})}function TL(e,t,n){const r=oe(t);function i(){var a,l;try{return Number((a=n.dsc)==null?void 0:a.sample_rate)??Number((l=r.data)==null?void 0:l[em])}catch{return 0}}const s={spanContext:t.spanContext(),startTimestamp:r.start_timestamp,sampleRate:i(),sampleRand:n.sampleRand};if(!e)return s;const o=e.spanContext;return o.traceId===r.trace_id?e:(Date.now()/1e3-e.startTimestamp<=kL&&(Tt&&N.log(`Adding previous_trace ${o} link to span ${{op:r.op,...t.spanContext()}}`),t.addLink({context:o,attributes:{[vI]:"previous_trace"}}),t.setAttribute(EL,`${o.traceId}-${o.spanId}-${Fh(o)?1:0}`)),s)}function IL(e){try{ee.sessionStorage.setItem(Ik,JSON.stringify(e))}catch(t){Tt&&N.warn("Could not store previous trace in sessionStorage",t)}}function RL(){var e;try{const t=(e=ee.sessionStorage)==null?void 0:e.getItem(Ik);return JSON.parse(t)}catch{return}}function Fh(e){return e.traceFlags===1}const ML="BrowserTracing",DL={...ic,instrumentNavigation:!0,instrumentPageLoad:!0,markBackgroundSpan:!0,enableLongTask:!0,enableLongAnimationFrame:!0,enableInp:!0,enableElementTiming:!0,ignoreResourceSpans:[],ignorePerformanceApiSpans:[],detectRedirects:!0,linkPreviousTrace:"in-memory",consistentTraceSampling:!1,_experiments:{},...Ck},Jv=(e={})=>{const t={name:void 0,source:void 0},n=ee.document,{enableInp:r,enableElementTiming:i,enableLongTask:s,enableLongAnimationFrame:o,_experiments:{enableInteractions:a,enableStandaloneClsSpans:l,enableStandaloneLcpSpans:c},beforeStartSpan:d,idleTimeout:f,finalTimeout:h,childSpanTimeout:p,markBackgroundSpan:m,traceFetch:g,traceXHR:_,trackFetchStreamPerformance:y,shouldCreateSpanForRequest:v,enableHTTPTimings:x,ignoreResourceSpans:S,ignorePerformanceApiSpans:b,instrumentPageLoad:k,instrumentNavigation:w,detectRedirects:E,linkPreviousTrace:C,consistentTraceSampling:T,onRequestSpanStart:I}={...DL,...e};let D,F;function U(A,z,P=!0){const R=z.op==="pageload",j=z.name,B=d?d(z):z,Z=B.attributes||{};if(j!==B.name&&(Z[fn]="custom",B.attributes=Z),!P){const fe=Ii();Us({...B,startTime:fe}).end(fe);return}t.name=B.name,t.source=Z[fn];const X=Wb(B,{idleTimeout:f,finalTimeout:h,childSpanTimeout:p,disableAutoFinish:R,beforeSpanEnd:fe=>{D==null||D(),uj(fe,{recordClsOnPageloadSpan:!l,recordLcpOnPageloadSpan:!c,ignoreResourceSpans:S,ignorePerformanceApiSpans:b}),e_(A,void 0);const Ce=ue(),Oe=Ce.getPropagationContext();Ce.setPropagationContext({...Oe,traceId:X.spanContext().traceId,sampled:Ri(X),dsc:Kn(fe)})}});e_(A,X);function Fe(){n&&["interactive","complete"].includes(n.readyState)&&A.emit("idleSpanEnableAutoFinish",X)}R&&n&&(n.addEventListener("readystatechange",()=>{Fe()}),Fe())}return{name:ML,setup(A){if(WI(),D=rj({recordClsStandaloneSpans:l||!1,recordLcpStandaloneSpans:c||!1,client:A}),r&&jj(),i&&xj(),o&&le.PerformanceObserver&&PerformanceObserver.supportedEntryTypes&&PerformanceObserver.supportedEntryTypes.includes("long-animation-frame")?sj():s&&ij(),a&&oj(),E&&n){const P=()=>{F=Qe()};addEventListener("click",P,{capture:!0}),addEventListener("keydown",P,{capture:!0,passive:!0})}function z(){const P=fa(A);P&&!oe(P).timestamp&&(Tt&&N.log(`[Tracing] Finishing current active span with op: ${oe(P).op}`),P.setAttribute(Uc,"cancelled"),P.end())}A.on("startNavigationSpan",(P,R)=>{if(te()!==A)return;if(R!=null&&R.isRedirect){Tt&&N.warn("[Tracing] Detected redirect, navigation span will not be the root span, but a child span."),U(A,{op:"navigation.redirect",...P},!1);return}F=void 0,z(),Bt().setPropagationContext({traceId:Tr(),sampleRand:Math.random()});const j=ue();j.setPropagationContext({traceId:Tr(),sampleRand:Math.random()}),j.setSDKProcessingMetadata({normalizedRequest:void 0}),U(A,{op:"navigation",...P})}),A.on("startPageLoadSpan",(P,R={})=>{if(te()!==A)return;z();const j=R.sentryTrace||Qv("sentry-trace"),B=R.baggage||Qv("baggage"),Z=PI(j,B),X=ue();X.setPropagationContext(Z),X.setSDKProcessingMetadata({normalizedRequest:dm()}),U(A,{op:"pageload",...P})})},afterAllSetup(A){let z=zs();if(C!=="off"&&CL(A,{linkPreviousTrace:C,consistentTraceSampling:T}),ee.location){if(k){const P=It();jL(A,{name:ee.location.pathname,startTime:P?P/1e3:void 0,attributes:{[fn]:"url",[qe]:"auto.pageload.browser"}})}w&&Fu(({to:P,from:R})=>{if(R===void 0&&(z==null?void 0:z.indexOf(P))!==-1){z=void 0;return}z=void 0;const j=um(P),B=fa(A),Z=B&&E&&OL(B,F);AL(A,{name:(j==null?void 0:j.pathname)||ee.location.pathname,attributes:{[fn]:"url",[qe]:"auto.navigation.browser"}},{url:P,isRedirect:Z})})}m&&wL(),a&&PL(A,f,h,p,t),r&&Oj(),gL(A,{traceFetch:g,traceXHR:_,trackFetchStreamPerformance:y,tracePropagationTargets:A.getOptions().tracePropagationTargets,shouldCreateSpanForRequest:v,enableHTTPTimings:x,onRequestSpanStart:I})}}};function jL(e,t,n){e.emit("startPageLoadSpan",t,n),ue().setTransactionName(t.name);const r=fa(e);return r&&e.emit("afterStartPageLoadSpan",r),r}function AL(e,t,n){const{url:r,isRedirect:i}=n||{};e.emit("beforeStartNavigationSpan",t,{isRedirect:i}),e.emit("startNavigationSpan",t,{isRedirect:i});const s=ue();return s.setTransactionName(t.name),r&&!i&&s.setSDKProcessingMetadata({normalizedRequest:{...dm(),url:r}}),fa(e)}function Qv(e){const t=ee.document,n=t==null?void 0:t.querySelector(`meta[name=${e}]`);return(n==null?void 0:n.getAttribute("content"))||void 0}function PL(e,t,n,r,i){const s=ee.document;let o;const a=()=>{const l="ui.action.click",c=fa(e);if(c){const d=oe(c).op;if(["navigation","pageload"].includes(d)){Tt&&N.warn(`[Tracing] Did not create ${l} span because a pageload or navigation span is in progress.`);return}}if(o&&(o.setAttribute(Uc,"interactionInterrupted"),o.end(),o=void 0),!i.name){Tt&&N.warn(`[Tracing] Did not create ${l} transaction because _latestRouteName is missing.`);return}o=Wb({name:i.name,op:l,attributes:{[fn]:i.source||"url"}},{idleTimeout:t,finalTimeout:n,childSpanTimeout:r})};s&&addEventListener("click",a,{capture:!0})}const Rk="_sentry_idleSpan";function fa(e){return e[Rk]}function e_(e,t){Nt(e,Rk,t)}const t_=1.5;function OL(e,t){const n=oe(e),r=Ii(),i=n.start_timestamp;return!(r-i>t_||t&&r-t<=t_)}function NL(e){const t={...e};return ow(t,"react"),lm("react",{version:L.version}),OA(t)}function LL(e){const t=e.match(/^([^.]+)/);return t!==null&&parseInt(t[0])>=17}function zL(e,t){const n=new WeakSet;function r(i,s){if(!n.has(i)){if(i.cause)return n.add(i),r(i.cause,s);i.cause=s}}r(e,t)}function FL(e,{componentStack:t},n){if(LL(L.version)&&Au(e)&&t){const r=new Error(e.message);r.name=`React ErrorBoundary ${e.name}`,r.stack=t,zL(e,r)}return Bs(r=>(r.setContext("react",{componentStack:t}),Cs(e,n)))}const BL=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,Qd={componentStack:null,error:null,eventId:null};class $L extends L.Component{constructor(t){super(t),this.state=Qd,this._openFallbackReportDialog=!0;const n=te();n&&t.showDialog&&(this._openFallbackReportDialog=!1,this._cleanupHook=n.on("afterSendEvent",r=>{!r.type&&this._lastEventId&&r.event_id===this._lastEventId&&Rh({...t.dialogOptions,eventId:this._lastEventId})}))}componentDidCatch(t,n){const{componentStack:r}=n,{beforeCapture:i,onError:s,showDialog:o,dialogOptions:a}=this.props;Bs(l=>{i&&i(l,t,r);const c=this.props.handled!=null?this.props.handled:!!this.props.fallback,d=FL(t,n,{mechanism:{handled:c}});s&&s(t,r,d),o&&(this._lastEventId=d,this._openFallbackReportDialog&&Rh({...a,eventId:d})),this.setState({error:t,componentStack:r,eventId:d})})}componentDidMount(){const{onMount:t}=this.props;t&&t()}componentWillUnmount(){const{error:t,componentStack:n,eventId:r}=this.state,{onUnmount:i}=this.props;i&&(this.state===Qd?i(null,null,null):i(t,n,r)),this._cleanupHook&&(this._cleanupHook(),this._cleanupHook=void 0)}resetErrorBoundary(){const{onReset:t}=this.props,{error:n,componentStack:r,eventId:i}=this.state;t&&t(n,r,i),this.setState(Qd)}render(){const{fallback:t,children:n}=this.props,r=this.state;if(r.componentStack===null)return typeof n=="function"?n():n;const i=typeof t=="function"?L.createElement(t,{error:r.error,componentStack:r.componentStack,resetError:()=>this.resetErrorBoundary(),eventId:r.eventId}):t;return L.isValidElement(i)?i:(t&&BL&&N.warn("fallback did not produce a valid ReactElement"),null)}}function WL(){const{state:e,dispatch:t}=gn(),[n,r]=L.useState({startDate:"",endDate:"",flowIntensity:"medium",symptoms:[]}),i=["Cramps","Bloating","Mood swings","Fatigue","Headache","Breast tenderness","Back pain","Acne"],s=l=>{const{name:c,value:d}=l.target;r(f=>({...f,[c]:d}))},o=l=>{r(c=>({...c,symptoms:c.symptoms.includes(l)?c.symptoms.filter(d=>d!==l):[...c.symptoms,l]}))},a=l=>{if(l.preventDefault(),!n.startDate){alert("Please enter a start date");return}const c=new Date(n.startDate),d=n.endDate?new Date(n.endDate):null;if(d&&d<c){alert("End date cannot be before start date");return}if(d){const g=Math.ceil((d-c)/864e5)+1;if(g<2||g>10){alert("Please enter a realistic period length (2-10 days).");return}}const f=d?Math.ceil((d-c)/(1e3*60*60*24))+1:null,h={id:Date.now(),startDate:c.toISOString(),endDate:d?d.toISOString():null,length:f,flowIntensity:n.flowIntensity,symptoms:n.symptoms,createdAt:new Date().toISOString()};t({type:"ADD_CYCLE",payload:h});try{Lt({category:"cycle",message:"add",level:"info",data:{startDate:n.startDate,endDate:n.endDate||null,flow:n.flowIntensity}})}catch{}const p=[...e.cycles,h],m=Fc(p);t({type:"UPDATE_PREDICTIONS",payload:m}),ii.success("Cycle added"),si("Cycle added"),r({startDate:"",endDate:"",flowIntensity:"medium",symptoms:[]})};return u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"Track Your Cycle"}),u.jsxs("form",{onSubmit:a,children:[u.jsxs("div",{style:{display:"grid",gap:"1rem",marginBottom:"1.5rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Period Start Date *"}),u.jsx("input",{type:"date",name:"startDate",value:n.startDate,onChange:s,required:!0,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Period End Date (optional)"}),u.jsx("input",{type:"date",name:"endDate",value:n.endDate,onChange:s,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Flow Intensity"}),u.jsxs("select",{name:"flowIntensity",value:n.flowIntensity,onChange:s,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem"},children:[u.jsx("option",{value:"light",children:"Light"}),u.jsx("option",{value:"medium",children:"Medium"}),u.jsx("option",{value:"heavy",children:"Heavy"})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Symptoms"}),u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:i.map(l=>u.jsx("button",{type:"button",onClick:()=>o(l),className:`btn ${n.symptoms.includes(l)?"":"btn-secondary"}`,style:{fontSize:"0.875rem",padding:"0.5rem 1rem"},children:l},l))})]})]}),u.jsx("button",{type:"submit",className:"btn",children:"Add Cycle Data"})]})]})}/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Wa(e){return e+.5|0}const fr=(e,t,n)=>Math.max(Math.min(e,n),t);function yo(e){return fr(Wa(e*2.55),0,255)}function kr(e){return fr(Wa(e*255),0,255)}function On(e){return fr(Wa(e/2.55)/100,0,1)}function n_(e){return fr(Wa(e*100),0,100)}const Ut={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Bh=[..."0123456789ABCDEF"],UL=e=>Bh[e&15],HL=e=>Bh[(e&240)>>4]+Bh[e&15],Sl=e=>(e&240)>>4===(e&15),VL=e=>Sl(e.r)&&Sl(e.g)&&Sl(e.b)&&Sl(e.a);function ZL(e){var t=e.length,n;return e[0]==="#"&&(t===4||t===5?n={r:255&Ut[e[1]]*17,g:255&Ut[e[2]]*17,b:255&Ut[e[3]]*17,a:t===5?Ut[e[4]]*17:255}:(t===7||t===9)&&(n={r:Ut[e[1]]<<4|Ut[e[2]],g:Ut[e[3]]<<4|Ut[e[4]],b:Ut[e[5]]<<4|Ut[e[6]],a:t===9?Ut[e[7]]<<4|Ut[e[8]]:255})),n}const YL=(e,t)=>e<255?t(e):"";function qL(e){var t=VL(e)?UL:HL;return e?"#"+t(e.r)+t(e.g)+t(e.b)+YL(e.a,t):void 0}const GL=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Mk(e,t,n){const r=t*Math.min(n,1-n),i=(s,o=(s+e/30)%12)=>n-r*Math.max(Math.min(o-3,9-o,1),-1);return[i(0),i(8),i(4)]}function KL(e,t,n){const r=(i,s=(i+e/60)%6)=>n-n*t*Math.max(Math.min(s,4-s,1),0);return[r(5),r(3),r(1)]}function XL(e,t,n){const r=Mk(e,1,.5);let i;for(t+n>1&&(i=1/(t+n),t*=i,n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function JL(e,t,n,r,i){return e===i?(t-n)/r+(t<n?6:0):t===i?(n-e)/r+2:(e-t)/r+4}function Fm(e){const n=e.r/255,r=e.g/255,i=e.b/255,s=Math.max(n,r,i),o=Math.min(n,r,i),a=(s+o)/2;let l,c,d;return s!==o&&(d=s-o,c=a>.5?d/(2-s-o):d/(s+o),l=JL(n,r,i,d,s),l=l*60+.5),[l|0,c||0,a]}function Bm(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(kr)}function $m(e,t,n){return Bm(Mk,e,t,n)}function QL(e,t,n){return Bm(XL,e,t,n)}function e2(e,t,n){return Bm(KL,e,t,n)}function Dk(e){return(e%360+360)%360}function t2(e){const t=GL.exec(e);let n=255,r;if(!t)return;t[5]!==r&&(n=t[6]?yo(+t[5]):kr(+t[5]));const i=Dk(+t[2]),s=+t[3]/100,o=+t[4]/100;return t[1]==="hwb"?r=QL(i,s,o):t[1]==="hsv"?r=e2(i,s,o):r=$m(i,s,o),{r:r[0],g:r[1],b:r[2],a:n}}function n2(e,t){var n=Fm(e);n[0]=Dk(n[0]+t),n=$m(n),e.r=n[0],e.g=n[1],e.b=n[2]}function r2(e){if(!e)return;const t=Fm(e),n=t[0],r=n_(t[1]),i=n_(t[2]);return e.a<255?`hsla(${n}, ${r}%, ${i}%, ${On(e.a)})`:`hsl(${n}, ${r}%, ${i}%)`}const r_={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},i_={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function i2(){const e={},t=Object.keys(i_),n=Object.keys(r_);let r,i,s,o,a;for(r=0;r<t.length;r++){for(o=a=t[r],i=0;i<n.length;i++)s=n[i],a=a.replace(s,r_[s]);s=parseInt(i_[o],16),e[a]=[s>>16&255,s>>8&255,s&255]}return e}let bl;function s2(e){bl||(bl=i2(),bl.transparent=[0,0,0,0]);const t=bl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const o2=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function a2(e){const t=o2.exec(e);let n=255,r,i,s;if(t){if(t[7]!==r){const o=+t[7];n=t[8]?yo(o):fr(o*255,0,255)}return r=+t[1],i=+t[3],s=+t[5],r=255&(t[2]?yo(r):fr(r,0,255)),i=255&(t[4]?yo(i):fr(i,0,255)),s=255&(t[6]?yo(s):fr(s,0,255)),{r,g:i,b:s,a:n}}}function l2(e){return e&&(e.a<255?`rgba(${e.r}, ${e.g}, ${e.b}, ${On(e.a)})`:`rgb(${e.r}, ${e.g}, ${e.b})`)}const ef=e=>e<=.0031308?e*12.92:Math.pow(e,1/2.4)*1.055-.055,Oi=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function c2(e,t,n){const r=Oi(On(e.r)),i=Oi(On(e.g)),s=Oi(On(e.b));return{r:kr(ef(r+n*(Oi(On(t.r))-r))),g:kr(ef(i+n*(Oi(On(t.g))-i))),b:kr(ef(s+n*(Oi(On(t.b))-s))),a:e.a+n*(t.a-e.a)}}function wl(e,t,n){if(e){let r=Fm(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,t===0?360:1)),r=$m(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function jk(e,t){return e&&Object.assign(t||{},e)}function s_(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=kr(e[3]))):(t=jk(e,{r:0,g:0,b:0,a:1}),t.a=kr(t.a)),t}function u2(e){return e.charAt(0)==="r"?a2(e):t2(e)}class ha{constructor(t){if(t instanceof ha)return t;const n=typeof t;let r;n==="object"?r=s_(t):n==="string"&&(r=ZL(t)||s2(t)||u2(t)),this._rgb=r,this._valid=!!r}get valid(){return this._valid}get rgb(){var t=jk(this._rgb);return t&&(t.a=On(t.a)),t}set rgb(t){this._rgb=s_(t)}rgbString(){return this._valid?l2(this._rgb):void 0}hexString(){return this._valid?qL(this._rgb):void 0}hslString(){return this._valid?r2(this._rgb):void 0}mix(t,n){if(t){const r=this.rgb,i=t.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=r.a-i.a,c=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-c,r.r=255&c*r.r+s*i.r+.5,r.g=255&c*r.g+s*i.g+.5,r.b=255&c*r.b+s*i.b+.5,r.a=o*r.a+(1-o)*i.a,this.rgb=r}return this}interpolate(t,n){return t&&(this._rgb=c2(this._rgb,t._rgb,n)),this}clone(){return new ha(this.rgb)}alpha(t){return this._rgb.a=kr(t),this}clearer(t){const n=this._rgb;return n.a*=1-t,this}greyscale(){const t=this._rgb,n=Wa(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=n,this}opaquer(t){const n=this._rgb;return n.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return wl(this._rgb,2,t),this}darken(t){return wl(this._rgb,2,-t),this}saturate(t){return wl(this._rgb,1,t),this}desaturate(t){return wl(this._rgb,1,-t),this}rotate(t){return n2(this._rgb,t),this}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Rn(){}const d2=(()=>{let e=0;return()=>e++})();function de(e){return e==null}function Ve(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ae(e){return e!==null&&Object.prototype.toString.call(e)==="[object Object]"}function Qt(e){return(typeof e=="number"||e instanceof Number)&&isFinite(+e)}function _n(e,t){return Qt(e)?e:t}function Q(e,t){return typeof e>"u"?t:e}const f2=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100:+e/t,Ak=(e,t)=>typeof e=="string"&&e.endsWith("%")?parseFloat(e)/100*t:+e;function be(e,t,n){if(e&&typeof e.call=="function")return e.apply(n,t)}function pe(e,t,n,r){let i,s,o;if(Ve(e))for(s=e.length,i=0;i<s;i++)t.call(n,e[i],i);else if(ae(e))for(o=Object.keys(e),s=o.length,i=0;i<s;i++)t.call(n,e[o[i]],o[i])}function su(e,t){let n,r,i,s;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],s=t[n],i.datasetIndex!==s.datasetIndex||i.index!==s.index)return!1;return!0}function ou(e){if(Ve(e))return e.map(ou);if(ae(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let i=0;for(;i<r;++i)t[n[i]]=ou(e[n[i]]);return t}return e}function Pk(e){return["__proto__","prototype","constructor"].indexOf(e)===-1}function h2(e,t,n,r){if(!Pk(e))return;const i=t[e],s=n[e];ae(i)&&ae(s)?pa(i,s,r):t[e]=ou(s)}function pa(e,t,n){const r=Ve(t)?t:[t],i=r.length;if(!ae(e))return e;n=n||{};const s=n.merger||h2;let o;for(let a=0;a<i;++a){if(o=r[a],!ae(o))continue;const l=Object.keys(o);for(let c=0,d=l.length;c<d;++c)s(l[c],e,o,n)}return e}function zo(e,t){return pa(e,t,{merger:p2})}function p2(e,t,n){if(!Pk(e))return;const r=t[e],i=n[e];ae(r)&&ae(i)?zo(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=ou(i))}const o_={"":e=>e,x:e=>e.x,y:e=>e.y};function m2(e){const t=e.split("."),n=[];let r="";for(const i of t)r+=i,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}function g2(e){const t=m2(e);return n=>{for(const r of t){if(r==="")break;n=n&&n[r]}return n}}function xi(e,t){return(o_[t]||(o_[t]=g2(t)))(e)}function Wm(e){return e.charAt(0).toUpperCase()+e.slice(1)}const ma=e=>typeof e<"u",jr=e=>typeof e=="function",a_=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};function y2(e){return e.type==="mouseup"||e.type==="click"||e.type==="contextmenu"}const me=Math.PI,Ae=2*me,v2=Ae+me,au=Number.POSITIVE_INFINITY,_2=me/180,Ye=me/2,Wr=me/4,l_=me*2/3,Ok=Math.log10,Tn=Math.sign;function Fo(e,t,n){return Math.abs(e-t)<n}function c_(e){const t=Math.round(e);e=Fo(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ok(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function x2(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(n|0)&&t.push(n),t.sort((i,s)=>i-s).pop(),t}function S2(e){return typeof e=="symbol"||typeof e=="object"&&e!==null&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}function ga(e){return!S2(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function b2(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}function w2(e,t,n){let r,i,s;for(r=0,i=e.length;r<i;r++)s=e[r][n],isNaN(s)||(t.min=Math.min(t.min,s),t.max=Math.max(t.max,s))}function zn(e){return e*(me/180)}function k2(e){return e*(180/me)}function u_(e){if(!Qt(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Nk(e,t){const n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);let s=Math.atan2(r,n);return s<-.5*me&&(s+=Ae),{angle:s,distance:i}}function $h(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function E2(e,t){return(e-t+v2)%Ae-me}function un(e){return(e%Ae+Ae)%Ae}function ya(e,t,n,r){const i=un(e),s=un(t),o=un(n),a=un(s-i),l=un(o-i),c=un(i-s),d=un(i-o);return i===s||i===o||r&&s===o||a>l&&c<d}function st(e,t,n){return Math.max(t,Math.min(n,e))}function C2(e){return st(e,-32768,32767)}function hr(e,t,n,r=1e-6){return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Um(e,t,n){n=n||(o=>e[o]<t);let r=e.length-1,i=0,s;for(;r-i>1;)s=i+r>>1,n(s)?i=s:r=s;return{lo:i,hi:r}}const ti=(e,t,n,r)=>Um(e,n,r?i=>{const s=e[i][t];return s<n||s===n&&e[i+1][t]===n}:i=>e[i][t]<n),T2=(e,t,n)=>Um(e,n,r=>e[r][t]>=n);function I2(e,t,n){let r=0,i=e.length;for(;r<i&&e[r]<t;)r++;for(;i>r&&e[i-1]>n;)i--;return r>0||i<e.length?e.slice(r,i):e}const Lk=["push","pop","shift","splice","unshift"];function R2(e,t){if(e._chartjs){e._chartjs.listeners.push(t);return}Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Lk.forEach(n=>{const r="_onData"+Wm(n),i=e[n];Object.defineProperty(e,n,{configurable:!0,enumerable:!1,value(...s){const o=i.apply(this,s);return e._chartjs.listeners.forEach(a=>{typeof a[r]=="function"&&a[r](...s)}),o}})})}function d_(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,i=r.indexOf(t);i!==-1&&r.splice(i,1),!(r.length>0)&&(Lk.forEach(s=>{delete e[s]}),delete e._chartjs)}function zk(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const Fk=function(){return typeof window>"u"?function(e){return e()}:window.requestAnimationFrame}();function Bk(e,t){let n=[],r=!1;return function(...i){n=i,r||(r=!0,Fk.call(window,()=>{r=!1,e.apply(t,n)}))}}function M2(e,t){let n;return function(...r){return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}const Hm=e=>e==="start"?"left":e==="end"?"right":"center",rt=(e,t,n)=>e==="start"?t:e==="end"?n:(t+n)/2,D2=(e,t,n,r)=>e===(r?"left":"right")?n:e==="center"?(t+n)/2:t;function j2(e,t,n){const r=t.length;let i=0,s=r;if(e._sorted){const{iScale:o,vScale:a,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=o.axis,{min:f,max:h,minDefined:p,maxDefined:m}=o.getUserBounds();if(p){if(i=Math.min(ti(l,d,f).lo,n?r:ti(t,d,o.getPixelForValue(f)).lo),c){const g=l.slice(0,i+1).reverse().findIndex(_=>!de(_[a.axis]));i-=Math.max(0,g)}i=st(i,0,r-1)}if(m){let g=Math.max(ti(l,o.axis,h,!0).hi+1,n?0:ti(t,d,o.getPixelForValue(h),!0).hi+1);if(c){const _=l.slice(g-1).findIndex(y=>!de(y[a.axis]));g+=Math.max(0,_)}s=st(g,i,r)-i}else s=r-i}return{start:i,count:s}}function A2(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,i={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=i,!0;const s=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,i),s}const kl=e=>e===0||e===1,f_=(e,t,n)=>-(Math.pow(2,10*(e-=1))*Math.sin((e-t)*Ae/n)),h_=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Ae/n)+1,Bo={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>-Math.cos(e*Ye)+1,easeOutSine:e=>Math.sin(e*Ye),easeInOutSine:e=>-.5*(Math.cos(me*e)-1),easeInExpo:e=>e===0?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>e===1?1:-Math.pow(2,-10*e)+1,easeInOutExpo:e=>kl(e)?e:e<.5?.5*Math.pow(2,10*(e*2-1)):.5*(-Math.pow(2,-10*(e*2-1))+2),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>kl(e)?e:f_(e,.075,.3),easeOutElastic:e=>kl(e)?e:h_(e,.075,.3),easeInOutElastic(e){return kl(e)?e:e<.5?.5*f_(e*2,.1125,.45):.5+.5*h_(e*2-1,.1125,.45)},easeInBack(e){return e*e*((1.70158+1)*e-1.70158)},easeOutBack(e){return(e-=1)*e*((1.70158+1)*e+1.70158)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?.5*(e*e*(((t*=1.525)+1)*e-t)):.5*((e-=2)*e*(((t*=1.525)+1)*e+t)+2)},easeInBounce:e=>1-Bo.easeOutBounce(1-e),easeOutBounce(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:e=>e<.5?Bo.easeInBounce(e*2)*.5:Bo.easeOutBounce(e*2-1)*.5+.5};function Vm(e){if(e&&typeof e=="object"){const t=e.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function p_(e){return Vm(e)?e:new ha(e)}function tf(e){return Vm(e)?e:new ha(e).saturate(.5).darken(.1).hexString()}const P2=["x","y","borderWidth","radius","tension"],O2=["color","borderColor","backgroundColor"];function N2(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),e.set("animations",{colors:{type:"color",properties:O2},numbers:{type:"number",properties:P2}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function L2(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const m_=new Map;function z2(e,t){t=t||{};const n=e+JSON.stringify(t);let r=m_.get(n);return r||(r=new Intl.NumberFormat(e,t),m_.set(n,r)),r}function Zm(e,t,n){return z2(t,n).format(e)}const F2={values(e){return Ve(e)?e:""+e},numeric(e,t,n){if(e===0)return"0";const r=this.chart.options.locale;let i,s=e;if(n.length>1){const c=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(c<1e-4||c>1e15)&&(i="scientific"),s=B2(e,n)}const o=Ok(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:i,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),Zm(e,r,l)}};function B2(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var $k={formatters:F2};function $2(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,n)=>n.lineWidth,tickColor:(t,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$k.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Si=Object.create(null),Wh=Object.create(null);function $o(e,t){if(!t)return e;const n=t.split(".");for(let r=0,i=n.length;r<i;++r){const s=n[r];e=e[s]||(e[s]=Object.create(null))}return e}function nf(e,t,n){return typeof t=="string"?pa($o(e,t),n):pa($o(e,""),t)}class W2{constructor(t,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=r=>r.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(r,i)=>tf(i.backgroundColor),this.hoverBorderColor=(r,i)=>tf(i.borderColor),this.hoverColor=(r,i)=>tf(i.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}set(t,n){return nf(this,t,n)}get(t){return $o(this,t)}describe(t,n){return nf(Wh,t,n)}override(t,n){return nf(Si,t,n)}route(t,n,r,i){const s=$o(this,t),o=$o(this,r),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],c=o[i];return ae(l)?Object.assign({},c,l):Q(l,c)},set(l){this[a]=l}}})}apply(t){t.forEach(n=>n(this))}}var Le=new W2({_scriptable:e=>!e.startsWith("on"),_indexable:e=>e!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[N2,L2,$2]);function U2(e){return!e||de(e.size)||de(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function g_(e,t,n,r,i){let s=t[i];return s||(s=t[i]=e.measureText(i).width,n.push(i)),s>r&&(r=s),r}function Ur(e,t,n){const r=e.currentDevicePixelRatio,i=n!==0?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function y_(e,t){!t&&!e||(t=t||e.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Uh(e,t,n,r){Wk(e,t,n,r,null)}function Wk(e,t,n,r,i){let s,o,a,l,c,d,f,h;const p=t.pointStyle,m=t.rotation,g=t.radius;let _=(m||0)*_2;if(p&&typeof p=="object"&&(s=p.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){e.save(),e.translate(n,r),e.rotate(_),e.drawImage(p,-p.width/2,-p.height/2,p.width,p.height),e.restore();return}if(!(isNaN(g)||g<=0)){switch(e.beginPath(),p){default:i?e.ellipse(n,r,i/2,g,0,0,Ae):e.arc(n,r,g,0,Ae),e.closePath();break;case"triangle":d=i?i/2:g,e.moveTo(n+Math.sin(_)*d,r-Math.cos(_)*g),_+=l_,e.lineTo(n+Math.sin(_)*d,r-Math.cos(_)*g),_+=l_,e.lineTo(n+Math.sin(_)*d,r-Math.cos(_)*g),e.closePath();break;case"rectRounded":c=g*.516,l=g-c,o=Math.cos(_+Wr)*l,f=Math.cos(_+Wr)*(i?i/2-c:l),a=Math.sin(_+Wr)*l,h=Math.sin(_+Wr)*(i?i/2-c:l),e.arc(n-f,r-a,c,_-me,_-Ye),e.arc(n+h,r-o,c,_-Ye,_),e.arc(n+f,r+a,c,_,_+Ye),e.arc(n-h,r+o,c,_+Ye,_+me),e.closePath();break;case"rect":if(!m){l=Math.SQRT1_2*g,d=i?i/2:l,e.rect(n-d,r-l,2*d,2*l);break}_+=Wr;case"rectRot":f=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),e.moveTo(n-f,r-a),e.lineTo(n+h,r-o),e.lineTo(n+f,r+a),e.lineTo(n-h,r+o),e.closePath();break;case"crossRot":_+=Wr;case"cross":f=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"star":f=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o),_+=Wr,f=Math.cos(_)*(i?i/2:g),o=Math.cos(_)*g,a=Math.sin(_)*g,h=Math.sin(_)*(i?i/2:g),e.moveTo(n-f,r-a),e.lineTo(n+f,r+a),e.moveTo(n+h,r-o),e.lineTo(n-h,r+o);break;case"line":o=i?i/2:Math.cos(_)*g,a=Math.sin(_)*g,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(_)*(i?i/2:g),r+Math.sin(_)*g);break;case!1:e.closePath();break}e.fill(),t.borderWidth>0&&e.stroke()}}function va(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Ym(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function qm(e){e.restore()}function H2(e,t,n,r,i){if(!t)return e.lineTo(n.x,n.y);if(i==="middle"){const s=(t.x+n.x)/2;e.lineTo(s,t.y),e.lineTo(s,n.y)}else i==="after"!=!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function V2(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Z2(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),de(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function Y2(e,t,n,r,i){if(i.strikethrough||i.underline){const s=e.measureText(r),o=t-s.actualBoundingBoxLeft,a=t+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,c=n+s.actualBoundingBoxDescent,d=i.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(o,d),e.lineTo(a,d),e.stroke()}}function q2(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function _a(e,t,n,r,i,s={}){const o=Ve(t)?t:[t],a=s.strokeWidth>0&&s.strokeColor!=="";let l,c;for(e.save(),e.font=i.string,Z2(e,s),l=0;l<o.length;++l)c=o[l],s.backdrop&&q2(e,s.backdrop),a&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),de(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(c,n,r,s.maxWidth)),e.fillText(c,n,r,s.maxWidth),Y2(e,n,r,c,s),r+=Number(i.lineHeight);e.restore()}function lu(e,t){const{x:n,y:r,w:i,h:s,radius:o}=t;e.arc(n+o.topLeft,r+o.topLeft,o.topLeft,1.5*me,me,!0),e.lineTo(n,r+s-o.bottomLeft),e.arc(n+o.bottomLeft,r+s-o.bottomLeft,o.bottomLeft,me,Ye,!0),e.lineTo(n+i-o.bottomRight,r+s),e.arc(n+i-o.bottomRight,r+s-o.bottomRight,o.bottomRight,Ye,0,!0),e.lineTo(n+i,r+o.topRight),e.arc(n+i-o.topRight,r+o.topRight,o.topRight,0,-Ye,!0),e.lineTo(n+o.topLeft,r)}const G2=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,K2=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function X2(e,t){const n=(""+e).match(G2);if(!n||n[1]==="normal")return t*1.2;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100;break}return t*e}const J2=e=>+e||0;function Gm(e,t){const n={},r=ae(t),i=r?Object.keys(t):t,s=ae(e)?r?o=>Q(e[o],e[t[o]]):o=>e[o]:()=>e;for(const o of i)n[o]=J2(s(o));return n}function Uk(e){return Gm(e,{top:"y",right:"x",bottom:"y",left:"x"})}function fs(e){return Gm(e,["topLeft","topRight","bottomLeft","bottomRight"])}function en(e){const t=Uk(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ot(e,t){e=e||{},t=t||Le.font;let n=Q(e.size,t.size);typeof n=="string"&&(n=parseInt(n,10));let r=Q(e.style,t.style);r&&!(""+r).match(K2)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const i={family:Q(e.family,t.family),lineHeight:X2(Q(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:Q(e.weight,t.weight),string:""};return i.string=U2(i),i}function El(e,t,n,r){let i,s,o;for(i=0,s=e.length;i<s;++i)if(o=e[i],o!==void 0&&o!==void 0)return o}function Q2(e,t,n){const{min:r,max:i}=e,s=Ak(t,(i-r)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(r,-Math.abs(s)),max:o(i,s)}}function Di(e,t){return Object.assign(Object.create(e),t)}function Km(e,t=[""],n,r,i=()=>e[0]){const s=n||e;typeof r>"u"&&(r=Yk("_fallback",e));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:r,_getTarget:i,override:a=>Km([a,...e],t,s,r)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete e[0][l],!0},get(a,l){return Vk(a,l,()=>az(l,t,e,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(e[0])},has(a,l){return __(a).includes(l)},ownKeys(a){return __(a)},set(a,l,c){const d=a._storage||(a._storage=i());return a[l]=d[l]=c,delete a._keys,!0}})}function js(e,t,n,r){const i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Hk(e,r),setContext:s=>js(e,s,n,r),override:s=>js(e.override(s),t,n,r)};return new Proxy(i,{deleteProperty(s,o){return delete s[o],delete e[o],!0},get(s,o,a){return Vk(s,o,()=>tz(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(e,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,o)},getPrototypeOf(){return Reflect.getPrototypeOf(e)},has(s,o){return Reflect.has(e,o)},ownKeys(){return Reflect.ownKeys(e)},set(s,o,a){return e[o]=a,delete s[o],!0}})}function Hk(e,t={scriptable:!0,indexable:!0}){const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:i=t.allKeys}=e;return{allKeys:i,scriptable:n,indexable:r,isScriptable:jr(n)?n:()=>n,isIndexable:jr(r)?r:()=>r}}const ez=(e,t)=>e?e+Wm(t):t,Xm=(e,t)=>ae(t)&&e!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Vk(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||t==="constructor")return e[t];const r=n();return e[t]=r,r}function tz(e,t,n){const{_proxy:r,_context:i,_subProxy:s,_descriptors:o}=e;let a=r[t];return jr(a)&&o.isScriptable(t)&&(a=nz(t,a,e,n)),Ve(a)&&a.length&&(a=rz(t,a,e,o.isIndexable)),Xm(t,a)&&(a=js(a,i,s&&s[t],o)),a}function nz(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_stack:a}=n;if(a.has(e))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+e);a.add(e);let l=t(s,o||r);return a.delete(e),Xm(e,l)&&(l=Jm(i._scopes,i,e,l)),l}function rz(e,t,n,r){const{_proxy:i,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&r(e))return t[s.index%t.length];if(ae(t[0])){const l=t,c=i._scopes.filter(d=>d!==l);t=[];for(const d of l){const f=Jm(c,i,e,d);t.push(js(f,s,o&&o[e],a))}}return t}function Zk(e,t,n){return jr(e)?e(t,n):e}const iz=(e,t)=>e===!0?t:typeof e=="string"?xi(t,e):void 0;function sz(e,t,n,r,i){for(const s of t){const o=iz(n,s);if(o){e.add(o);const a=Zk(o._fallback,n,i);if(typeof a<"u"&&a!==n&&a!==r)return a}else if(o===!1&&typeof r<"u"&&n!==r)return null}return!1}function Jm(e,t,n,r){const i=t._rootScopes,s=Zk(t._fallback,n,r),o=[...e,...i],a=new Set;a.add(r);let l=v_(a,o,n,s||n,r);return l===null||typeof s<"u"&&s!==n&&(l=v_(a,o,s,l,r),l===null)?!1:Km(Array.from(a),[""],i,s,()=>oz(t,n,r))}function v_(e,t,n,r,i){for(;n;)n=sz(e,t,n,r,i);return n}function oz(e,t,n){const r=e._getTarget();t in r||(r[t]={});const i=r[t];return Ve(i)&&ae(n)?n:i||{}}function az(e,t,n,r){let i;for(const s of t)if(i=Yk(ez(s,e),n),typeof i<"u")return Xm(e,i)?Jm(n,r,e,i):i}function Yk(e,t){for(const n of t){if(!n)continue;const r=n[e];if(typeof r<"u")return r}}function __(e){let t=e._keys;return t||(t=e._keys=lz(e._scopes)),t}function lz(e){const t=new Set;for(const n of e)for(const r of Object.keys(n).filter(i=>!i.startsWith("_")))t.add(r);return Array.from(t)}const cz=Number.EPSILON||1e-14,As=(e,t)=>t<e.length&&!e[t].skip&&e[t],qk=e=>e==="x"?"y":"x";function uz(e,t,n,r){const i=e.skip?t:e,s=t,o=n.skip?t:n,a=$h(s,i),l=$h(o,s);let c=a/(a+l),d=l/(a+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const f=r*c,h=r*d;return{previous:{x:s.x-f*(o.x-i.x),y:s.y-f*(o.y-i.y)},next:{x:s.x+h*(o.x-i.x),y:s.y+h*(o.y-i.y)}}}function dz(e,t,n){const r=e.length;let i,s,o,a,l,c=As(e,0);for(let d=0;d<r-1;++d)if(l=c,c=As(e,d+1),!(!l||!c)){if(Fo(t[d],0,cz)){n[d]=n[d+1]=0;continue}i=n[d]/t[d],s=n[d+1]/t[d],a=Math.pow(i,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[d]=i*o*t[d],n[d+1]=s*o*t[d])}}function fz(e,t,n="x"){const r=qk(n),i=e.length;let s,o,a,l=As(e,0);for(let c=0;c<i;++c){if(o=a,a=l,l=As(e,c+1),!a)continue;const d=a[n],f=a[r];o&&(s=(d-o[n])/3,a[`cp1${n}`]=d-s,a[`cp1${r}`]=f-s*t[c]),l&&(s=(l[n]-d)/3,a[`cp2${n}`]=d+s,a[`cp2${r}`]=f+s*t[c])}}function hz(e,t="x"){const n=qk(t),r=e.length,i=Array(r).fill(0),s=Array(r);let o,a,l,c=As(e,0);for(o=0;o<r;++o)if(a=l,l=c,c=As(e,o+1),!!l){if(c){const d=c[t]-l[t];i[o]=d!==0?(c[n]-l[n])/d:0}s[o]=a?c?Tn(i[o-1])!==Tn(i[o])?0:(i[o-1]+i[o])/2:i[o-1]:i[o]}dz(e,i,s),fz(e,s,t)}function Cl(e,t,n){return Math.max(Math.min(e,n),t)}function pz(e,t){let n,r,i,s,o,a=va(e[0],t);for(n=0,r=e.length;n<r;++n)o=s,s=a,a=n<r-1&&va(e[n+1],t),s&&(i=e[n],o&&(i.cp1x=Cl(i.cp1x,t.left,t.right),i.cp1y=Cl(i.cp1y,t.top,t.bottom)),a&&(i.cp2x=Cl(i.cp2x,t.left,t.right),i.cp2y=Cl(i.cp2y,t.top,t.bottom)))}function mz(e,t,n,r,i){let s,o,a,l;if(t.spanGaps&&(e=e.filter(c=>!c.skip)),t.cubicInterpolationMode==="monotone")hz(e,i);else{let c=r?e[e.length-1]:e[0];for(s=0,o=e.length;s<o;++s)a=e[s],l=uz(c,a,e[Math.min(s+1,o-(r?0:1))%o],t.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,c=a}t.capBezierPoints&&pz(e,n)}function Qm(){return typeof window<"u"&&typeof document<"u"}function eg(e){let t=e.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function cu(e,t,n){let r;return typeof e=="string"?(r=parseInt(e,10),e.indexOf("%")!==-1&&(r=r/100*t.parentNode[n])):r=e,r}const Vu=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);function gz(e,t){return Vu(e).getPropertyValue(t)}const yz=["top","right","bottom","left"];function ui(e,t,n){const r={};n=n?"-"+n:"";for(let i=0;i<4;i++){const s=yz[i];r[s]=parseFloat(e[t+"-"+s+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}const vz=(e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot);function _z(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:i,offsetY:s}=r;let o=!1,a,l;if(vz(i,s,e.target))a=i,l=s;else{const c=t.getBoundingClientRect();a=r.clientX-c.left,l=r.clientY-c.top,o=!0}return{x:a,y:l,box:o}}function Yr(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,i=Vu(n),s=i.boxSizing==="border-box",o=ui(i,"padding"),a=ui(i,"border","width"),{x:l,y:c,box:d}=_z(e,n),f=o.left+(d&&a.left),h=o.top+(d&&a.top);let{width:p,height:m}=t;return s&&(p-=o.width+a.width,m-=o.height+a.height),{x:Math.round((l-f)/p*n.width/r),y:Math.round((c-h)/m*n.height/r)}}function xz(e,t,n){let r,i;if(t===void 0||n===void 0){const s=e&&eg(e);if(!s)t=e.clientWidth,n=e.clientHeight;else{const o=s.getBoundingClientRect(),a=Vu(s),l=ui(a,"border","width"),c=ui(a,"padding");t=o.width-c.width-l.width,n=o.height-c.height-l.height,r=cu(a.maxWidth,s,"clientWidth"),i=cu(a.maxHeight,s,"clientHeight")}}return{width:t,height:n,maxWidth:r||au,maxHeight:i||au}}const Tl=e=>Math.round(e*10)/10;function Sz(e,t,n,r){const i=Vu(e),s=ui(i,"margin"),o=cu(i.maxWidth,e,"clientWidth")||au,a=cu(i.maxHeight,e,"clientHeight")||au,l=xz(e,t,n);let{width:c,height:d}=l;if(i.boxSizing==="content-box"){const h=ui(i,"border","width"),p=ui(i,"padding");c-=p.width+h.width,d-=p.height+h.height}return c=Math.max(0,c-s.width),d=Math.max(0,r?c/r:d-s.height),c=Tl(Math.min(c,o,l.maxWidth)),d=Tl(Math.min(d,a,l.maxHeight)),c&&!d&&(d=Tl(c/2)),(t!==void 0||n!==void 0)&&r&&l.height&&d>l.height&&(d=l.height,c=Tl(Math.floor(d*r))),{width:c,height:d}}function x_(e,t,n){const r=t||1,i=Math.floor(e.height*r),s=Math.floor(e.width*r);e.height=Math.floor(e.height),e.width=Math.floor(e.width);const o=e.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${e.height}px`,o.style.width=`${e.width}px`),e.currentDevicePixelRatio!==r||o.height!==i||o.width!==s?(e.currentDevicePixelRatio=r,o.height=i,o.width=s,e.ctx.setTransform(r,0,0,r,0,0),!0):!1}const bz=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};Qm()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return e}();function S_(e,t){const n=gz(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function qr(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function wz(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:r==="middle"?n<.5?e.y:t.y:r==="after"?n<1?e.y:t.y:n>0?t.y:e.y}}function kz(e,t,n,r){const i={x:e.cp2x,y:e.cp2y},s={x:t.cp1x,y:t.cp1y},o=qr(e,i,n),a=qr(i,s,n),l=qr(s,t,n),c=qr(o,a,n),d=qr(a,l,n);return qr(c,d,n)}const Ez=function(e,t){return{x(n){return e+e+t-n},setWidth(n){t=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,r){return n-r},leftForLtr(n,r){return n-r}}},Cz=function(){return{x(e){return e},setWidth(e){},textAlign(e){return e},xPlus(e,t){return e+t},leftForLtr(e,t){return e}}};function hs(e,t,n){return e?Ez(t,n):Cz()}function Gk(e,t){let n,r;(t==="ltr"||t==="rtl")&&(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Kk(e,t){t!==void 0&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Xk(e){return e==="angle"?{between:ya,compare:E2,normalize:un}:{between:hr,compare:(t,n)=>t-n,normalize:t=>t}}function b_({start:e,end:t,count:n,loop:r,style:i}){return{start:e%n,end:t%n,loop:r&&(t-e+1)%n===0,style:i}}function Tz(e,t,n){const{property:r,start:i,end:s}=n,{between:o,normalize:a}=Xk(r),l=t.length;let{start:c,end:d,loop:f}=e,h,p;if(f){for(c+=l,d+=l,h=0,p=l;h<p&&o(a(t[c%l][r]),i,s);++h)c--,d--;c%=l,d%=l}return d<c&&(d+=l),{start:c,end:d,loop:f,style:e.style}}function Iz(e,t,n){if(!n)return[e];const{property:r,start:i,end:s}=n,o=t.length,{compare:a,between:l,normalize:c}=Xk(r),{start:d,end:f,loop:h,style:p}=Tz(e,t,n),m=[];let g=!1,_=null,y,v,x;const S=()=>l(i,x,y)&&a(i,x)!==0,b=()=>a(s,y)===0||l(s,x,y),k=()=>g||S(),w=()=>!g||b();for(let E=d,C=d;E<=f;++E)v=t[E%o],!v.skip&&(y=c(v[r]),y!==x&&(g=l(y,i,s),_===null&&k()&&(_=a(y,i)===0?E:C),_!==null&&w()&&(m.push(b_({start:_,end:E,loop:h,count:o,style:p})),_=null),C=E,x=y));return _!==null&&m.push(b_({start:_,end:f,loop:h,count:o,style:p})),m}function Rz(e,t){const n=[],r=e.segments;for(let i=0;i<r.length;i++){const s=Iz(r[i],e.points,t);s.length&&n.push(...s)}return n}function Mz(e,t,n,r){let i=0,s=t-1;if(n&&!r)for(;i<t&&!e[i].skip;)i++;for(;i<t&&e[i].skip;)i++;for(i%=t,n&&(s+=i);s>i&&e[s%t].skip;)s--;return s%=t,{start:i,end:s}}function Dz(e,t,n,r){const i=e.length,s=[];let o=t,a=e[t],l;for(l=t+1;l<=n;++l){const c=e[l%i];c.skip||c.stop?a.skip||(r=!1,s.push({start:t%i,end:(l-1)%i,loop:r}),t=o=c.stop?l:null):(o=l,a.skip&&(t=l)),a=c}return o!==null&&s.push({start:t%i,end:o%i,loop:r}),s}function jz(e,t){const n=e.points,r=e.options.spanGaps,i=n.length;if(!i)return[];const s=!!e._loop,{start:o,end:a}=Mz(n,i,s,r);if(r===!0)return w_(e,[{start:o,end:a,loop:s}],n,t);const l=a<o?a+i:a,c=!!e._fullLoop&&o===0&&a===i-1;return w_(e,Dz(n,o,l,c),n,t)}function w_(e,t,n,r){return!r||!r.setContext||!n?t:Az(e,t,n,r)}function Az(e,t,n,r){const i=e._chart.getContext(),s=k_(e.options),{_datasetIndex:o,options:{spanGaps:a}}=e,l=n.length,c=[];let d=s,f=t[0].start,h=f;function p(m,g,_,y){const v=a?-1:1;if(m!==g){for(m+=l;n[m%l].skip;)m-=v;for(;n[g%l].skip;)g+=v;m%l!==g%l&&(c.push({start:m%l,end:g%l,loop:_,style:y}),d=y,f=g%l)}}for(const m of t){f=a?f:m.start;let g=n[f%l],_;for(h=f+1;h<=m.end;h++){const y=n[h%l];_=k_(r.setContext(Di(i,{type:"segment",p0:g,p1:y,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o}))),Pz(_,d)&&p(f,h-1,m.loop,d),g=y,d=_}f<h-1&&p(f,h-1,m.loop,d)}return c}function k_(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Pz(e,t){if(!t)return!1;const n=[],r=function(i,s){return Vm(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Il(e,t,n){return e.options.clip?e[n]:t[n]}function Oz(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Il(n,t,"left"),right:Il(n,t,"right"),top:Il(r,t,"top"),bottom:Il(r,t,"bottom")}:t}function Nz(e,t){const n=t._clip;if(n.disabled)return!1;const r=Oz(t,e.chartArea);return{left:n.left===!1?0:r.left-(n.left===!0?0:n.left),right:n.right===!1?e.width:r.right+(n.right===!0?0:n.right),top:n.top===!1?0:r.top-(n.top===!0?0:n.top),bottom:n.bottom===!1?e.height:r.bottom+(n.bottom===!0?0:n.bottom)}}/*!
 * Chart.js v4.5.0
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class Lz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,n,r,i){const s=n.listeners[i],o=n.duration;s.forEach(a=>a({chart:t,initial:n.initial,numSteps:o,currentStep:Math.min(r-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=Fk.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let n=0;this._charts.forEach((r,i)=>{if(!r.running||!r.items.length)return;const s=r.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>r.duration&&(r.duration=l._total),l.tick(t),a=!0):(s[o]=s[s.length-1],s.pop());a&&(i.draw(),this._notify(i,r,t,"progress")),s.length||(r.running=!1,this._notify(i,r,t,"complete"),r.initial=!1),n+=s.length}),this._lastDate=t,n===0&&(this._running=!1)}_getAnims(t){const n=this._charts;let r=n.get(t);return r||(r={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(t,r)),r}listen(t,n,r){this._getAnims(t).listeners[n].push(r)}add(t,n){!n||!n.length||this._getAnims(t).items.push(...n)}has(t){return this._getAnims(t).items.length>0}start(t){const n=this._charts.get(t);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((r,i)=>Math.max(r,i._duration),0),this._refresh())}running(t){if(!this._running)return!1;const n=this._charts.get(t);return!(!n||!n.running||!n.items.length)}stop(t){const n=this._charts.get(t);if(!n||!n.items.length)return;const r=n.items;let i=r.length-1;for(;i>=0;--i)r[i].cancel();n.items=[],this._notify(t,n,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Dn=new Lz;const E_="transparent",zz={boolean(e,t,n){return n>.5?t:e},color(e,t,n){const r=p_(e||E_),i=r.valid&&p_(t||E_);return i&&i.valid?i.mix(r,n).hexString():t},number(e,t,n){return e+(t-e)*n}};class Fz{constructor(t,n,r,i){const s=n[r];i=El([t.to,i,s,t.from]);const o=El([t.from,s,i]);this._active=!0,this._fn=t.fn||zz[t.type||typeof o],this._easing=Bo[t.easing]||Bo.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=r,this._from=o,this._to=i,this._promises=void 0}active(){return this._active}update(t,n,r){if(this._active){this._notify(!1);const i=this._target[this._prop],s=r-this._start,o=this._duration-s;this._start=r,this._duration=Math.floor(Math.max(o,t.duration)),this._total+=s,this._loop=!!t.loop,this._to=El([t.to,n,i,t.from]),this._from=El([t.from,i,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const n=t-this._start,r=this._duration,i=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<r),!this._active){this._target[i]=a,this._notify(!0);return}if(n<0){this._target[i]=s;return}l=n/r%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[i]=this._fn(s,a,l)}wait(){const t=this._promises||(this._promises=[]);return new Promise((n,r)=>{t.push({res:n,rej:r})})}_notify(t){const n=t?"res":"rej",r=this._promises||[];for(let i=0;i<r.length;i++)r[i][n]()}}class Jk{constructor(t,n){this._chart=t,this._properties=new Map,this.configure(n)}configure(t){if(!ae(t))return;const n=Object.keys(Le.animation),r=this._properties;Object.getOwnPropertyNames(t).forEach(i=>{const s=t[i];if(!ae(s))return;const o={};for(const a of n)o[a]=s[a];(Ve(s.properties)&&s.properties||[i]).forEach(a=>{(a===i||!r.has(a))&&r.set(a,o)})})}_animateOptions(t,n){const r=n.options,i=$z(t,r);if(!i)return[];const s=this._createAnimations(i,r);return r.$shared&&Bz(t.options.$animations,r).then(()=>{t.options=r},()=>{}),s}_createAnimations(t,n){const r=this._properties,i=[],s=t.$animations||(t.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const c=o[l];if(c.charAt(0)==="$")continue;if(c==="options"){i.push(...this._animateOptions(t,n));continue}const d=n[c];let f=s[c];const h=r.get(c);if(f)if(h&&f.active()){f.update(h,d,a);continue}else f.cancel();if(!h||!h.duration){t[c]=d;continue}s[c]=f=new Fz(h,t,c,d),i.push(f)}return i}update(t,n){if(this._properties.size===0){Object.assign(t,n);return}const r=this._createAnimations(t,n);if(r.length)return Dn.add(this._chart,r),!0}}function Bz(e,t){const n=[],r=Object.keys(t);for(let i=0;i<r.length;i++){const s=e[r[i]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function $z(e,t){if(!t)return;let n=e.options;if(!n){e.options=t;return}return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function C_(e,t){const n=e&&e.options||{},r=n.reverse,i=n.min===void 0?t:0,s=n.max===void 0?t:0;return{start:r?s:i,end:r?i:s}}function Wz(e,t,n){if(n===!1)return!1;const r=C_(e,n),i=C_(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function Uz(e){let t,n,r,i;return ae(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:e===!1}}function Qk(e,t){const n=[],r=e._getSortedDatasetMetas(t);let i,s;for(i=0,s=r.length;i<s;++i)n.push(r[i].index);return n}function T_(e,t,n,r={}){const i=e.keys,s=r.mode==="single";let o,a,l,c;if(t===null)return;let d=!1;for(o=0,a=i.length;o<a;++o){if(l=+i[o],l===n){if(d=!0,r.all)continue;break}c=e.values[l],Qt(c)&&(s||t===0||Tn(t)===Tn(c))&&(t+=c)}return!d&&!r.all?0:t}function Hz(e,t){const{iScale:n,vScale:r}=t,i=n.axis==="x"?"x":"y",s=r.axis==="x"?"x":"y",o=Object.keys(e),a=new Array(o.length);let l,c,d;for(l=0,c=o.length;l<c;++l)d=o[l],a[l]={[i]:d,[s]:e[d]};return a}function rf(e,t){const n=e&&e.options.stacked;return n||n===void 0&&t.stack!==void 0}function Vz(e,t,n){return`${e.id}.${t.id}.${n.stack||n.type}`}function Zz(e){const{min:t,max:n,minDefined:r,maxDefined:i}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:i?n:Number.POSITIVE_INFINITY}}function Yz(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function I_(e,t,n,r){for(const i of t.getMatchingVisibleMetas(r).reverse()){const s=e[i.index];if(n&&s>0||!n&&s<0)return i.index}return null}function R_(e,t){const{chart:n,_cachedMeta:r}=e,i=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=r,l=s.axis,c=o.axis,d=Vz(s,o,r),f=t.length;let h;for(let p=0;p<f;++p){const m=t[p],{[l]:g,[c]:_}=m,y=m._stacks||(m._stacks={});h=y[c]=Yz(i,d,g),h[a]=_,h._top=I_(h,o,!0,r.type),h._bottom=I_(h,o,!1,r.type);const v=h._visualValues||(h._visualValues={});v[a]=_}}function sf(e,t){const n=e.scales;return Object.keys(n).filter(r=>n[r].axis===t).shift()}function qz(e,t){return Di(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Gz(e,t,n){return Di(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function so(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const i of t){const s=i._stacks;if(!s||s[r]===void 0||s[r][n]===void 0)return;delete s[r][n],s[r]._visualValues!==void 0&&s[r]._visualValues[n]!==void 0&&delete s[r]._visualValues[n]}}}const of=e=>e==="reset"||e==="none",M_=(e,t)=>t?e:Object.assign({},e),Kz=(e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:Qk(n,!0),values:null};class di{constructor(t,n){this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=rf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&so(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,n=this._cachedMeta,r=this.getDataset(),i=(f,h,p,m)=>f==="x"?h:f==="r"?m:p,s=n.xAxisID=Q(r.xAxisID,sf(t,"x")),o=n.yAxisID=Q(r.yAxisID,sf(t,"y")),a=n.rAxisID=Q(r.rAxisID,sf(t,"r")),l=n.indexAxis,c=n.iAxisID=i(l,s,o,a),d=n.vAxisID=i(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(c),n.vScale=this.getScaleForId(d)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const n=this._cachedMeta;return t===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&d_(this._data,this),t._stacked&&so(t)}_dataCheck(){const t=this.getDataset(),n=t.data||(t.data=[]),r=this._data;if(ae(n)){const i=this._cachedMeta;this._data=Hz(n,i)}else if(r!==n){if(r){d_(r,this);const i=this._cachedMeta;so(i),i._parsed=[]}n&&Object.isExtensible(n)&&R2(n,this),this._syncList=[],this._data=n}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const n=this._cachedMeta,r=this.getDataset();let i=!1;this._dataCheck();const s=n._stacked;n._stacked=rf(n.vScale,n),n.stack!==r.stack&&(i=!0,so(n),n.stack=r.stack),this._resyncElements(t),(i||s!==n._stacked)&&(R_(this,n._parsed),n._stacked=rf(n.vScale,n))}configure(){const t=this.chart.config,n=t.datasetScopeKeys(this._type),r=t.getOptionScopes(this.getDataset(),n,!0);this.options=t.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,n){const{_cachedMeta:r,_data:i}=this,{iScale:s,_stacked:o}=r,a=s.axis;let l=t===0&&n===i.length?!0:r._sorted,c=t>0&&r._parsed[t-1],d,f,h;if(this._parsing===!1)r._parsed=i,r._sorted=!0,h=i;else{Ve(i[t])?h=this.parseArrayData(r,i,t,n):ae(i[t])?h=this.parseObjectData(r,i,t,n):h=this.parsePrimitiveData(r,i,t,n);const p=()=>f[a]===null||c&&f[a]<c[a];for(d=0;d<n;++d)r._parsed[d+t]=f=h[d],l&&(p()&&(l=!1),c=f);r._sorted=l}o&&R_(this,h)}parsePrimitiveData(t,n,r,i){const{iScale:s,vScale:o}=t,a=s.axis,l=o.axis,c=s.getLabels(),d=s===o,f=new Array(i);let h,p,m;for(h=0,p=i;h<p;++h)m=h+r,f[h]={[a]:d||s.parse(c[m],m),[l]:o.parse(n[m],m)};return f}parseArrayData(t,n,r,i){const{xScale:s,yScale:o}=t,a=new Array(i);let l,c,d,f;for(l=0,c=i;l<c;++l)d=l+r,f=n[d],a[l]={x:s.parse(f[0],d),y:o.parse(f[1],d)};return a}parseObjectData(t,n,r,i){const{xScale:s,yScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=new Array(i);let d,f,h,p;for(d=0,f=i;d<f;++d)h=d+r,p=n[h],c[d]={x:s.parse(xi(p,a),h),y:o.parse(xi(p,l),h)};return c}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,n,r){const i=this.chart,s=this._cachedMeta,o=n[t.axis],a={keys:Qk(i,!0),values:n._stacks[t.axis]._visualValues};return T_(a,o,s.index,{mode:r})}updateRangeFromParsed(t,n,r,i){const s=r[n.axis];let o=s===null?NaN:s;const a=i&&r._stacks[n.axis];i&&a&&(i.values=a,o=T_(i,s,this._cachedMeta.index)),t.min=Math.min(t.min,o),t.max=Math.max(t.max,o)}getMinMax(t,n){const r=this._cachedMeta,i=r._parsed,s=r._sorted&&t===r.iScale,o=i.length,a=this._getOtherScale(t),l=Kz(n,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:d,max:f}=Zz(a);let h,p;function m(){p=i[h];const g=p[a.axis];return!Qt(p[t.axis])||d>g||f<g}for(h=0;h<o&&!(!m()&&(this.updateRangeFromParsed(c,t,p,l),s));++h);if(s){for(h=o-1;h>=0;--h)if(!m()){this.updateRangeFromParsed(c,t,p,l);break}}return c}getAllParsedValues(t){const n=this._cachedMeta._parsed,r=[];let i,s,o;for(i=0,s=n.length;i<s;++i)o=n[i][t.axis],Qt(o)&&r.push(o);return r}getMaxOverflow(){return!1}getLabelAndValue(t){const n=this._cachedMeta,r=n.iScale,i=n.vScale,s=this.getParsed(t);return{label:r?""+r.getLabelForValue(s[r.axis]):"",value:i?""+i.getLabelForValue(s[i.axis]):""}}_update(t){const n=this._cachedMeta;this.update(t||"default"),n._clip=Uz(Q(this.options.clip,Wz(n.xScale,n.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,n=this.chart,r=this._cachedMeta,i=r.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||i.length-a,c=this.options.drawActiveElementsOnTop;let d;for(r.dataset&&r.dataset.draw(t,s,a,l),d=a;d<a+l;++d){const f=i[d];f.hidden||(f.active&&c?o.push(f):f.draw(t,s))}for(d=0;d<o.length;++d)o[d].draw(t,s)}getStyle(t,n){const r=n?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(t||0,r)}getContext(t,n,r){const i=this.getDataset();let s;if(t>=0&&t<this._cachedMeta.data.length){const o=this._cachedMeta.data[t];s=o.$context||(o.$context=Gz(this.getContext(),t,o)),s.parsed=this.getParsed(t),s.raw=i.data[t],s.index=s.dataIndex=t}else s=this.$context||(this.$context=qz(this.chart.getContext(),this.index)),s.dataset=i,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=r,s}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,n){return this._resolveElementOptions(this.dataElementType.id,n,t)}_resolveElementOptions(t,n="default",r){const i=n==="active",s=this._cachedDataOpts,o=t+"-"+n,a=s[o],l=this.enableOptionSharing&&ma(r);if(a)return M_(a,l);const c=this.chart.config,d=c.datasetElementScopeKeys(this._type,t),f=i?[`${t}Hover`,"hover",t,""]:[t,""],h=c.getOptionScopes(this.getDataset(),d),p=Object.keys(Le.elements[t]),m=()=>this.getContext(r,i,n),g=c.resolveNamedOptions(h,p,m,f);return g.$shared&&(g.$shared=l,s[o]=Object.freeze(M_(g,l))),g}_resolveAnimations(t,n,r){const i=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(i.options.animation!==!1){const d=this.chart.config,f=d.datasetAnimationScopeKeys(this._type,n),h=d.getOptionScopes(this.getDataset(),f);l=d.createResolver(h,this.getContext(t,r,n))}const c=new Jk(i,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(c)),c}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,n){return!n||of(t)||this.chart._animationsDisabled}_getSharedOptions(t,n){const r=this.resolveDataElementOptions(t,n),i=this._sharedOptions,s=this.getSharedOptions(r),o=this.includeOptions(n,s)||s!==i;return this.updateSharedOptions(s,n,r),{sharedOptions:s,includeOptions:o}}updateElement(t,n,r,i){of(i)?Object.assign(t,r):this._resolveAnimations(n,i).update(t,r)}updateSharedOptions(t,n,r){t&&!of(n)&&this._resolveAnimations(void 0,n).update(t,r)}_setStyle(t,n,r,i){t.active=i;const s=this.getStyle(n,i);this._resolveAnimations(n,r,i).update(t,{options:!i&&this.getSharedOptions(s)||s})}removeHoverStyle(t,n,r){this._setStyle(t,r,"active",!1)}setHoverStyle(t,n,r){this._setStyle(t,r,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const n=this._data,r=this._cachedMeta.data;for(const[a,l,c]of this._syncList)this[a](l,c);this._syncList=[];const i=r.length,s=n.length,o=Math.min(s,i);o&&this.parse(0,o),s>i?this._insertElements(i,s-i,t):s<i&&this._removeElements(s,i-s)}_insertElements(t,n,r=!0){const i=this._cachedMeta,s=i.data,o=t+n;let a;const l=c=>{for(c.length+=n,a=c.length-1;a>=o;a--)c[a]=c[a-n]};for(l(s),a=t;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(i._parsed),this.parse(t,n),r&&this.updateElements(s,t,n,"reset")}updateElements(t,n,r,i){}_removeElements(t,n){const r=this._cachedMeta;if(this._parsing){const i=r._parsed.splice(t,n);r._stacked&&so(r,i)}r.data.splice(t,n)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[n,r,i]=t;this[n](r,i)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,n){n&&this._sync(["_removeElements",t,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",t,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}W(di,"defaults",{}),W(di,"datasetElementType",null),W(di,"dataElementType",null);function Xz(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let i=0,s=n.length;i<s;i++)r=r.concat(n[i].controller.getAllParsedValues(e));e._cache.$bar=zk(r.sort((i,s)=>i-s))}return e._cache.$bar}function Jz(e){const t=e.iScale,n=Xz(t,e.type);let r=t._length,i,s,o,a;const l=()=>{o===32767||o===-32768||(ma(a)&&(r=Math.min(r,Math.abs(o-a)||r)),a=o)};for(i=0,s=n.length;i<s;++i)o=t.getPixelForValue(n[i]),l();for(a=void 0,i=0,s=t.ticks.length;i<s;++i)o=t.getPixelForTick(i),l();return r}function Qz(e,t,n,r){const i=n.barThickness;let s,o;return de(i)?(s=t.min*n.categoryPercentage,o=n.barPercentage):(s=i*r,o=1),{chunk:s/r,ratio:o,start:t.pixels[e]-s/2}}function e5(e,t,n,r){const i=t.pixels,s=i[e];let o=e>0?i[e-1]:null,a=e<i.length-1?i[e+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?t.end-t.start:a-s)),a===null&&(a=s+s-o);const c=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/r,ratio:n.barPercentage,start:c}}function t5(e,t,n,r){const i=n.parse(e[0],r),s=n.parse(e[1],r),o=Math.min(i,s),a=Math.max(i,s);let l=o,c=a;Math.abs(o)>Math.abs(a)&&(l=a,c=o),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:i,end:s,min:o,max:a}}function e1(e,t,n,r){return Ve(e)?t5(e,t,n,r):t[n.axis]=n.parse(e,r),t}function D_(e,t,n,r){const i=e.iScale,s=e.vScale,o=i.getLabels(),a=i===s,l=[];let c,d,f,h;for(c=n,d=n+r;c<d;++c)h=t[c],f={},f[i.axis]=a||i.parse(o[c],c),l.push(e1(h,f,s,c));return l}function af(e){return e&&e.barStart!==void 0&&e.barEnd!==void 0}function n5(e,t,n){return e!==0?Tn(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function r5(e){let t,n,r,i,s;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",s="start"):(i="start",s="end"),{start:n,end:r,reverse:t,top:i,bottom:s}}function i5(e,t,n,r){let i=t.borderSkipped;const s={};if(!i){e.borderSkipped=s;return}if(i===!0){e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:c,bottom:d}=r5(e);i==="middle"&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=c:(n._bottom||0)===r?i=d:(s[j_(d,o,a,l)]=!0,i=c)),s[j_(i,o,a,l)]=!0,e.borderSkipped=s}function j_(e,t,n,r){return r?(e=s5(e,t,n),e=A_(e,n,t)):e=A_(e,t,n),e}function s5(e,t,n){return e===t?n:e===n?t:e}function A_(e,t,n){return e==="start"?t:e==="end"?n:e}function o5(e,{inflateAmount:t},n){e.inflateAmount=t==="auto"?n===1?.33:0:t}class cc extends di{parsePrimitiveData(t,n,r,i){return D_(t,n,r,i)}parseArrayData(t,n,r,i){return D_(t,n,r,i)}parseObjectData(t,n,r,i){const{iScale:s,vScale:o}=t,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,c=s.axis==="x"?a:l,d=o.axis==="x"?a:l,f=[];let h,p,m,g;for(h=r,p=r+i;h<p;++h)g=n[h],m={},m[s.axis]=s.parse(xi(g,c),h),f.push(e1(xi(g,d),m,o,h));return f}updateRangeFromParsed(t,n,r,i){super.updateRangeFromParsed(t,n,r,i);const s=r._custom;s&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,s.min),t.max=Math.max(t.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const n=this._cachedMeta,{iScale:r,vScale:i}=n,s=this.getParsed(t),o=s._custom,a=af(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(s[i.axis]);return{label:""+r.getLabelForValue(s[r.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,t)}updateElements(t,n,r,i){const s=i==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),c=a.isHorizontal(),d=this._getRuler(),{sharedOptions:f,includeOptions:h}=this._getSharedOptions(n,i);for(let p=n;p<n+r;p++){const m=this.getParsed(p),g=s||de(m[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(p),_=this._calculateBarIndexPixels(p,d),y=(m._stacks||{})[a.axis],v={horizontal:c,base:g.base,enableBorderRadius:!y||af(m._custom)||o===y._top||o===y._bottom,x:c?g.head:_.center,y:c?_.center:g.head,height:c?_.size:Math.abs(g.size),width:c?Math.abs(g.size):_.size};h&&(v.options=f||this.resolveDataElementOptions(p,t[p].active?"active":i));const x=v.options||t[p].options;i5(v,x,y,o),o5(v,x,d.ratio),this.updateElement(t[p],p,v,i)}}_getStacks(t,n){const{iScale:r}=this._cachedMeta,i=r.getMatchingVisibleMetas(this._type).filter(d=>d.controller.options.grouped),s=r.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[r.axis],c=d=>{const f=d._parsed.find(p=>p[r.axis]===l),h=f&&f[d.vScale.axis];if(de(h)||isNaN(h))return!0};for(const d of i)if(!(n!==void 0&&c(d))&&((s===!1||o.indexOf(d.stack)===-1||s===void 0&&d.stack===void 0)&&o.push(d.stack),d.index===t))break;return o.length||o.push(void 0),o}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,n=this.chart.options.indexAxis;return Object.keys(t).filter(r=>t[r].axis===n).shift()}_getAxis(){const t={},n=this.getFirstScaleIdForIndexAxis();for(const r of this.chart.data.datasets)t[Q(this.chart.options.indexAxis==="x"?r.xAxisID:r.yAxisID,n)]=!0;return Object.keys(t)}_getStackIndex(t,n,r){const i=this._getStacks(t,r),s=n!==void 0?i.indexOf(n):-1;return s===-1?i.length-1:s}_getRuler(){const t=this.options,n=this._cachedMeta,r=n.iScale,i=[];let s,o;for(s=0,o=n.data.length;s<o;++s)i.push(r.getPixelForValue(this.getParsed(s)[r.axis],s));const a=t.barThickness;return{min:a||Jz(n),pixels:i,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:t.grouped,ratio:a?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:n,_stacked:r,index:i},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(t),c=l._custom,d=af(c);let f=l[n.axis],h=0,p=r?this.applyStack(n,l,r):f,m,g;p!==f&&(h=p-f,p=f),d&&(f=c.barStart,p=c.barEnd-c.barStart,f!==0&&Tn(f)!==Tn(c.barEnd)&&(h=0),h+=f);const _=!de(s)&&!d?s:h;let y=n.getPixelForValue(_);if(this.chart.getDataVisibility(t)?m=n.getPixelForValue(h+p):m=y,g=m-y,Math.abs(g)<o){g=n5(g,n,a)*o,f===a&&(y-=g/2);const v=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),S=Math.min(v,x),b=Math.max(v,x);y=Math.max(Math.min(y,b),S),m=y+g,r&&!d&&(l._stacks[n.axis]._visualValues[i]=n.getValueForPixel(m)-n.getValueForPixel(y))}if(y===n.getPixelForValue(a)){const v=Tn(g)*n.getLineWidthForValue(a)/2;y+=v,g-=v}return{size:g,base:y,head:m,center:m+g/2}}_calculateBarIndexPixels(t,n){const r=n.scale,i=this.options,s=i.skipNull,o=Q(i.maxBarThickness,1/0);let a,l;const c=this._getAxisCount();if(n.grouped){const d=s?this._getStackCount(t):n.stackCount,f=i.barThickness==="flex"?e5(t,n,i,d*c):Qz(t,n,i,d*c),h=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,p=this._getAxis().indexOf(Q(h,this.getFirstScaleIdForIndexAxis())),m=this._getStackIndex(this.index,this._cachedMeta.stack,s?t:void 0)+p;a=f.start+f.chunk*m+f.chunk/2,l=Math.min(o,f.chunk*f.ratio)}else a=r.getPixelForValue(this.getParsed(t)[r.axis],t),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const t=this._cachedMeta,n=t.vScale,r=t.data,i=r.length;let s=0;for(;s<i;++s)this.getParsed(s)[n.axis]!==null&&!r[s].hidden&&r[s].draw(this._ctx)}}W(cc,"id","bar"),W(cc,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),W(cc,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function a5(e,t,n){let r=1,i=1,s=0,o=0;if(t<Ae){const a=e,l=a+t,c=Math.cos(a),d=Math.sin(a),f=Math.cos(l),h=Math.sin(l),p=(x,S,b)=>ya(x,a,l,!0)?1:Math.max(S,S*n,b,b*n),m=(x,S,b)=>ya(x,a,l,!0)?-1:Math.min(S,S*n,b,b*n),g=p(0,c,f),_=p(Ye,d,h),y=m(me,c,f),v=m(me+Ye,d,h);r=(g-y)/2,i=(_-v)/2,s=-(g+y)/2,o=-(_+v)/2}return{ratioX:r,ratioY:i,offsetX:s,offsetY:o}}class vo extends di{constructor(t,n){super(t,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,n){const r=this.getDataset().data,i=this._cachedMeta;if(this._parsing===!1)i._parsed=r;else{let s=l=>+r[l];if(ae(r[t])){const{key:l="value"}=this._parsing;s=c=>+xi(r[c],l)}let o,a;for(o=t,a=t+n;o<a;++o)i._parsed[o]=s(o)}}_getRotation(){return zn(this.options.rotation-90)}_getCircumference(){return zn(this.options.circumference)}_getRotationExtents(){let t=Ae,n=-Ae;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)&&this.chart.getDatasetMeta(r).type===this._type){const i=this.chart.getDatasetMeta(r).controller,s=i._getRotation(),o=i._getCircumference();t=Math.min(t,s),n=Math.max(n,s+o)}return{rotation:t,circumference:n-t}}update(t){const n=this.chart,{chartArea:r}=n,i=this._cachedMeta,s=i.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(r.width,r.height)-o)/2,0),l=Math.min(f2(this.options.cutout,a),1),c=this._getRingWeight(this.index),{circumference:d,rotation:f}=this._getRotationExtents(),{ratioX:h,ratioY:p,offsetX:m,offsetY:g}=a5(f,d,l),_=(r.width-o)/h,y=(r.height-o)/p,v=Math.max(Math.min(_,y)/2,0),x=Ak(this.options.radius,v),S=Math.max(x*l,0),b=(x-S)/this._getVisibleDatasetWeightTotal();this.offsetX=m*x,this.offsetY=g*x,i.total=this.calculateTotal(),this.outerRadius=x-b*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-b*c,0),this.updateElements(s,0,s.length,t)}_circumference(t,n){const r=this.options,i=this._cachedMeta,s=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(t)||i._parsed[t]===null||i.data[t].hidden?0:this.calculateCircumference(i._parsed[t]*s/Ae)}updateElements(t,n,r,i){const s=i==="reset",o=this.chart,a=o.chartArea,c=o.options.animation,d=(a.left+a.right)/2,f=(a.top+a.bottom)/2,h=s&&c.animateScale,p=h?0:this.innerRadius,m=h?0:this.outerRadius,{sharedOptions:g,includeOptions:_}=this._getSharedOptions(n,i);let y=this._getRotation(),v;for(v=0;v<n;++v)y+=this._circumference(v,s);for(v=n;v<n+r;++v){const x=this._circumference(v,s),S=t[v],b={x:d+this.offsetX,y:f+this.offsetY,startAngle:y,endAngle:y+x,circumference:x,outerRadius:m,innerRadius:p};_&&(b.options=g||this.resolveDataElementOptions(v,S.active?"active":i)),y+=x,this.updateElement(S,v,b,i)}}calculateTotal(){const t=this._cachedMeta,n=t.data;let r=0,i;for(i=0;i<n.length;i++){const s=t._parsed[i];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(i)&&!n[i].hidden&&(r+=Math.abs(s))}return r}calculateCircumference(t){const n=this._cachedMeta.total;return n>0&&!isNaN(t)?Ae*(Math.abs(t)/n):0}getLabelAndValue(t){const n=this._cachedMeta,r=this.chart,i=r.data.labels||[],s=Zm(n._parsed[t],r.options.locale);return{label:i[t]||"",value:s}}getMaxBorderWidth(t){let n=0;const r=this.chart;let i,s,o,a,l;if(!t){for(i=0,s=r.data.datasets.length;i<s;++i)if(r.isDatasetVisible(i)){o=r.getDatasetMeta(i),t=o.data,a=o.controller;break}}if(!t)return 0;for(i=0,s=t.length;i<s;++i)l=a.resolveDataElementOptions(i),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(t){let n=0;for(let r=0,i=t.length;r<i;++r){const s=this.resolveDataElementOptions(r);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(t){let n=0;for(let r=0;r<t;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(t){return Math.max(Q(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}W(vo,"id","doughnut"),W(vo,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),W(vo,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),W(vo,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const n=t.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:r,color:i}}=t.legend.options;return n.labels.map((s,o)=>{const l=t.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:i,lineWidth:l.borderWidth,pointStyle:r,hidden:!t.getDataVisibility(o),index:o}})}return[]}},onClick(t,n,r){r.chart.toggleDataVisibility(n.index),r.chart.update()}}}});class uc extends di{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const n=this._cachedMeta,{dataset:r,data:i=[],_dataset:s}=n,o=this.chart._animationsDisabled;let{start:a,count:l}=j2(n,i,o);this._drawStart=a,this._drawCount=l,A2(n)&&(a=0,l=i.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!s._decimated,r.points=i;const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(r,void 0,{animated:!o,options:c},t),this.updateElements(i,a,l,t)}updateElements(t,n,r,i){const s=i==="reset",{iScale:o,vScale:a,_stacked:l,_dataset:c}=this._cachedMeta,{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,i),h=o.axis,p=a.axis,{spanGaps:m,segment:g}=this.options,_=ga(m)?m:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||s||i==="none",v=n+r,x=t.length;let S=n>0&&this.getParsed(n-1);for(let b=0;b<x;++b){const k=t[b],w=y?k:{};if(b<n||b>=v){w.skip=!0;continue}const E=this.getParsed(b),C=de(E[p]),T=w[h]=o.getPixelForValue(E[h],b),I=w[p]=s||C?a.getBasePixel():a.getPixelForValue(l?this.applyStack(a,E,l):E[p],b);w.skip=isNaN(T)||isNaN(I)||C,w.stop=b>0&&Math.abs(E[h]-S[h])>_,g&&(w.parsed=E,w.raw=c.data[b]),f&&(w.options=d||this.resolveDataElementOptions(b,k.active?"active":i)),y||this.updateElement(k,b,w,i),S=E}}getMaxOverflow(){const t=this._cachedMeta,n=t.dataset,r=n.options&&n.options.borderWidth||0,i=t.data||[];if(!i.length)return r;const s=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(r,s,o)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}W(uc,"id","line"),W(uc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),W(uc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});function Hr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class tg{constructor(t){W(this,"options");this.options=t||{}}static override(t){Object.assign(tg.prototype,t)}init(){}formats(){return Hr()}parse(){return Hr()}format(){return Hr()}add(){return Hr()}diff(){return Hr()}startOf(){return Hr()}endOf(){return Hr()}}var l5={_date:tg};function c5(e,t,n,r){const{controller:i,data:s,_sorted:o}=e,a=i._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(a&&t===a.axis&&t!=="r"&&o&&s.length){const c=a._reversePixels?T2:ti;if(r){if(i._sharedOptions){const d=s[0],f=typeof d.getRange=="function"&&d.getRange(t);if(f){const h=c(s,t,n-f),p=c(s,t,n+f);return{lo:h.lo,hi:p.hi}}}}else{const d=c(s,t,n);if(l){const{vScale:f}=i._cachedMeta,{_parsed:h}=e,p=h.slice(0,d.lo+1).reverse().findIndex(g=>!de(g[f.axis]));d.lo-=Math.max(0,p);const m=h.slice(d.hi).findIndex(g=>!de(g[f.axis]));d.hi+=Math.max(0,m)}return d}}return{lo:0,hi:s.length-1}}function Zu(e,t,n,r,i){const s=e.getSortedVisibleDatasetMetas(),o=n[t];for(let a=0,l=s.length;a<l;++a){const{index:c,data:d}=s[a],{lo:f,hi:h}=c5(s[a],t,o,i);for(let p=f;p<=h;++p){const m=d[p];m.skip||r(m,c,p)}}}function u5(e){const t=e.indexOf("x")!==-1,n=e.indexOf("y")!==-1;return function(r,i){const s=t?Math.abs(r.x-i.x):0,o=n?Math.abs(r.y-i.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function lf(e,t,n,r,i){const s=[];return!i&&!e.isPointInArea(t)||Zu(e,n,t,function(a,l,c){!i&&!va(a,e.chartArea,0)||a.inRange(t.x,t.y,r)&&s.push({element:a,datasetIndex:l,index:c})},!0),s}function d5(e,t,n,r){let i=[];function s(o,a,l){const{startAngle:c,endAngle:d}=o.getProps(["startAngle","endAngle"],r),{angle:f}=Nk(o,{x:t.x,y:t.y});ya(f,c,d)&&i.push({element:o,datasetIndex:a,index:l})}return Zu(e,n,t,s),i}function f5(e,t,n,r,i,s){let o=[];const a=u5(n);let l=Number.POSITIVE_INFINITY;function c(d,f,h){const p=d.inRange(t.x,t.y,i);if(r&&!p)return;const m=d.getCenterPoint(i);if(!(!!s||e.isPointInArea(m))&&!p)return;const _=a(t,m);_<l?(o=[{element:d,datasetIndex:f,index:h}],l=_):_===l&&o.push({element:d,datasetIndex:f,index:h})}return Zu(e,n,t,c),o}function cf(e,t,n,r,i,s){return!s&&!e.isPointInArea(t)?[]:n==="r"&&!r?d5(e,t,n,i):f5(e,t,n,r,i,s)}function P_(e,t,n,r,i){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Zu(e,n,t,(l,c,d)=>{l[o]&&l[o](t[n],i)&&(s.push({element:l,datasetIndex:c,index:d}),a=a||l.inRange(t.x,t.y,i))}),r&&!a?[]:s}var h5={modes:{index(e,t,n,r){const i=Yr(t,e),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?lf(e,i,s,r,o):cf(e,i,s,!1,r,o),l=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach(c=>{const d=a[0].index,f=c.data[d];f&&!f.skip&&l.push({element:f,datasetIndex:c.index,index:d})}),l):[]},dataset(e,t,n,r){const i=Yr(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?lf(e,i,s,r,o):cf(e,i,s,!1,r,o);if(a.length>0){const l=a[0].datasetIndex,c=e.getDatasetMeta(l).data;a=[];for(let d=0;d<c.length;++d)a.push({element:c[d],datasetIndex:l,index:d})}return a},point(e,t,n,r){const i=Yr(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return lf(e,i,s,r,o)},nearest(e,t,n,r){const i=Yr(t,e),s=n.axis||"xy",o=n.includeInvisible||!1;return cf(e,i,s,n.intersect,r,o)},x(e,t,n,r){const i=Yr(t,e);return P_(e,i,"x",n.intersect,r)},y(e,t,n,r){const i=Yr(t,e);return P_(e,i,"y",n.intersect,r)}}};const t1=["left","top","right","bottom"];function oo(e,t){return e.filter(n=>n.pos===t)}function O_(e,t){return e.filter(n=>t1.indexOf(n.pos)===-1&&n.box.axis===t)}function ao(e,t){return e.sort((n,r)=>{const i=t?r:n,s=t?n:r;return i.weight===s.weight?i.index-s.index:i.weight-s.weight})}function p5(e){const t=[];let n,r,i,s,o,a;for(n=0,r=(e||[]).length;n<r;++n)i=e[n],{position:s,options:{stack:o,stackWeight:a=1}}=i,t.push({index:n,box:i,pos:s,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&s+o,stackWeight:a});return t}function m5(e){const t={};for(const n of e){const{stack:r,pos:i,stackWeight:s}=n;if(!r||!t1.includes(i))continue;const o=t[r]||(t[r]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return t}function g5(e,t){const n=m5(e),{vBoxMaxWidth:r,hBoxMaxHeight:i}=t;let s,o,a;for(s=0,o=e.length;s<o;++s){a=e[s];const{fullSize:l}=a.box,c=n[a.stack],d=c&&a.stackWeight/c.weight;a.horizontal?(a.width=d?d*r:l&&t.availableWidth,a.height=i):(a.width=r,a.height=d?d*i:l&&t.availableHeight)}return n}function y5(e){const t=p5(e),n=ao(t.filter(c=>c.box.fullSize),!0),r=ao(oo(t,"left"),!0),i=ao(oo(t,"right")),s=ao(oo(t,"top"),!0),o=ao(oo(t,"bottom")),a=O_(t,"x"),l=O_(t,"y");return{fullSize:n,leftAndTop:r.concat(s),rightAndBottom:i.concat(l).concat(o).concat(a),chartArea:oo(t,"chartArea"),vertical:r.concat(i).concat(l),horizontal:s.concat(o).concat(a)}}function N_(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function n1(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function v5(e,t,n,r){const{pos:i,box:s}=n,o=e.maxPadding;if(!ae(i)){n.size&&(e[i]-=n.size);const f=r[n.stack]||{size:0,count:1};f.size=Math.max(f.size,n.horizontal?s.height:s.width),n.size=f.size/f.count,e[i]+=n.size}s.getPadding&&n1(o,s.getPadding());const a=Math.max(0,t.outerWidth-N_(o,e,"left","right")),l=Math.max(0,t.outerHeight-N_(o,e,"top","bottom")),c=a!==e.w,d=l!==e.h;return e.w=a,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function _5(e){const t=e.maxPadding;function n(r){const i=Math.max(t[r]-e[r],0);return e[r]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function x5(e,t){const n=t.maxPadding;function r(i){const s={left:0,top:0,right:0,bottom:0};return i.forEach(o=>{s[o]=Math.max(t[o],n[o])}),s}return r(e?["left","right"]:["top","bottom"])}function _o(e,t,n,r){const i=[];let s,o,a,l,c,d;for(s=0,o=e.length,c=0;s<o;++s){a=e[s],l=a.box,l.update(a.width||t.w,a.height||t.h,x5(a.horizontal,t));const{same:f,other:h}=v5(t,n,a,r);c|=f&&i.length,d=d||h,l.fullSize||i.push(a)}return c&&_o(i,t,n,r)||d}function Rl(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function L_(e,t,n,r){const i=n.padding;let{x:s,y:o}=t;for(const a of e){const l=a.box,c=r[a.stack]||{placed:0,weight:1},d=a.stackWeight/c.weight||1;if(a.horizontal){const f=t.w*d,h=c.size||l.height;ma(c.start)&&(o=c.start),l.fullSize?Rl(l,i.left,o,n.outerWidth-i.right-i.left,h):Rl(l,t.left+c.placed,o,f,h),c.start=o,c.placed+=f,o=l.bottom}else{const f=t.h*d,h=c.size||l.width;ma(c.start)&&(s=c.start),l.fullSize?Rl(l,s,i.top,h,n.outerHeight-i.bottom-i.top):Rl(l,s,t.top+c.placed,h,f),c.start=s,c.placed+=f,s=l.right}}t.x=s,t.y=o}var Yt={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(n){t.draw(n)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;n!==-1&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const i=en(e.options.layout.padding),s=Math.max(t-i.width,0),o=Math.max(n-i.height,0),a=y5(e.boxes),l=a.vertical,c=a.horizontal;pe(e.boxes,g=>{typeof g.beforeLayout=="function"&&g.beforeLayout()});const d=l.reduce((g,_)=>_.box.options&&_.box.options.display===!1?g:g+1,0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/d,hBoxMaxHeight:o/2}),h=Object.assign({},i);n1(h,en(r));const p=Object.assign({maxPadding:h,w:s,h:o,x:i.left,y:i.top},i),m=g5(l.concat(c),f);_o(a.fullSize,p,f,m),_o(l,p,f,m),_o(c,p,f,m)&&_o(l,p,f,m),_5(p),L_(a.leftAndTop,p,f,m),p.x+=p.w,p.y+=p.h,L_(a.rightAndBottom,p,f,m),e.chartArea={left:p.left,top:p.top,right:p.left+p.w,bottom:p.top+p.h,height:p.h,width:p.w},pe(a.chartArea,g=>{const _=g.box;Object.assign(_,e.chartArea),_.update(p.w,p.h,{left:0,top:0,right:0,bottom:0})})}};class r1{acquireContext(t,n){}releaseContext(t){return!1}addEventListener(t,n,r){}removeEventListener(t,n,r){}getDevicePixelRatio(){return 1}getMaximumSize(t,n,r,i){return n=Math.max(0,n||t.width),r=r||t.height,{width:n,height:Math.max(0,i?Math.floor(n/i):r)}}isAttached(t){return!0}updateConfig(t){}}class S5 extends r1{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const dc="$chartjs",b5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},z_=e=>e===null||e==="";function w5(e,t){const n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[dc]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",z_(i)){const s=S_(e,"width");s!==void 0&&(e.width=s)}if(z_(r))if(e.style.height==="")e.height=e.width/(t||2);else{const s=S_(e,"height");s!==void 0&&(e.height=s)}return e}const i1=bz?{passive:!0}:!1;function k5(e,t,n){e&&e.addEventListener(t,n,i1)}function E5(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,i1)}function C5(e,t){const n=b5[e.type]||e.type,{x:r,y:i}=Yr(e,t);return{type:n,chart:t,native:e,x:r!==void 0?r:null,y:i!==void 0?i:null}}function uu(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function T5(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||uu(a.addedNodes,r),o=o&&!uu(a.removedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}function I5(e,t,n){const r=e.canvas,i=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||uu(a.removedNodes,r),o=o&&!uu(a.addedNodes,r);o&&n()});return i.observe(document,{childList:!0,subtree:!0}),i}const xa=new Map;let F_=0;function s1(){const e=window.devicePixelRatio;e!==F_&&(F_=e,xa.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function R5(e,t){xa.size||window.addEventListener("resize",s1),xa.set(e,t)}function M5(e){xa.delete(e),xa.size||window.removeEventListener("resize",s1)}function D5(e,t,n){const r=e.canvas,i=r&&eg(r);if(!i)return;const s=Bk((a,l)=>{const c=i.clientWidth;n(a,l),c<i.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],c=l.contentRect.width,d=l.contentRect.height;c===0&&d===0||s(c,d)});return o.observe(i),R5(e,s),o}function uf(e,t,n){n&&n.disconnect(),t==="resize"&&M5(e)}function j5(e,t,n){const r=e.canvas,i=Bk(s=>{e.ctx!==null&&n(C5(s,e))},e);return k5(r,t,i),i}class A5 extends r1{acquireContext(t,n){const r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(w5(t,n),r):null}releaseContext(t){const n=t.canvas;if(!n[dc])return!1;const r=n[dc].initial;["height","width"].forEach(s=>{const o=r[s];de(o)?n.removeAttribute(s):n.setAttribute(s,o)});const i=r.style||{};return Object.keys(i).forEach(s=>{n.style[s]=i[s]}),n.width=n.width,delete n[dc],!0}addEventListener(t,n,r){this.removeEventListener(t,n);const i=t.$proxies||(t.$proxies={}),o={attach:T5,detach:I5,resize:D5}[n]||j5;i[n]=o(t,n,r)}removeEventListener(t,n){const r=t.$proxies||(t.$proxies={}),i=r[n];if(!i)return;({attach:uf,detach:uf,resize:uf}[n]||E5)(t,n,i),r[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,n,r,i){return Sz(t,n,r,i)}isAttached(t){const n=t&&eg(t);return!!(n&&n.isConnected)}}function P5(e){return!Qm()||typeof OffscreenCanvas<"u"&&e instanceof OffscreenCanvas?S5:A5}var Bl;let Qn=(Bl=class{constructor(){W(this,"x");W(this,"y");W(this,"active",!1);W(this,"options");W(this,"$animations")}tooltipPosition(t){const{x:n,y:r}=this.getProps(["x","y"],t);return{x:n,y:r}}hasValue(){return ga(this.x)&&ga(this.y)}getProps(t,n){const r=this.$animations;if(!n||!r)return this;const i={};return t.forEach(s=>{i[s]=r[s]&&r[s].active()?r[s]._to:this[s]}),i}},W(Bl,"defaults",{}),W(Bl,"defaultRoutes"),Bl);function O5(e,t){const n=e.options.ticks,r=N5(e),i=Math.min(n.maxTicksLimit||r,r),s=n.major.enabled?z5(t):[],o=s.length,a=s[0],l=s[o-1],c=[];if(o>i)return F5(t,c,s,o/i),c;const d=L5(s,t,i);if(o>0){let f,h;const p=o>1?Math.round((l-a)/(o-1)):null;for(Ml(t,c,d,de(p)?0:a-p,a),f=0,h=o-1;f<h;f++)Ml(t,c,d,s[f],s[f+1]);return Ml(t,c,d,l,de(p)?t.length:l+p),c}return Ml(t,c,d),c}function N5(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function L5(e,t,n){const r=B5(e),i=t.length/n;if(!r)return Math.max(i,1);const s=x2(r);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>i)return l}return Math.max(i,1)}function z5(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}function F5(e,t,n,r){let i=0,s=n[0],o;for(r=Math.ceil(r),o=0;o<e.length;o++)o===s&&(t.push(e[o]),i++,s=n[i*r])}function Ml(e,t,n,r,i){const s=Q(r,0),o=Math.min(Q(i,e.length),e.length);let a=0,l,c,d;for(n=Math.ceil(n),i&&(l=i-r,n=l/Math.floor(l/n)),d=s;d<0;)a++,d=Math.round(s+a*n);for(c=Math.max(s,0);c<o;c++)c===d&&(t.push(e[c]),a++,d=Math.round(s+a*n))}function B5(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}const $5=e=>e==="left"?"right":e==="right"?"left":e,B_=(e,t,n)=>t==="top"||t==="left"?e[t]+n:e[t]-n,$_=(e,t)=>Math.min(t||e,e);function W_(e,t){const n=[],r=e.length/t,i=e.length;let s=0;for(;s<i;s+=r)n.push(e[Math.floor(s)]);return n}function W5(e,t,n){const r=e.ticks.length,i=Math.min(t,r-1),s=e._startPixel,o=e._endPixel,a=1e-6;let l=e.getPixelForTick(i),c;if(!(n&&(r===1?c=Math.max(l-s,o-l):t===0?c=(e.getPixelForTick(1)-l)/2:c=(l-e.getPixelForTick(i-1))/2,l+=i<t?c:-c,l<s-a||l>o+a)))return l}function U5(e,t){pe(e,n=>{const r=n.gc,i=r.length/2;let s;if(i>t){for(s=0;s<i;++s)delete n.data[r[s]];r.splice(0,i)}})}function lo(e){return e.drawTicks?e.tickLength:0}function U_(e,t){if(!e.display)return 0;const n=ot(e.font,t),r=en(e.padding);return(Ve(e.text)?e.text.length:1)*n.lineHeight+r.height}function H5(e,t){return Di(e,{scale:t,type:"scale"})}function V5(e,t,n){return Di(e,{tick:n,index:t,type:"tick"})}function Z5(e,t,n){let r=Hm(e);return(n&&t!=="right"||!n&&t==="right")&&(r=$5(r)),r}function Y5(e,t,n,r){const{top:i,left:s,bottom:o,right:a,chart:l}=e,{chartArea:c,scales:d}=l;let f=0,h,p,m;const g=o-i,_=a-s;if(e.isHorizontal()){if(p=rt(r,s,a),ae(n)){const y=Object.keys(n)[0],v=n[y];m=d[y].getPixelForValue(v)+g-t}else n==="center"?m=(c.bottom+c.top)/2+g-t:m=B_(e,n,t);h=a-s}else{if(ae(n)){const y=Object.keys(n)[0],v=n[y];p=d[y].getPixelForValue(v)-_+t}else n==="center"?p=(c.left+c.right)/2-_+t:p=B_(e,n,t);m=rt(r,o,i),f=n==="left"?-Ye:Ye}return{titleX:p,titleY:m,maxWidth:h,rotation:f}}class Zs extends Qn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,n){return t}getUserBounds(){let{_userMin:t,_userMax:n,_suggestedMin:r,_suggestedMax:i}=this;return t=_n(t,Number.POSITIVE_INFINITY),n=_n(n,Number.NEGATIVE_INFINITY),r=_n(r,Number.POSITIVE_INFINITY),i=_n(i,Number.NEGATIVE_INFINITY),{min:_n(t,r),max:_n(n,i),minDefined:Qt(t),maxDefined:Qt(n)}}getMinMax(t){let{min:n,max:r,minDefined:i,maxDefined:s}=this.getUserBounds(),o;if(i&&s)return{min:n,max:r};const a=this.getMatchingVisibleMetas();for(let l=0,c=a.length;l<c;++l)o=a[l].controller.getMinMax(this,t),i||(n=Math.min(n,o.min)),s||(r=Math.max(r,o.max));return n=s&&n>r?r:n,r=i&&n>r?n:r,{min:_n(n,_n(r,n)),max:_n(r,_n(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){be(this.options.beforeUpdate,[this])}update(t,n,r){const{beginAtZero:i,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=n,this._margins=r=Object.assign({left:0,right:0,top:0,bottom:0},r),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+r.left+r.right:this.height+r.top+r.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Q2(this,s,i),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?W_(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=O5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,n,r;this.isHorizontal()?(n=this.left,r=this.right):(n=this.top,r=this.bottom,t=!t),this._startPixel=n,this._endPixel=r,this._reversePixels=t,this._length=r-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){be(this.options.afterUpdate,[this])}beforeSetDimensions(){be(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){be(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),be(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){be(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const n=this.options.ticks;let r,i,s;for(r=0,i=t.length;r<i;r++)s=t[r],s.label=be(n.callback,[s.value,r,t],this)}afterTickToLabelConversion(){be(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){be(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,n=t.ticks,r=$_(this.ticks.length,t.ticks.maxTicksLimit),i=n.minRotation||0,s=n.maxRotation;let o=i,a,l,c;if(!this._isVisible()||!n.display||i>=s||r<=1||!this.isHorizontal()){this.labelRotation=i;return}const d=this._getLabelSizes(),f=d.widest.width,h=d.highest.height,p=st(this.chart.width-f,0,this.maxWidth);a=t.offset?this.maxWidth/r:p/(r-1),f+6>a&&(a=p/(r-(t.offset?.5:1)),l=this.maxHeight-lo(t.grid)-n.padding-U_(t.title,this.chart.options.font),c=Math.sqrt(f*f+h*h),o=k2(Math.min(Math.asin(st((d.highest.height+6)/a,-1,1)),Math.asin(st(l/c,-1,1))-Math.asin(st(h/c,-1,1)))),o=Math.max(i,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){be(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){be(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:n,options:{ticks:r,title:i,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=U_(i,n.options.font);if(a?(t.width=this.maxWidth,t.height=lo(s)+l):(t.height=this.maxHeight,t.width=lo(s)+l),r.display&&this.ticks.length){const{first:c,last:d,widest:f,highest:h}=this._getLabelSizes(),p=r.padding*2,m=zn(this.labelRotation),g=Math.cos(m),_=Math.sin(m);if(a){const y=r.mirror?0:_*f.width+g*h.height;t.height=Math.min(this.maxHeight,t.height+y+p)}else{const y=r.mirror?0:g*f.width+_*h.height;t.width=Math.min(this.maxWidth,t.width+y+p)}this._calculatePadding(c,d,_,g)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,n,r,i){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,c=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const d=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let h=0,p=0;l?c?(h=i*t.width,p=r*n.height):(h=r*t.height,p=i*n.width):s==="start"?p=n.width:s==="end"?h=t.width:s!=="inner"&&(h=t.width/2,p=n.width/2),this.paddingLeft=Math.max((h-d+o)*this.width/(this.width-d),0),this.paddingRight=Math.max((p-f+o)*this.width/(this.width-f),0)}else{let d=n.height/2,f=t.height/2;s==="start"?(d=0,f=t.height):s==="end"&&(d=n.height,f=0),this.paddingTop=d+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){be(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:n}=this.options;return n==="top"||n==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let n,r;for(n=0,r=t.length;n<r;n++)de(t[n].label)&&(t.splice(n,1),r--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const n=this.options.ticks.sampleSize;let r=this.ticks;n<r.length&&(r=W_(r,n)),this._labelSizes=t=this._computeLabelSizes(r,r.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,n,r){const{ctx:i,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/$_(n,r));let c=0,d=0,f,h,p,m,g,_,y,v,x,S,b;for(f=0;f<n;f+=l){if(m=t[f].label,g=this._resolveTickFontOptions(f),i.font=_=g.string,y=s[_]=s[_]||{data:{},gc:[]},v=g.lineHeight,x=S=0,!de(m)&&!Ve(m))x=g_(i,y.data,y.gc,x,m),S=v;else if(Ve(m))for(h=0,p=m.length;h<p;++h)b=m[h],!de(b)&&!Ve(b)&&(x=g_(i,y.data,y.gc,x,b),S+=v);o.push(x),a.push(S),c=Math.max(x,c),d=Math.max(S,d)}U5(s,n);const k=o.indexOf(c),w=a.indexOf(d),E=C=>({width:o[C]||0,height:a[C]||0});return{first:E(0),last:E(n-1),widest:E(k),highest:E(w),widths:o,heights:a}}getLabelForValue(t){return t}getPixelForValue(t,n){return NaN}getValueForPixel(t){}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const n=this._startPixel+t*this._length;return C2(this._alignToPixels?Ur(this.chart,n,0):n)}getDecimalForPixel(t){const n=(t-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:n}=this;return t<0&&n<0?n:t>0&&n>0?t:0}getContext(t){const n=this.ticks||[];if(t>=0&&t<n.length){const r=n[t];return r.$context||(r.$context=V5(this.getContext(),t,r))}return this.$context||(this.$context=H5(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,n=zn(this.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=t.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*r>a*i?a/r:l/i:l*i<a*r?l/r:a/i}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const n=this.axis,r=this.chart,i=this.options,{grid:s,position:o,border:a}=i,l=s.offset,c=this.isHorizontal(),f=this.ticks.length+(l?1:0),h=lo(s),p=[],m=a.setContext(this.getContext()),g=m.display?m.width:0,_=g/2,y=function(z){return Ur(r,z,g)};let v,x,S,b,k,w,E,C,T,I,D,F;if(o==="top")v=y(this.bottom),w=this.bottom-h,C=v-_,I=y(t.top)+_,F=t.bottom;else if(o==="bottom")v=y(this.top),I=t.top,F=y(t.bottom)-_,w=v+_,C=this.top+h;else if(o==="left")v=y(this.right),k=this.right-h,E=v-_,T=y(t.left)+_,D=t.right;else if(o==="right")v=y(this.left),T=t.left,D=y(t.right)-_,k=v+_,E=this.left+h;else if(n==="x"){if(o==="center")v=y((t.top+t.bottom)/2+.5);else if(ae(o)){const z=Object.keys(o)[0],P=o[z];v=y(this.chart.scales[z].getPixelForValue(P))}I=t.top,F=t.bottom,w=v+_,C=w+h}else if(n==="y"){if(o==="center")v=y((t.left+t.right)/2);else if(ae(o)){const z=Object.keys(o)[0],P=o[z];v=y(this.chart.scales[z].getPixelForValue(P))}k=v-_,E=k-h,T=t.left,D=t.right}const U=Q(i.ticks.maxTicksLimit,f),A=Math.max(1,Math.ceil(f/U));for(x=0;x<f;x+=A){const z=this.getContext(x),P=s.setContext(z),R=a.setContext(z),j=P.lineWidth,B=P.color,Z=R.dash||[],X=R.dashOffset,Fe=P.tickWidth,fe=P.tickColor,Ce=P.tickBorderDash||[],Oe=P.tickBorderDashOffset;S=W5(this,x,l),S!==void 0&&(b=Ur(r,S,j),c?k=E=T=D=b:w=C=I=F=b,p.push({tx1:k,ty1:w,tx2:E,ty2:C,x1:T,y1:I,x2:D,y2:F,width:j,color:B,borderDash:Z,borderDashOffset:X,tickWidth:Fe,tickColor:fe,tickBorderDash:Ce,tickBorderDashOffset:Oe}))}return this._ticksLength=f,this._borderValue=v,p}_computeLabelItems(t){const n=this.axis,r=this.options,{position:i,ticks:s}=r,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:c,padding:d,mirror:f}=s,h=lo(r.grid),p=h+d,m=f?-d:p,g=-zn(this.labelRotation),_=[];let y,v,x,S,b,k,w,E,C,T,I,D,F="middle";if(i==="top")k=this.bottom-m,w=this._getXAxisLabelAlignment();else if(i==="bottom")k=this.top+m,w=this._getXAxisLabelAlignment();else if(i==="left"){const A=this._getYAxisLabelAlignment(h);w=A.textAlign,b=A.x}else if(i==="right"){const A=this._getYAxisLabelAlignment(h);w=A.textAlign,b=A.x}else if(n==="x"){if(i==="center")k=(t.top+t.bottom)/2+p;else if(ae(i)){const A=Object.keys(i)[0],z=i[A];k=this.chart.scales[A].getPixelForValue(z)+p}w=this._getXAxisLabelAlignment()}else if(n==="y"){if(i==="center")b=(t.left+t.right)/2-p;else if(ae(i)){const A=Object.keys(i)[0],z=i[A];b=this.chart.scales[A].getPixelForValue(z)}w=this._getYAxisLabelAlignment(h).textAlign}n==="y"&&(l==="start"?F="top":l==="end"&&(F="bottom"));const U=this._getLabelSizes();for(y=0,v=a.length;y<v;++y){x=a[y],S=x.label;const A=s.setContext(this.getContext(y));E=this.getPixelForTick(y)+s.labelOffset,C=this._resolveTickFontOptions(y),T=C.lineHeight,I=Ve(S)?S.length:1;const z=I/2,P=A.color,R=A.textStrokeColor,j=A.textStrokeWidth;let B=w;o?(b=E,w==="inner"&&(y===v-1?B=this.options.reverse?"left":"right":y===0?B=this.options.reverse?"right":"left":B="center"),i==="top"?c==="near"||g!==0?D=-I*T+T/2:c==="center"?D=-U.highest.height/2-z*T+T:D=-U.highest.height+T/2:c==="near"||g!==0?D=T/2:c==="center"?D=U.highest.height/2-z*T:D=U.highest.height-I*T,f&&(D*=-1),g!==0&&!A.showLabelBackdrop&&(b+=T/2*Math.sin(g))):(k=E,D=(1-I)*T/2);let Z;if(A.showLabelBackdrop){const X=en(A.backdropPadding),Fe=U.heights[y],fe=U.widths[y];let Ce=D-X.top,Oe=0-X.left;switch(F){case"middle":Ce-=Fe/2;break;case"bottom":Ce-=Fe;break}switch(w){case"center":Oe-=fe/2;break;case"right":Oe-=fe;break;case"inner":y===v-1?Oe-=fe:y>0&&(Oe-=fe/2);break}Z={left:Oe,top:Ce,width:fe+X.width,height:Fe+X.height,color:A.backdropColor}}_.push({label:S,font:C,textOffset:D,options:{rotation:g,color:P,strokeColor:R,strokeWidth:j,textAlign:B,textBaseline:F,translation:[b,k],backdrop:Z}})}return _}_getXAxisLabelAlignment(){const{position:t,ticks:n}=this.options;if(-zn(this.labelRotation))return t==="top"?"left":"right";let i="center";return n.align==="start"?i="left":n.align==="end"?i="right":n.align==="inner"&&(i="inner"),i}_getYAxisLabelAlignment(t){const{position:n,ticks:{crossAlign:r,mirror:i,padding:s}}=this.options,o=this._getLabelSizes(),a=t+s,l=o.widest.width;let c,d;return n==="left"?i?(d=this.right+s,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d+=l)):(d=this.right-a,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d=this.left)):n==="right"?i?(d=this.left+s,r==="near"?c="right":r==="center"?(c="center",d-=l/2):(c="left",d-=l)):(d=this.left+a,r==="near"?c="left":r==="center"?(c="center",d+=l/2):(c="right",d=this.right)):c="right",{textAlign:c,x:d}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:n},left:r,top:i,width:s,height:o}=this;n&&(t.save(),t.fillStyle=n,t.fillRect(r,i,s,o),t.restore())}getLineWidthForValue(t){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const i=this.ticks.findIndex(s=>s.value===t);return i>=0?n.setContext(this.getContext(i)).lineWidth:0}drawGrid(t){const n=this.options.grid,r=this.ctx,i=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let s,o;const a=(l,c,d)=>{!d.width||!d.color||(r.save(),r.lineWidth=d.width,r.strokeStyle=d.color,r.setLineDash(d.borderDash||[]),r.lineDashOffset=d.borderDashOffset,r.beginPath(),r.moveTo(l.x,l.y),r.lineTo(c.x,c.y),r.stroke(),r.restore())};if(n.display)for(s=0,o=i.length;s<o;++s){const l=i[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:n,options:{border:r,grid:i}}=this,s=r.setContext(this.getContext()),o=r.display?s.width:0;if(!o)return;const a=i.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let c,d,f,h;this.isHorizontal()?(c=Ur(t,this.left,o)-o/2,d=Ur(t,this.right,a)+a/2,f=h=l):(f=Ur(t,this.top,o)-o/2,h=Ur(t,this.bottom,a)+a/2,c=d=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(c,f),n.lineTo(d,h),n.stroke(),n.restore()}drawLabels(t){if(!this.options.ticks.display)return;const r=this.ctx,i=this._computeLabelArea();i&&Ym(r,i);const s=this.getLabelItems(t);for(const o of s){const a=o.options,l=o.font,c=o.label,d=o.textOffset;_a(r,c,0,d,l,a)}i&&qm(r)}drawTitle(){const{ctx:t,options:{position:n,title:r,reverse:i}}=this;if(!r.display)return;const s=ot(r.font),o=en(r.padding),a=r.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||ae(n)?(l+=o.bottom,Ve(r.text)&&(l+=s.lineHeight*(r.text.length-1))):l+=o.top;const{titleX:c,titleY:d,maxWidth:f,rotation:h}=Y5(this,l,n,a);_a(t,r.text,0,0,s,{color:r.color,maxWidth:f,rotation:h,textAlign:Z5(a,n,i),textBaseline:"middle",translation:[c,d]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,n=t.ticks&&t.ticks.z||0,r=Q(t.grid&&t.grid.z,-1),i=Q(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Zs.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:r,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:i,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(t){const n=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",i=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[r]===this.id&&(!t||a.type===t)&&i.push(a)}return i}_resolveTickFontOptions(t){const n=this.options.ticks.setContext(this.getContext(t));return ot(n.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Dl{constructor(t,n,r){this.type=t,this.scope=n,this.override=r,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const n=Object.getPrototypeOf(t);let r;K5(n)&&(r=this.register(n));const i=this.items,s=t.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+t);return s in i||(i[s]=t,q5(t,o,r),this.override&&Le.override(t.id,t.overrides)),o}get(t){return this.items[t]}unregister(t){const n=this.items,r=t.id,i=this.scope;r in n&&delete n[r],i&&r in Le[i]&&(delete Le[i][r],this.override&&delete Si[r])}}function q5(e,t,n){const r=pa(Object.create(null),[n?Le.get(n):{},Le.get(t),e.defaults]);Le.set(t,r),e.defaultRoutes&&G5(t,e.defaultRoutes),e.descriptors&&Le.describe(t,e.descriptors)}function G5(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),i=r.pop(),s=[e].concat(r).join("."),o=t[n].split("."),a=o.pop(),l=o.join(".");Le.route(s,i,l,a)})}function K5(e){return"id"in e&&"defaults"in e}class X5{constructor(){this.controllers=new Dl(di,"datasets",!0),this.elements=new Dl(Qn,"elements"),this.plugins=new Dl(Object,"plugins"),this.scales=new Dl(Zs,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,n,r){[...n].forEach(i=>{const s=r||this._getRegistryForType(i);r||s.isForType(i)||s===this.plugins&&i.id?this._exec(t,s,i):pe(i,o=>{const a=r||this._getRegistryForType(o);this._exec(t,a,o)})})}_exec(t,n,r){const i=Wm(t);be(r["before"+i],[],r),n[t](r),be(r["after"+i],[],r)}_getRegistryForType(t){for(let n=0;n<this._typedRegistries.length;n++){const r=this._typedRegistries[n];if(r.isForType(t))return r}return this.plugins}_get(t,n,r){const i=n.get(t);if(i===void 0)throw new Error('"'+t+'" is not a registered '+r+".");return i}}var bn=new X5;class J5{constructor(){this._init=[]}notify(t,n,r,i){n==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const s=i?this._descriptors(t).filter(i):this._descriptors(t),o=this._notify(s,t,n,r);return n==="afterDestroy"&&(this._notify(s,t,"stop"),this._notify(this._init,t,"uninstall")),o}_notify(t,n,r,i){i=i||{};for(const s of t){const o=s.plugin,a=o[r],l=[n,i,s.options];if(be(a,l,o)===!1&&i.cancelable)return!1}return!0}invalidate(){de(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),n}_createDescriptors(t,n){const r=t&&t.config,i=Q(r.options&&r.options.plugins,{}),s=Q5(r);return i===!1&&!n?[]:tF(t,s,i,n)}_notifyStateChanges(t){const n=this._oldCache||[],r=this._cache,i=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(i(n,r),t,"stop"),this._notify(i(r,n),t,"start")}}function Q5(e){const t={},n=[],r=Object.keys(bn.plugins.items);for(let s=0;s<r.length;s++)n.push(bn.getPlugin(r[s]));const i=e.plugins||[];for(let s=0;s<i.length;s++){const o=i[s];n.indexOf(o)===-1&&(n.push(o),t[o.id]=!0)}return{plugins:n,localIds:t}}function eF(e,t){return!t&&e===!1?null:e===!0?{}:e}function tF(e,{plugins:t,localIds:n},r,i){const s=[],o=e.getContext();for(const a of t){const l=a.id,c=eF(r[l],i);c!==null&&s.push({plugin:a,options:nF(e.config,{plugin:a,local:n[l]},c,o)})}return s}function nF(e,{plugin:t,local:n},r,i){const s=e.pluginScopeKeys(t),o=e.getOptionScopes(r,s);return n&&t.defaults&&o.push(t.defaults),e.createResolver(o,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Hh(e,t){const n=Le.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function rF(e,t){let n=e;return e==="_index_"?n=t:e==="_value_"&&(n=t==="x"?"y":"x"),n}function iF(e,t){return e===t?"_index_":"_value_"}function H_(e){if(e==="x"||e==="y"||e==="r")return e}function sF(e){if(e==="top"||e==="bottom")return"x";if(e==="left"||e==="right")return"y"}function Vh(e,...t){if(H_(e))return e;for(const n of t){const r=n.axis||sF(n.position)||e.length>1&&H_(e[0].toLowerCase());if(r)return r}throw new Error(`Cannot determine type of '${e}' axis. Please provide 'axis' or 'position' option.`)}function V_(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function oF(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(r=>r.xAxisID===e||r.yAxisID===e);if(n.length)return V_(e,"x",n[0])||V_(e,"y",n[0])}return{}}function aF(e,t){const n=Si[e.type]||{scales:{}},r=t.scales||{},i=Hh(e.type,t),s=Object.create(null);return Object.keys(r).forEach(o=>{const a=r[o];if(!ae(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Vh(o,a,oF(o,e),Le.scales[a.type]),c=iF(l,i),d=n.scales||{};s[o]=zo(Object.create(null),[{axis:l},a,d[l],d[c]])}),e.data.datasets.forEach(o=>{const a=o.type||e.type,l=o.indexAxis||Hh(a,t),d=(Si[a]||{}).scales||{};Object.keys(d).forEach(f=>{const h=rF(f,l),p=o[h+"AxisID"]||h;s[p]=s[p]||Object.create(null),zo(s[p],[{axis:h},r[p],d[f]])})}),Object.keys(s).forEach(o=>{const a=s[o];zo(a,[Le.scales[a.type],Le.scale])}),s}function o1(e){const t=e.options||(e.options={});t.plugins=Q(t.plugins,{}),t.scales=aF(e,t)}function a1(e){return e=e||{},e.datasets=e.datasets||[],e.labels=e.labels||[],e}function lF(e){return e=e||{},e.data=a1(e.data),o1(e),e}const Z_=new Map,l1=new Set;function jl(e,t){let n=Z_.get(e);return n||(n=t(),Z_.set(e,n),l1.add(n)),n}const co=(e,t,n)=>{const r=xi(t,n);r!==void 0&&e.add(r)};class cF{constructor(t){this._config=lF(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=a1(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),o1(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return jl(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,n){return jl(`${t}.transition.${n}`,()=>[[`datasets.${t}.transitions.${n}`,`transitions.${n}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,n){return jl(`${t}-${n}`,()=>[[`datasets.${t}.elements.${n}`,`datasets.${t}`,`elements.${n}`,""]])}pluginScopeKeys(t){const n=t.id,r=this.type;return jl(`${r}-plugin-${n}`,()=>[[`plugins.${n}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,n){const r=this._scopeCache;let i=r.get(t);return(!i||n)&&(i=new Map,r.set(t,i)),i}getOptionScopes(t,n,r){const{options:i,type:s}=this,o=this._cachedScopes(t,r),a=o.get(n);if(a)return a;const l=new Set;n.forEach(d=>{t&&(l.add(t),d.forEach(f=>co(l,t,f))),d.forEach(f=>co(l,i,f)),d.forEach(f=>co(l,Si[s]||{},f)),d.forEach(f=>co(l,Le,f)),d.forEach(f=>co(l,Wh,f))});const c=Array.from(l);return c.length===0&&c.push(Object.create(null)),l1.has(n)&&o.set(n,c),c}chartOptionScopes(){const{options:t,type:n}=this;return[t,Si[n]||{},Le.datasets[n]||{},{type:n},Le,Wh]}resolveNamedOptions(t,n,r,i=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=Y_(this._resolverCache,t,i);let l=o;if(dF(o,n)){s.$shared=!1,r=jr(r)?r():r;const c=this.createResolver(t,r,a);l=js(o,r,c)}for(const c of n)s[c]=l[c];return s}createResolver(t,n,r=[""],i){const{resolver:s}=Y_(this._resolverCache,t,r);return ae(n)?js(s,n,void 0,i):s}}function Y_(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const i=n.join();let s=r.get(i);return s||(s={resolver:Km(t,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},r.set(i,s)),s}const uF=e=>ae(e)&&Object.getOwnPropertyNames(e).some(t=>jr(e[t]));function dF(e,t){const{isScriptable:n,isIndexable:r}=Hk(e);for(const i of t){const s=n(i),o=r(i),a=(o||s)&&e[i];if(s&&(jr(a)||uF(a))||o&&Ve(a))return!0}return!1}var fF="4.5.0";const hF=["top","bottom","left","right","chartArea"];function q_(e,t){return e==="top"||e==="bottom"||hF.indexOf(e)===-1&&t==="x"}function G_(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function K_(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),be(n&&n.onComplete,[e],t)}function pF(e){const t=e.chart,n=t.options.animation;be(n&&n.onProgress,[e],t)}function c1(e){return Qm()&&typeof e=="string"?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const fc={},X_=e=>{const t=c1(e);return Object.values(fc).filter(n=>n.canvas===t).pop()};function mF(e,t,n){const r=Object.keys(e);for(const i of r){const s=+i;if(s>=t){const o=e[i];delete e[i],(n>0||s>t)&&(e[s+n]=o)}}}function gF(e,t,n,r){return!n||e.type==="mouseout"?null:r?t:e}var rr;let Yu=(rr=class{static register(...t){bn.add(...t),J_()}static unregister(...t){bn.remove(...t),J_()}constructor(t,n){const r=this.config=new cF(n),i=c1(t),s=X_(i);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||P5(i)),this.platform.updateConfig(r);const a=this.platform.acquireContext(i,o.aspectRatio),l=a&&a.canvas,c=l&&l.height,d=l&&l.width;if(this.id=d2(),this.ctx=a,this.canvas=l,this.width=d,this.height=c,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new J5,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=M2(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],fc[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}Dn.listen(this,"complete",K_),Dn.listen(this,"progress",pF),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:n},width:r,height:i,_aspectRatio:s}=this;return de(t)?n&&s?s:i?r/i:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return bn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():x_(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return y_(this.canvas,this.ctx),this}stop(){return Dn.stop(this),this}resize(t,n){Dn.running(this)?this._resizeBeforeDraw={width:t,height:n}:this._resize(t,n)}_resize(t,n){const r=this.options,i=this.canvas,s=r.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,t,n,s),a=r.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,x_(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),be(r.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};pe(n,(r,i)=>{r.id=i})}buildOrUpdateScales(){const t=this.options,n=t.scales,r=this.scales,i=Object.keys(r).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Vh(o,a),c=l==="r",d=l==="x";return{options:a,dposition:c?"chartArea":d?"bottom":"left",dtype:c?"radialLinear":d?"category":"linear"}}))),pe(s,o=>{const a=o.options,l=a.id,c=Vh(l,a),d=Q(a.type,o.dtype);(a.position===void 0||q_(a.position,c)!==q_(o.dposition))&&(a.position=o.dposition),i[l]=!0;let f=null;if(l in r&&r[l].type===d)f=r[l];else{const h=bn.getScale(d);f=new h({id:l,type:d,ctx:this.ctx,chart:this}),r[f.id]=f}f.init(a,t)}),pe(i,(o,a)=>{o||delete r[a]}),pe(r,o=>{Yt.configure(this,o,o.options),Yt.addBox(this,o)})}_updateMetasets(){const t=this._metasets,n=this.data.datasets.length,r=t.length;if(t.sort((i,s)=>i.index-s.index),r>n){for(let i=n;i<r;++i)this._destroyDatasetMeta(i);t.splice(n,r-n)}this._sortedMetasets=t.slice(0).sort(G_("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:n}}=this;t.length>n.length&&delete this._stacks,t.forEach((r,i)=>{n.filter(s=>s===r._dataset).length===0&&this._destroyDatasetMeta(i)})}buildOrUpdateControllers(){const t=[],n=this.data.datasets;let r,i;for(this._removeUnreferencedMetasets(),r=0,i=n.length;r<i;r++){const s=n[r];let o=this.getDatasetMeta(r);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(r),o=this.getDatasetMeta(r)),o.type=a,o.indexAxis=s.indexAxis||Hh(a,this.options),o.order=s.order||0,o.index=r,o.label=""+s.label,o.visible=this.isDatasetVisible(r),o.controller)o.controller.updateIndex(r),o.controller.linkScales();else{const l=bn.getController(a),{datasetElementType:c,dataElementType:d}=Le.datasets[a];Object.assign(l,{dataElementType:bn.getElement(d),datasetElementType:c&&bn.getElement(c)}),o.controller=new l(this,r),t.push(o.controller)}}return this._updateMetasets(),t}_resetElements(){pe(this.data.datasets,(t,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const n=this.config;n.update();const r=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!r.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let c=0,d=this.data.datasets.length;c<d;c++){const{controller:f}=this.getDatasetMeta(c),h=!i&&s.indexOf(f)===-1;f.buildOrUpdateElements(h),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=r.layout.autoPadding?o:0,this._updateLayout(o),i||pe(s,c=>{c.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(G_("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){pe(this.scales,t=>{Yt.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,n=new Set(Object.keys(this._listeners)),r=new Set(t.events);(!a_(n,r)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,n=this._getUniformDataChanges()||[];for(const{method:r,start:i,count:s}of n){const o=r==="_removeElements"?-s:s;mF(t,i,o)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const n=this.data.datasets.length,r=s=>new Set(t.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),i=r(0);for(let s=1;s<n;s++)if(!a_(i,r(s)))return;return Array.from(i).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Yt.update(this,this.width,this.height,t);const n=this.chartArea,r=n.width<=0||n.height<=0;this._layers=[],pe(this.boxes,i=>{r&&i.position==="chartArea"||(i.configure&&i.configure(),this._layers.push(...i._layers()))},this),this._layers.forEach((i,s)=>{i._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let n=0,r=this.data.datasets.length;n<r;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,r=this.data.datasets.length;n<r;++n)this._updateDataset(n,jr(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,n){const r=this.getDatasetMeta(t),i={meta:r,index:t,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",i)!==!1&&(r.controller._update(n),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Dn.has(this)?this.attached&&!Dn.running(this)&&Dn.start(this):(this.draw(),K_({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:r,height:i}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(r,i)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(this.chartArea);for(this._drawDatasets();t<n.length;++t)n[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const n=this._sortedMetasets,r=[];let i,s;for(i=0,s=n.length;i<s;++i){const o=n[i];(!t||o.visible)&&r.push(o)}return r}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let n=t.length-1;n>=0;--n)this._drawDataset(t[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const n=this.ctx,r={meta:t,index:t.index,cancelable:!0},i=Nz(this,t);this.notifyPlugins("beforeDatasetDraw",r)!==!1&&(i&&Ym(n,i),t.controller.draw(),i&&qm(n),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}isPointInArea(t){return va(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,n,r,i){const s=h5.modes[n];return typeof s=="function"?s(this,t,r,i):[]}getDatasetMeta(t){const n=this.data.datasets[t],r=this._metasets;let i=r.filter(s=>s&&s._dataset===n).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:t,_dataset:n,_parsed:[],_sorted:!1},r.push(i)),i}getContext(){return this.$context||(this.$context=Di(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const n=this.data.datasets[t];if(!n)return!1;const r=this.getDatasetMeta(t);return typeof r.hidden=="boolean"?!r.hidden:!n.hidden}setDatasetVisibility(t,n){const r=this.getDatasetMeta(t);r.hidden=!n}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,n,r){const i=r?"show":"hide",s=this.getDatasetMeta(t),o=s.controller._resolveAnimations(void 0,i);ma(n)?(s.data[n].hidden=!r,this.update()):(this.setDatasetVisibility(t,r),o.update(s,{visible:r}),this.update(a=>a.datasetIndex===t?i:void 0))}hide(t,n){this._updateVisibility(t,n,!1)}show(t,n){this._updateVisibility(t,n,!0)}_destroyDatasetMeta(t){const n=this._metasets[t];n&&n.controller&&n.controller._destroy(),delete this._metasets[t]}_stop(){let t,n;for(this.stop(),Dn.remove(this),t=0,n=this.data.datasets.length;t<n;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:n}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),y_(t,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete fc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,n=this.platform,r=(s,o)=>{n.addEventListener(this,s,o),t[s]=o},i=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};pe(this.options.events,s=>r(s,i))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,n=this.platform,r=(l,c)=>{n.addEventListener(this,l,c),t[l]=c},i=(l,c)=>{t[l]&&(n.removeEventListener(this,l,c),delete t[l])},s=(l,c)=>{this.canvas&&this.resize(l,c)};let o;const a=()=>{i("attach",a),this.attached=!0,this.resize(),r("resize",s),r("detach",o)};o=()=>{this.attached=!1,i("resize",s),this._stop(),this._resize(0,0),r("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){pe(this._listeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._listeners={},pe(this._responsiveListeners,(t,n)=>{this.platform.removeEventListener(this,n,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,n,r){const i=r?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(t[0].datasetIndex),s.controller["_"+i+"DatasetHoverStyle"]()),a=0,l=t.length;a<l;++a){o=t[a];const c=o&&this.getDatasetMeta(o.datasetIndex).controller;c&&c[i+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const n=this._active||[],r=t.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!su(r,n)&&(this._active=r,this._lastEvent=null,this._updateHoverStyles(r,n))}notifyPlugins(t,n,r){return this._plugins.notify(this,t,n,r)}isPluginEnabled(t){return this._plugins._cache.filter(n=>n.plugin.id===t).length===1}_updateHoverStyles(t,n,r){const i=this.options.hover,s=(l,c)=>l.filter(d=>!c.some(f=>d.datasetIndex===f.datasetIndex&&d.index===f.index)),o=s(n,t),a=r?t:s(t,n);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}_eventHandler(t,n){const r={event:t,replay:n,cancelable:!0,inChartArea:this.isPointInArea(t)},i=o=>(o.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",r,i)===!1)return;const s=this._handleEvent(t,n,r.inChartArea);return r.cancelable=!1,this.notifyPlugins("afterEvent",r,i),(s||r.changed)&&this.render(),this}_handleEvent(t,n,r){const{_active:i=[],options:s}=this,o=n,a=this._getActiveElements(t,i,r,o),l=y2(t),c=gF(t,this._lastEvent,r,l);r&&(this._lastEvent=null,be(s.onHover,[t,a,this],this),l&&be(s.onClick,[t,a,this],this));const d=!su(a,i);return(d||n)&&(this._active=a,this._updateHoverStyles(a,i,n)),this._lastEvent=c,d}_getActiveElements(t,n,r,i){if(t.type==="mouseout")return[];if(!r)return n;const s=this.options.hover;return this.getElementsAtEventForMode(t,s.mode,s,i)}},W(rr,"defaults",Le),W(rr,"instances",fc),W(rr,"overrides",Si),W(rr,"registry",bn),W(rr,"version",fF),W(rr,"getChart",X_),rr);function J_(){return pe(Yu.instances,e=>e._plugins.invalidate())}function yF(e,t,n){const{startAngle:r,x:i,y:s,outerRadius:o,innerRadius:a,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,f=Math.min(c/o,un(r-n));if(e.beginPath(),e.arc(i,s,o-c/2,r+f/2,n-f/2),a>0){const h=Math.min(c/a,un(r-n));e.arc(i,s,a+c/2,n-h/2,r+h/2,!0)}else{const h=Math.min(c/2,o*un(r-n));if(d==="round")e.arc(i,s,h,n-me/2,r+me/2,!0);else if(d==="bevel"){const p=2*h*h,m=-p*Math.cos(n+me/2)+i,g=-p*Math.sin(n+me/2)+s,_=p*Math.cos(r+me/2)+i,y=p*Math.sin(r+me/2)+s;e.lineTo(m,g),e.lineTo(_,y)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}function vF(e,t,n){const{startAngle:r,pixelMargin:i,x:s,y:o,outerRadius:a,innerRadius:l}=t;let c=i/a;e.beginPath(),e.arc(s,o,a,r-c,n+c),l>i?(c=i/l,e.arc(s,o,l,n+c,r-c,!0)):e.arc(s,o,i,n+Ye,r-Ye),e.closePath(),e.clip()}function _F(e){return Gm(e,["outerStart","outerEnd","innerStart","innerEnd"])}function xF(e,t,n,r){const i=_F(e.options.borderRadius),s=(n-t)/2,o=Math.min(s,r*t/2),a=l=>{const c=(n-Math.min(s,l))*r/2;return st(l,0,Math.min(s,c))};return{outerStart:a(i.outerStart),outerEnd:a(i.outerEnd),innerStart:st(i.innerStart,0,o),innerEnd:st(i.innerEnd,0,o)}}function Ni(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function du(e,t,n,r,i,s){const{x:o,y:a,startAngle:l,pixelMargin:c,innerRadius:d}=t,f=Math.max(t.outerRadius+r+n-c,0),h=d>0?d+r+n+c:0;let p=0;const m=i-l;if(r){const A=d>0?d-r:0,z=f>0?f-r:0,P=(A+z)/2,R=P!==0?m*P/(P+r):m;p=(m-R)/2}const g=Math.max(.001,m*f-n/me)/f,_=(m-g)/2,y=l+_+p,v=i-_-p,{outerStart:x,outerEnd:S,innerStart:b,innerEnd:k}=xF(t,h,f,v-y),w=f-x,E=f-S,C=y+x/w,T=v-S/E,I=h+b,D=h+k,F=y+b/I,U=v-k/D;if(e.beginPath(),s){const A=(C+T)/2;if(e.arc(o,a,f,C,A),e.arc(o,a,f,A,T),S>0){const j=Ni(E,T,o,a);e.arc(j.x,j.y,S,T,v+Ye)}const z=Ni(D,v,o,a);if(e.lineTo(z.x,z.y),k>0){const j=Ni(D,U,o,a);e.arc(j.x,j.y,k,v+Ye,U+Math.PI)}const P=(v-k/h+(y+b/h))/2;if(e.arc(o,a,h,v-k/h,P,!0),e.arc(o,a,h,P,y+b/h,!0),b>0){const j=Ni(I,F,o,a);e.arc(j.x,j.y,b,F+Math.PI,y-Ye)}const R=Ni(w,y,o,a);if(e.lineTo(R.x,R.y),x>0){const j=Ni(w,C,o,a);e.arc(j.x,j.y,x,y-Ye,C)}}else{e.moveTo(o,a);const A=Math.cos(C)*f+o,z=Math.sin(C)*f+a;e.lineTo(A,z);const P=Math.cos(T)*f+o,R=Math.sin(T)*f+a;e.lineTo(P,R)}e.closePath()}function SF(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a}=t;let l=t.endAngle;if(s){du(e,t,n,r,l,i);for(let c=0;c<s;++c)e.fill();isNaN(a)||(l=o+(a%Ae||Ae))}return du(e,t,n,r,l,i),e.fill(),l}function bF(e,t,n,r,i){const{fullCircles:s,startAngle:o,circumference:a,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:f,borderDashOffset:h,borderRadius:p}=l,m=l.borderAlign==="inner";if(!c)return;e.setLineDash(f||[]),e.lineDashOffset=h,m?(e.lineWidth=c*2,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let g=t.endAngle;if(s){du(e,t,n,r,g,i);for(let _=0;_<s;++_)e.stroke();isNaN(a)||(g=o+(a%Ae||Ae))}m&&vF(e,t,g),l.selfJoin&&g-o>=me&&p===0&&d!=="miter"&&yF(e,t,g),s||(du(e,t,n,r,g,i),e.stroke())}class xo extends Qn{constructor(n){super();W(this,"circumference");W(this,"endAngle");W(this,"fullCircles");W(this,"innerRadius");W(this,"outerRadius");W(this,"pixelMargin");W(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.getProps(["x","y"],i),{angle:o,distance:a}=Nk(s,{x:n,y:r}),{startAngle:l,endAngle:c,innerRadius:d,outerRadius:f,circumference:h}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),p=(this.options.spacing+this.options.borderWidth)/2,m=Q(h,c-l),g=ya(o,l,c)&&l!==c,_=m>=Ae||g,y=hr(a,d+p,f+p);return _&&y}getCenterPoint(n){const{x:r,y:i,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:c,spacing:d}=this.options,f=(s+o)/2,h=(a+l+d+c)/2;return{x:r+Math.cos(f)*h,y:i+Math.sin(f)*h}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:r,circumference:i}=this,s=(r.offset||0)/4,o=(r.spacing||0)/2,a=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=i>Ae?Math.floor(i/Ae):0,i===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const c=1-Math.sin(Math.min(me,i||0)),d=s*c;n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,SF(n,this,d,o,a),bF(n,this,d,o,a),n.restore()}}W(xo,"id","arc"),W(xo,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),W(xo,"defaultRoutes",{backgroundColor:"backgroundColor"}),W(xo,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function u1(e,t,n=t){e.lineCap=Q(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Q(n.borderDash,t.borderDash)),e.lineDashOffset=Q(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Q(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Q(n.borderWidth,t.borderWidth),e.strokeStyle=Q(n.borderColor,t.borderColor)}function wF(e,t,n){e.lineTo(n.x,n.y)}function kF(e){return e.stepped?H2:e.tension||e.cubicInterpolationMode==="monotone"?V2:wF}function d1(e,t,n={}){const r=e.length,{start:i=0,end:s=r-1}=n,{start:o,end:a}=t,l=Math.max(i,o),c=Math.min(s,a),d=i<o&&s<o||i>a&&s>a;return{count:r,start:l,loop:t.loop,ilen:c<l&&!d?r+c-l:c-l}}function EF(e,t,n,r){const{points:i,options:s}=t,{count:o,start:a,loop:l,ilen:c}=d1(i,n,r),d=kF(s);let{move:f=!0,reverse:h}=r||{},p,m,g;for(p=0;p<=c;++p)m=i[(a+(h?c-p:p))%o],!m.skip&&(f?(e.moveTo(m.x,m.y),f=!1):d(e,g,m,h,s.stepped),g=m);return l&&(m=i[(a+(h?c:0))%o],d(e,g,m,h,s.stepped)),!!l}function CF(e,t,n,r){const i=t.points,{count:s,start:o,ilen:a}=d1(i,n,r),{move:l=!0,reverse:c}=r||{};let d=0,f=0,h,p,m,g,_,y;const v=S=>(o+(c?a-S:S))%s,x=()=>{g!==_&&(e.lineTo(d,_),e.lineTo(d,g),e.lineTo(d,y))};for(l&&(p=i[v(0)],e.moveTo(p.x,p.y)),h=0;h<=a;++h){if(p=i[v(h)],p.skip)continue;const S=p.x,b=p.y,k=S|0;k===m?(b<g?g=b:b>_&&(_=b),d=(f*d+S)/++f):(x(),e.lineTo(S,b),m=k,f=0,g=_=b),y=b}x()}function Zh(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!n?CF:EF}function TF(e){return e.stepped?wz:e.tension||e.cubicInterpolationMode==="monotone"?kz:qr}function IF(e,t,n,r){let i=t._path;i||(i=t._path=new Path2D,t.path(i,n,r)&&i.closePath()),u1(e,t.options),e.stroke(i)}function RF(e,t,n,r){const{segments:i,options:s}=t,o=Zh(t);for(const a of i)u1(e,s,a.style),e.beginPath(),o(e,t,a,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}const MF=typeof Path2D=="function";function DF(e,t,n,r){MF&&!t.options.segment?IF(e,t,n,r):RF(e,t,n,r)}class So extends Qn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,n){const r=this.options;if((r.tension||r.cubicInterpolationMode==="monotone")&&!r.stepped&&!this._pointsUpdated){const i=r.spanGaps?this._loop:this._fullLoop;mz(this._points,r,t,i,n),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=jz(this,this.options.segment))}first(){const t=this.segments,n=this.points;return t.length&&n[t[0].start]}last(){const t=this.segments,n=this.points,r=t.length;return r&&n[t[r-1].end]}interpolate(t,n){const r=this.options,i=t[n],s=this.points,o=Rz(this,{property:n,start:i,end:i});if(!o.length)return;const a=[],l=TF(r);let c,d;for(c=0,d=o.length;c<d;++c){const{start:f,end:h}=o[c],p=s[f],m=s[h];if(p===m){a.push(p);continue}const g=Math.abs((i-p[n])/(m[n]-p[n])),_=l(p,m,g,r.stepped);_[n]=t[n],a.push(_)}return a.length===1?a[0]:a}pathSegment(t,n,r){return Zh(this)(t,this,n,r)}path(t,n,r){const i=this.segments,s=Zh(this);let o=this._loop;n=n||0,r=r||this.points.length-n;for(const a of i)o&=s(t,this,a,{start:n,end:n+r-1});return!!o}draw(t,n,r,i){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(t.save(),DF(t,this,r,i),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}W(So,"id","line"),W(So,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),W(So,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),W(So,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function Q_(e,t,n,r){const i=e.options,{[n]:s}=e.getProps([n],r);return Math.abs(t-s)<i.radius+i.hitRadius}class hc extends Qn{constructor(n){super();W(this,"parsed");W(this,"skip");W(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,r,i){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],i);return Math.pow(n-o,2)+Math.pow(r-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,r){return Q_(this,n,"x",r)}inYRange(n,r){return Q_(this,n,"y",r)}getCenterPoint(n){const{x:r,y:i}=this.getProps(["x","y"],n);return{x:r,y:i}}size(n){n=n||this.options||{};let r=n.radius||0;r=Math.max(r,r&&n.hoverRadius||0);const i=r&&n.borderWidth||0;return(r+i)*2}draw(n,r){const i=this.options;this.skip||i.radius<.1||!va(this,r,this.size(i)/2)||(n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.fillStyle=i.backgroundColor,Uh(n,i,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}W(hc,"id","point"),W(hc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),W(hc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function f1(e,t){const{x:n,y:r,base:i,width:s,height:o}=e.getProps(["x","y","base","width","height"],t);let a,l,c,d,f;return e.horizontal?(f=o/2,a=Math.min(n,i),l=Math.max(n,i),c=r-f,d=r+f):(f=s/2,a=n-f,l=n+f,c=Math.min(r,i),d=Math.max(r,i)),{left:a,top:c,right:l,bottom:d}}function pr(e,t,n,r){return e?0:st(t,n,r)}function jF(e,t,n){const r=e.options.borderWidth,i=e.borderSkipped,s=Uk(r);return{t:pr(i.top,s.top,0,n),r:pr(i.right,s.right,0,t),b:pr(i.bottom,s.bottom,0,n),l:pr(i.left,s.left,0,t)}}function AF(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),i=e.options.borderRadius,s=fs(i),o=Math.min(t,n),a=e.borderSkipped,l=r||ae(i);return{topLeft:pr(!l||a.top||a.left,s.topLeft,0,o),topRight:pr(!l||a.top||a.right,s.topRight,0,o),bottomLeft:pr(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:pr(!l||a.bottom||a.right,s.bottomRight,0,o)}}function PF(e){const t=f1(e),n=t.right-t.left,r=t.bottom-t.top,i=jF(e,n/2,r/2),s=AF(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:s},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,s.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(i.b,i.r))}}}}function df(e,t,n,r){const i=t===null,s=n===null,a=e&&!(i&&s)&&f1(e,r);return a&&(i||hr(t,a.left,a.right))&&(s||hr(n,a.top,a.bottom))}function OF(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function NF(e,t){e.rect(t.x,t.y,t.w,t.h)}function ff(e,t,n={}){const r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,s=(e.x+e.w!==n.x+n.w?t:0)-r,o=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+s,h:e.h+o,radius:e.radius}}class pc extends Qn{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:n,options:{borderColor:r,backgroundColor:i}}=this,{inner:s,outer:o}=PF(this),a=OF(o.radius)?lu:NF;t.save(),(o.w!==s.w||o.h!==s.h)&&(t.beginPath(),a(t,ff(o,n,s)),t.clip(),a(t,ff(s,-n,o)),t.fillStyle=r,t.fill("evenodd")),t.beginPath(),a(t,ff(s,n)),t.fillStyle=i,t.fill(),t.restore()}inRange(t,n,r){return df(this,t,n,r)}inXRange(t,n){return df(this,t,null,n)}inYRange(t,n){return df(this,null,t,n)}getCenterPoint(t){const{x:n,y:r,base:i,horizontal:s}=this.getProps(["x","y","base","horizontal"],t);return{x:s?(n+i)/2:n,y:s?r:(r+i)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}W(pc,"id","bar"),W(pc,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),W(pc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const e0=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}},LF=(e,t)=>e!==null&&t!==null&&e.datasetIndex===t.datasetIndex&&e.index===t.index;class t0 extends Qn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n,r){this.maxWidth=t,this.maxHeight=n,this._margins=r,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let n=be(t.generateLabels,[this.chart],this)||[];t.filter&&(n=n.filter(r=>t.filter(r,this.chart.data))),t.sort&&(n=n.sort((r,i)=>t.sort(r,i,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:t,ctx:n}=this;if(!t.display){this.width=this.height=0;return}const r=t.labels,i=ot(r.font),s=i.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=e0(r,s);let c,d;n.font=i.string,this.isHorizontal()?(c=this.maxWidth,d=this._fitRows(o,s,a,l)+10):(d=this.maxHeight,c=this._fitCols(o,i,a,l)+10),this.width=Math.min(c,t.maxWidth||this.maxWidth),this.height=Math.min(d,t.maxHeight||this.maxHeight)}_fitRows(t,n,r,i){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.lineWidths=[0],d=i+a;let f=t;s.textAlign="left",s.textBaseline="middle";let h=-1,p=-d;return this.legendItems.forEach((m,g)=>{const _=r+n/2+s.measureText(m.text).width;(g===0||c[c.length-1]+_+2*a>o)&&(f+=d,c[c.length-(g>0?0:1)]=0,p+=d,h++),l[g]={left:0,top:p,row:h,width:_,height:i},c[c.length-1]+=_+a}),f}_fitCols(t,n,r,i){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],c=this.columnSizes=[],d=o-t;let f=a,h=0,p=0,m=0,g=0;return this.legendItems.forEach((_,y)=>{const{itemWidth:v,itemHeight:x}=zF(r,n,s,_,i);y>0&&p+x+2*a>d&&(f+=h+a,c.push({width:h,height:p}),m+=h+a,g++,h=p=0),l[y]={left:m,top:p,col:g,width:v,height:x},h=Math.max(h,v),p+=x+a}),f+=h,c.push({width:h,height:p}),f}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:r,labels:{padding:i},rtl:s}}=this,o=hs(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=rt(r,this.left+i,this.right-this.lineWidths[a]);for(const c of n)a!==c.row&&(a=c.row,l=rt(r,this.left+i,this.right-this.lineWidths[a])),c.top+=this.top+t+i,c.left=o.leftForLtr(o.x(l),c.width),l+=c.width+i}else{let a=0,l=rt(r,this.top+t+i,this.bottom-this.columnSizes[a].height);for(const c of n)c.col!==a&&(a=c.col,l=rt(r,this.top+t+i,this.bottom-this.columnSizes[a].height)),c.top=l,c.left+=this.left+i,c.left=o.leftForLtr(o.x(c.left),c.width),l+=c.height+i}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Ym(t,this),this._draw(),qm(t)}}_draw(){const{options:t,columnSizes:n,lineWidths:r,ctx:i}=this,{align:s,labels:o}=t,a=Le.color,l=hs(t.rtl,this.left,this.width),c=ot(o.font),{padding:d}=o,f=c.size,h=f/2;let p;this.drawTitle(),i.textAlign=l.textAlign("left"),i.textBaseline="middle",i.lineWidth=.5,i.font=c.string;const{boxWidth:m,boxHeight:g,itemHeight:_}=e0(o,f),y=function(k,w,E){if(isNaN(m)||m<=0||isNaN(g)||g<0)return;i.save();const C=Q(E.lineWidth,1);if(i.fillStyle=Q(E.fillStyle,a),i.lineCap=Q(E.lineCap,"butt"),i.lineDashOffset=Q(E.lineDashOffset,0),i.lineJoin=Q(E.lineJoin,"miter"),i.lineWidth=C,i.strokeStyle=Q(E.strokeStyle,a),i.setLineDash(Q(E.lineDash,[])),o.usePointStyle){const T={radius:g*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:C},I=l.xPlus(k,m/2),D=w+h;Wk(i,T,I,D,o.pointStyleWidth&&m)}else{const T=w+Math.max((f-g)/2,0),I=l.leftForLtr(k,m),D=fs(E.borderRadius);i.beginPath(),Object.values(D).some(F=>F!==0)?lu(i,{x:I,y:T,w:m,h:g,radius:D}):i.rect(I,T,m,g),i.fill(),C!==0&&i.stroke()}i.restore()},v=function(k,w,E){_a(i,E.text,k,w+_/2,c,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},x=this.isHorizontal(),S=this._computeTitleHeight();x?p={x:rt(s,this.left+d,this.right-r[0]),y:this.top+d+S,line:0}:p={x:this.left+d,y:rt(s,this.top+S+d,this.bottom-n[0].height),line:0},Gk(this.ctx,t.textDirection);const b=_+d;this.legendItems.forEach((k,w)=>{i.strokeStyle=k.fontColor,i.fillStyle=k.fontColor;const E=i.measureText(k.text).width,C=l.textAlign(k.textAlign||(k.textAlign=o.textAlign)),T=m+h+E;let I=p.x,D=p.y;l.setWidth(this.width),x?w>0&&I+T+d>this.right&&(D=p.y+=b,p.line++,I=p.x=rt(s,this.left+d,this.right-r[p.line])):w>0&&D+b>this.bottom&&(I=p.x=I+n[p.line].width+d,p.line++,D=p.y=rt(s,this.top+S+d,this.bottom-n[p.line].height));const F=l.x(I);if(y(F,D,k),I=D2(C,I+m+h,x?I+T:this.right,t.rtl),v(l.x(I),D,k),x)p.x+=T+d;else if(typeof k.text!="string"){const U=c.lineHeight;p.y+=h1(k,U)+d}else p.y+=b}),Kk(this.ctx,t.textDirection)}drawTitle(){const t=this.options,n=t.title,r=ot(n.font),i=en(n.padding);if(!n.display)return;const s=hs(t.rtl,this.left,this.width),o=this.ctx,a=n.position,l=r.size/2,c=i.top+l;let d,f=this.left,h=this.width;if(this.isHorizontal())h=Math.max(...this.lineWidths),d=this.top+c,f=rt(t.align,f,this.right-h);else{const m=this.columnSizes.reduce((g,_)=>Math.max(g,_.height),0);d=c+rt(t.align,this.top,this.bottom-m-t.labels.padding-this._computeTitleHeight())}const p=rt(a,f,f+h);o.textAlign=s.textAlign(Hm(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=r.string,_a(o,n.text,p,d,r)}_computeTitleHeight(){const t=this.options.title,n=ot(t.font),r=en(t.padding);return t.display?n.lineHeight+r.height:0}_getLegendItemAt(t,n){let r,i,s;if(hr(t,this.left,this.right)&&hr(n,this.top,this.bottom)){for(s=this.legendHitBoxes,r=0;r<s.length;++r)if(i=s[r],hr(t,i.left,i.left+i.width)&&hr(n,i.top,i.top+i.height))return this.legendItems[r]}return null}handleEvent(t){const n=this.options;if(!$F(t.type,n))return;const r=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const i=this._hoveredItem,s=LF(i,r);i&&!s&&be(n.onLeave,[t,i,this],this),this._hoveredItem=r,r&&!s&&be(n.onHover,[t,r,this],this)}else r&&be(n.onClick,[t,r,this],this)}}function zF(e,t,n,r,i){const s=FF(r,e,t,n),o=BF(i,r,t.lineHeight);return{itemWidth:s,itemHeight:o}}function FF(e,t,n,r){let i=e.text;return i&&typeof i!="string"&&(i=i.reduce((s,o)=>s.length>o.length?s:o)),t+n.size/2+r.measureText(i).width}function BF(e,t,n){let r=e;return typeof t.text!="string"&&(r=h1(t,n)),r}function h1(e,t){const n=e.text?e.text.length:0;return t*n}function $F(e,t){return!!((e==="mousemove"||e==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(e==="click"||e==="mouseup"))}var WF={id:"legend",_element:t0,start(e,t,n){const r=e.legend=new t0({ctx:e.ctx,options:n,chart:e});Yt.configure(e,r,n),Yt.addBox(e,r)},stop(e){Yt.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Yt.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,i=n.chart;i.isDatasetVisible(r)?(i.hide(r),t.hidden=!0):(i.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:i,color:s,useBorderRadius:o,borderRadius:a}}=e.legend.options;return e._getSortedDatasetMetas().map(l=>{const c=l.controller.getStyle(n?0:void 0),d=en(c.borderWidth);return{text:t[l.index].label,fillStyle:c.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:c.borderCapStyle,lineDash:c.borderDash,lineDashOffset:c.borderDashOffset,lineJoin:c.borderJoinStyle,lineWidth:(d.width+d.height)/4,strokeStyle:c.borderColor,pointStyle:r||c.pointStyle,rotation:c.rotation,textAlign:i||c.textAlign,borderRadius:o&&(a||c.borderRadius),datasetIndex:l.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class p1 extends Qn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,n){const r=this.options;if(this.left=0,this.top=0,!r.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=n;const i=Ve(r.text)?r.text.length:1;this._padding=en(r.padding);const s=i*ot(r.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:n,left:r,bottom:i,right:s,options:o}=this,a=o.align;let l=0,c,d,f;return this.isHorizontal()?(d=rt(a,r,s),f=n+t,c=s-r):(o.position==="left"?(d=r+t,f=rt(a,i,n),l=me*-.5):(d=s-t,f=rt(a,n,i),l=me*.5),c=i-n),{titleX:d,titleY:f,maxWidth:c,rotation:l}}draw(){const t=this.ctx,n=this.options;if(!n.display)return;const r=ot(n.font),s=r.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:c}=this._drawArgs(s);_a(t,n.text,0,0,r,{color:n.color,maxWidth:l,rotation:c,textAlign:Hm(n.align),textBaseline:"middle",translation:[o,a]})}}function UF(e,t){const n=new p1({ctx:e.ctx,options:t,chart:e});Yt.configure(e,n,t),Yt.addBox(e,n),e.titleBlock=n}var HF={id:"title",_element:p1,start(e,t,n){UF(e,n)},stop(e){const t=e.titleBlock;Yt.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Yt.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const bo={average(e){if(!e.length)return!1;let t,n,r=new Set,i=0,s=0;for(t=0,n=e.length;t<n;++t){const a=e[t].element;if(a&&a.hasValue()){const l=a.tooltipPosition();r.add(l.x),i+=l.y,++s}}return s===0||r.size===0?!1:{x:[...r].reduce((a,l)=>a+l)/r.size,y:i/s}},nearest(e,t){if(!e.length)return!1;let n=t.x,r=t.y,i=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=e.length;s<o;++s){const l=e[s].element;if(l&&l.hasValue()){const c=l.getCenterPoint(),d=$h(t,c);d<i&&(i=d,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,r=l.y}return{x:n,y:r}}};function xn(e,t){return t&&(Ve(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function jn(e){return(typeof e=="string"||e instanceof String)&&e.indexOf(`
`)>-1?e.split(`
`):e}function VF(e,t){const{element:n,datasetIndex:r,index:i}=t,s=e.getDatasetMeta(r).controller,{label:o,value:a}=s.getLabelAndValue(i);return{chart:e,label:o,parsed:s.getParsed(i),raw:e.data.datasets[r].data[i],formattedValue:a,dataset:s.getDataset(),dataIndex:i,datasetIndex:r,element:n}}function n0(e,t){const n=e.chart.ctx,{body:r,footer:i,title:s}=e,{boxWidth:o,boxHeight:a}=t,l=ot(t.bodyFont),c=ot(t.titleFont),d=ot(t.footerFont),f=s.length,h=i.length,p=r.length,m=en(t.padding);let g=m.height,_=0,y=r.reduce((S,b)=>S+b.before.length+b.lines.length+b.after.length,0);if(y+=e.beforeBody.length+e.afterBody.length,f&&(g+=f*c.lineHeight+(f-1)*t.titleSpacing+t.titleMarginBottom),y){const S=t.displayColors?Math.max(a,l.lineHeight):l.lineHeight;g+=p*S+(y-p)*l.lineHeight+(y-1)*t.bodySpacing}h&&(g+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let v=0;const x=function(S){_=Math.max(_,n.measureText(S).width+v)};return n.save(),n.font=c.string,pe(e.title,x),n.font=l.string,pe(e.beforeBody.concat(e.afterBody),x),v=t.displayColors?o+2+t.boxPadding:0,pe(r,S=>{pe(S.before,x),pe(S.lines,x),pe(S.after,x)}),v=0,n.font=d.string,pe(e.footer,x),n.restore(),_+=m.width,{width:_,height:g}}function ZF(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}function YF(e,t,n,r){const{x:i,width:s}=r,o=n.caretSize+n.caretPadding;if(e==="left"&&i+s+o>t.width||e==="right"&&i-s-o<0)return!0}function qF(e,t,n,r){const{x:i,width:s}=n,{width:o,chartArea:{left:a,right:l}}=e;let c="center";return r==="center"?c=i<=(a+l)/2?"left":"right":i<=s/2?c="left":i>=o-s/2&&(c="right"),YF(c,e,t,n)&&(c="center"),c}function r0(e,t,n){const r=n.yAlign||t.yAlign||ZF(e,n);return{xAlign:n.xAlign||t.xAlign||qF(e,t,n,r),yAlign:r}}function GF(e,t){let{x:n,width:r}=e;return t==="right"?n-=r:t==="center"&&(n-=r/2),n}function KF(e,t,n){let{y:r,height:i}=e;return t==="top"?r+=n:t==="bottom"?r-=i+n:r-=i/2,r}function i0(e,t,n,r){const{caretSize:i,caretPadding:s,cornerRadius:o}=e,{xAlign:a,yAlign:l}=n,c=i+s,{topLeft:d,topRight:f,bottomLeft:h,bottomRight:p}=fs(o);let m=GF(t,a);const g=KF(t,l,c);return l==="center"?a==="left"?m+=c:a==="right"&&(m-=c):a==="left"?m-=Math.max(d,h)+i:a==="right"&&(m+=Math.max(f,p)+i),{x:st(m,0,r.width-t.width),y:st(g,0,r.height-t.height)}}function Al(e,t,n){const r=en(n.padding);return t==="center"?e.x+e.width/2:t==="right"?e.x+e.width-r.right:e.x+r.left}function s0(e){return xn([],jn(e))}function XF(e,t,n){return Di(e,{tooltip:t,tooltipItems:n,type:"tooltip"})}function o0(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const m1={beforeTitle:Rn,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:Rn,beforeBody:Rn,beforeLabel:Rn,label(e){if(this&&this.options&&this.options.mode==="dataset")return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return de(n)||(t+=n),t},labelColor(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const n=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:Rn,afterBody:Rn,beforeFooter:Rn,footer:Rn,afterFooter:Rn};function yt(e,t,n,r){const i=e[t].call(n,r);return typeof i>"u"?m1[t].call(n,r):i}class Yh extends Qn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const n=this.chart,r=this.options.setContext(this.getContext()),i=r.enabled&&n.options.animation&&r.animations,s=new Jk(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=XF(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,n){const{callbacks:r}=n,i=yt(r,"beforeTitle",this,t),s=yt(r,"title",this,t),o=yt(r,"afterTitle",this,t);let a=[];return a=xn(a,jn(i)),a=xn(a,jn(s)),a=xn(a,jn(o)),a}getBeforeBody(t,n){return s0(yt(n.callbacks,"beforeBody",this,t))}getBody(t,n){const{callbacks:r}=n,i=[];return pe(t,s=>{const o={before:[],lines:[],after:[]},a=o0(r,s);xn(o.before,jn(yt(a,"beforeLabel",this,s))),xn(o.lines,yt(a,"label",this,s)),xn(o.after,jn(yt(a,"afterLabel",this,s))),i.push(o)}),i}getAfterBody(t,n){return s0(yt(n.callbacks,"afterBody",this,t))}getFooter(t,n){const{callbacks:r}=n,i=yt(r,"beforeFooter",this,t),s=yt(r,"footer",this,t),o=yt(r,"afterFooter",this,t);let a=[];return a=xn(a,jn(i)),a=xn(a,jn(s)),a=xn(a,jn(o)),a}_createItems(t){const n=this._active,r=this.chart.data,i=[],s=[],o=[];let a=[],l,c;for(l=0,c=n.length;l<c;++l)a.push(VF(this.chart,n[l]));return t.filter&&(a=a.filter((d,f,h)=>t.filter(d,f,h,r))),t.itemSort&&(a=a.sort((d,f)=>t.itemSort(d,f,r))),pe(a,d=>{const f=o0(t.callbacks,d);i.push(yt(f,"labelColor",this,d)),s.push(yt(f,"labelPointStyle",this,d)),o.push(yt(f,"labelTextColor",this,d))}),this.labelColors=i,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(t,n){const r=this.options.setContext(this.getContext()),i=this._active;let s,o=[];if(!i.length)this.opacity!==0&&(s={opacity:0});else{const a=bo[r.position].call(this,i,this._eventPosition);o=this._createItems(r),this.title=this.getTitle(o,r),this.beforeBody=this.getBeforeBody(o,r),this.body=this.getBody(o,r),this.afterBody=this.getAfterBody(o,r),this.footer=this.getFooter(o,r);const l=this._size=n0(this,r),c=Object.assign({},a,l),d=r0(this.chart,r,c),f=i0(r,c,d,this.chart);this.xAlign=d.xAlign,this.yAlign=d.yAlign,s={opacity:1,x:f.x,y:f.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(t,n,r,i){const s=this.getCaretPosition(t,r,i);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(t,n,r){const{xAlign:i,yAlign:s}=this,{caretSize:o,cornerRadius:a}=r,{topLeft:l,topRight:c,bottomLeft:d,bottomRight:f}=fs(a),{x:h,y:p}=t,{width:m,height:g}=n;let _,y,v,x,S,b;return s==="center"?(S=p+g/2,i==="left"?(_=h,y=_-o,x=S+o,b=S-o):(_=h+m,y=_+o,x=S-o,b=S+o),v=_):(i==="left"?y=h+Math.max(l,d)+o:i==="right"?y=h+m-Math.max(c,f)-o:y=this.caretX,s==="top"?(x=p,S=x-o,_=y-o,v=y+o):(x=p+g,S=x+o,_=y+o,v=y-o),b=x),{x1:_,x2:y,x3:v,y1:x,y2:S,y3:b}}drawTitle(t,n,r){const i=this.title,s=i.length;let o,a,l;if(s){const c=hs(r.rtl,this.x,this.width);for(t.x=Al(this,r.titleAlign,r),n.textAlign=c.textAlign(r.titleAlign),n.textBaseline="middle",o=ot(r.titleFont),a=r.titleSpacing,n.fillStyle=r.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(i[l],c.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+a,l+1===s&&(t.y+=r.titleMarginBottom-a)}}_drawColorBox(t,n,r,i,s){const o=this.labelColors[r],a=this.labelPointStyles[r],{boxHeight:l,boxWidth:c}=s,d=ot(s.bodyFont),f=Al(this,"left",s),h=i.x(f),p=l<d.lineHeight?(d.lineHeight-l)/2:0,m=n.y+p;if(s.usePointStyle){const g={radius:Math.min(c,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},_=i.leftForLtr(h,c)+c/2,y=m+l/2;t.strokeStyle=s.multiKeyBackground,t.fillStyle=s.multiKeyBackground,Uh(t,g,_,y),t.strokeStyle=o.borderColor,t.fillStyle=o.backgroundColor,Uh(t,g,_,y)}else{t.lineWidth=ae(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,t.strokeStyle=o.borderColor,t.setLineDash(o.borderDash||[]),t.lineDashOffset=o.borderDashOffset||0;const g=i.leftForLtr(h,c),_=i.leftForLtr(i.xPlus(h,1),c-2),y=fs(o.borderRadius);Object.values(y).some(v=>v!==0)?(t.beginPath(),t.fillStyle=s.multiKeyBackground,lu(t,{x:g,y:m,w:c,h:l,radius:y}),t.fill(),t.stroke(),t.fillStyle=o.backgroundColor,t.beginPath(),lu(t,{x:_,y:m+1,w:c-2,h:l-2,radius:y}),t.fill()):(t.fillStyle=s.multiKeyBackground,t.fillRect(g,m,c,l),t.strokeRect(g,m,c,l),t.fillStyle=o.backgroundColor,t.fillRect(_,m+1,c-2,l-2))}t.fillStyle=this.labelTextColors[r]}drawBody(t,n,r){const{body:i}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:c,boxPadding:d}=r,f=ot(r.bodyFont);let h=f.lineHeight,p=0;const m=hs(r.rtl,this.x,this.width),g=function(E){n.fillText(E,m.x(t.x+p),t.y+h/2),t.y+=h+s},_=m.textAlign(o);let y,v,x,S,b,k,w;for(n.textAlign=o,n.textBaseline="middle",n.font=f.string,t.x=Al(this,_,r),n.fillStyle=r.bodyColor,pe(this.beforeBody,g),p=a&&_!=="right"?o==="center"?c/2+d:c+2+d:0,S=0,k=i.length;S<k;++S){for(y=i[S],v=this.labelTextColors[S],n.fillStyle=v,pe(y.before,g),x=y.lines,a&&x.length&&(this._drawColorBox(n,t,S,m,r),h=Math.max(f.lineHeight,l)),b=0,w=x.length;b<w;++b)g(x[b]),h=f.lineHeight;pe(y.after,g)}p=0,h=f.lineHeight,pe(this.afterBody,g),t.y-=s}drawFooter(t,n,r){const i=this.footer,s=i.length;let o,a;if(s){const l=hs(r.rtl,this.x,this.width);for(t.x=Al(this,r.footerAlign,r),t.y+=r.footerMarginTop,n.textAlign=l.textAlign(r.footerAlign),n.textBaseline="middle",o=ot(r.footerFont),n.fillStyle=r.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(i[a],l.x(t.x),t.y+o.lineHeight/2),t.y+=o.lineHeight+r.footerSpacing}}drawBackground(t,n,r,i){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=t,{width:c,height:d}=r,{topLeft:f,topRight:h,bottomLeft:p,bottomRight:m}=fs(i.cornerRadius);n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,n.lineWidth=i.borderWidth,n.beginPath(),n.moveTo(a+f,l),o==="top"&&this.drawCaret(t,n,r,i),n.lineTo(a+c-h,l),n.quadraticCurveTo(a+c,l,a+c,l+h),o==="center"&&s==="right"&&this.drawCaret(t,n,r,i),n.lineTo(a+c,l+d-m),n.quadraticCurveTo(a+c,l+d,a+c-m,l+d),o==="bottom"&&this.drawCaret(t,n,r,i),n.lineTo(a+p,l+d),n.quadraticCurveTo(a,l+d,a,l+d-p),o==="center"&&s==="left"&&this.drawCaret(t,n,r,i),n.lineTo(a,l+f),n.quadraticCurveTo(a,l,a+f,l),n.closePath(),n.fill(),i.borderWidth>0&&n.stroke()}_updateAnimationTarget(t){const n=this.chart,r=this.$animations,i=r&&r.x,s=r&&r.y;if(i||s){const o=bo[t.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=n0(this,t),l=Object.assign({},o,this._size),c=r0(n,t,l),d=i0(t,l,c,n);(i._to!==d.x||s._to!==d.y)&&(this.xAlign=c.xAlign,this.yAlign=c.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,d))}}_willRender(){return!!this.opacity}draw(t){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const i={width:this.width,height:this.height},s={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const o=en(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(t.save(),t.globalAlpha=r,this.drawBackground(s,t,i,n),Gk(t,n.textDirection),s.y+=o.top,this.drawTitle(s,t,n),this.drawBody(s,t,n),this.drawFooter(s,t,n),Kk(t,n.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,n){const r=this._active,i=t.map(({datasetIndex:a,index:l})=>{const c=this.chart.getDatasetMeta(a);if(!c)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:c.data[l],index:l}}),s=!su(r,i),o=this._positionChanged(i,n);(s||o)&&(this._active=i,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const i=this.options,s=this._active||[],o=this._getActiveElements(t,s,n,r),a=this._positionChanged(o,t),l=n||!su(o,s)||a;return l&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,n))),l}_getActiveElements(t,n,r,i){const s=this.options;if(t.type==="mouseout")return[];if(!i)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(t,s.mode,s,r);return s.reverse&&o.reverse(),o}_positionChanged(t,n){const{caretX:r,caretY:i,options:s}=this,o=bo[s.position].call(this,t,n);return o!==!1&&(r!==o.x||i!==o.y)}}W(Yh,"positioners",bo);var JF={id:"tooltip",_element:Yh,positioners:bo,afterInit(e,t,n){n&&(e.tooltip=new Yh({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(e.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:m1},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>e!=="filter"&&e!=="itemSort"&&e!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const QF=(e,t,n,r)=>(typeof t=="string"?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n);function eB(e,t,n,r){const i=e.indexOf(t);if(i===-1)return QF(e,t,n,r);const s=e.lastIndexOf(t);return i!==s?n:i}const tB=(e,t)=>e===null?null:st(Math.round(e),0,t);function a0(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class qh extends Zs{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const n=this._addedLabels;if(n.length){const r=this.getLabels();for(const{index:i,label:s}of n)r[i]===s&&r.splice(i,1);this._addedLabels=[]}super.init(t)}parse(t,n){if(de(t))return null;const r=this.getLabels();return n=isFinite(n)&&r[n]===t?n:eB(r,t,Q(n,t),this._addedLabels),tB(n,r.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(r=0),n||(i=this.getLabels().length-1)),this.min=r,this.max=i}buildTicks(){const t=this.min,n=this.max,r=this.options.offset,i=[];let s=this.getLabels();s=t===0&&n===s.length-1?s:s.slice(t,n+1),this._valueRange=Math.max(s.length-(r?0:1),1),this._startValue=this.min-(r?.5:0);for(let o=t;o<=n;o++)i.push({value:o});return i}getLabelForValue(t){return a0.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const n=this.ticks;return t<0||t>n.length-1?null:this.getPixelForValue(n[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}W(qh,"id","category"),W(qh,"defaults",{ticks:{callback:a0}});function nB(e,t){const n=[],{bounds:i,step:s,min:o,max:a,precision:l,count:c,maxTicks:d,maxDigits:f,includeBounds:h}=e,p=s||1,m=d-1,{min:g,max:_}=t,y=!de(o),v=!de(a),x=!de(c),S=(_-g)/(f+1);let b=c_((_-g)/m/p)*p,k,w,E,C;if(b<1e-14&&!y&&!v)return[{value:g},{value:_}];C=Math.ceil(_/b)-Math.floor(g/b),C>m&&(b=c_(C*b/m/p)*p),de(l)||(k=Math.pow(10,l),b=Math.ceil(b*k)/k),i==="ticks"?(w=Math.floor(g/b)*b,E=Math.ceil(_/b)*b):(w=g,E=_),y&&v&&s&&b2((a-o)/s,b/1e3)?(C=Math.round(Math.min((a-o)/b,d)),b=(a-o)/C,w=o,E=a):x?(w=y?o:w,E=v?a:E,C=c-1,b=(E-w)/C):(C=(E-w)/b,Fo(C,Math.round(C),b/1e3)?C=Math.round(C):C=Math.ceil(C));const T=Math.max(u_(b),u_(w));k=Math.pow(10,de(l)?T:l),w=Math.round(w*k)/k,E=Math.round(E*k)/k;let I=0;for(y&&(h&&w!==o?(n.push({value:o}),w<o&&I++,Fo(Math.round((w+I*b)*k)/k,o,l0(o,S,e))&&I++):w<o&&I++);I<C;++I){const D=Math.round((w+I*b)*k)/k;if(v&&D>a)break;n.push({value:D})}return v&&h&&E!==a?n.length&&Fo(n[n.length-1].value,a,l0(a,S,e))?n[n.length-1].value=a:n.push({value:a}):(!v||E===a)&&n.push({value:E}),n}function l0(e,t,{horizontal:n,minRotation:r}){const i=zn(r),s=(n?Math.sin(i):Math.cos(i))||.001,o=.75*t*(""+e).length;return Math.min(t/s,o)}class rB extends Zs{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,n){return de(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:n,maxDefined:r}=this.getUserBounds();let{min:i,max:s}=this;const o=l=>i=n?i:l,a=l=>s=r?s:l;if(t){const l=Tn(i),c=Tn(s);l<0&&c<0?a(0):l>0&&c>0&&o(0)}if(i===s){let l=s===0?1:Math.abs(s*.05);a(s+l),t||o(i-l)}this.min=i,this.max=s}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:n,stepSize:r}=t,i;return r?(i=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,i>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${r} would result generating up to ${i} ticks. Limiting to 1000.`),i=1e3)):(i=this.computeTickLimit(),n=n||11),n&&(i=Math.min(n,i)),i}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,n=t.ticks;let r=this.getTickLimit();r=Math.max(2,r);const i={maxTicks:r,bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=nB(i,s);return t.bounds==="ticks"&&w2(o,this,"value"),t.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const t=this.ticks;let n=this.min,r=this.max;if(super.configure(),this.options.offset&&t.length){const i=(r-n)/Math.max(t.length-1,1)/2;n-=i,r+=i}this._startValue=n,this._endValue=r,this._valueRange=r-n}getLabelForValue(t){return Zm(t,this.chart.options.locale,this.options.ticks.format)}}class Gh extends rB{determineDataLimits(){const{min:t,max:n}=this.getMinMax(!0);this.min=Qt(t)?t:0,this.max=Qt(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),n=t?this.width:this.height,r=zn(this.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/i))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}W(Gh,"id","linear"),W(Gh,"defaults",{ticks:{callback:$k.formatters.numeric}});const qu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},St=Object.keys(qu);function c0(e,t){return e-t}function u0(e,t){if(de(t))return null;const n=e._adapter,{parser:r,round:i,isoWeekday:s}=e._parseOpts;let o=t;return typeof r=="function"&&(o=r(o)),Qt(o)||(o=typeof r=="string"?n.parse(o,r):n.parse(o)),o===null?null:(i&&(o=i==="week"&&(ga(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,i)),+o)}function d0(e,t,n,r){const i=St.length;for(let s=St.indexOf(e);s<i-1;++s){const o=qu[St[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-t)/(a*o.size))<=r)return St[s]}return St[i-1]}function iB(e,t,n,r,i){for(let s=St.length-1;s>=St.indexOf(n);s--){const o=St[s];if(qu[o].common&&e._adapter.diff(i,r,o)>=t-1)return o}return St[n?St.indexOf(n):0]}function sB(e){for(let t=St.indexOf(e)+1,n=St.length;t<n;++t)if(qu[St[t]].common)return St[t]}function f0(e,t,n){if(!n)e[t]=!0;else if(n.length){const{lo:r,hi:i}=Um(n,t),s=n[r]>=t?n[r]:n[i];e[s]=!0}}function oB(e,t,n,r){const i=e._adapter,s=+i.startOf(t[0].value,r),o=t[t.length-1].value;let a,l;for(a=s;a<=o;a=+i.add(a,1,r))l=n[a],l>=0&&(t[l].major=!0);return t}function h0(e,t,n){const r=[],i={},s=t.length;let o,a;for(o=0;o<s;++o)a=t[o],i[a]=o,r.push({value:a,major:!1});return s===0||!n?r:oB(e,r,i,n)}class fu extends Zs{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,n={}){const r=t.time||(t.time={}),i=this._adapter=new l5._date(t.adapters.date);i.init(n),zo(r.displayFormats,i.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(t),this._normalized=n.normalized}parse(t,n){return t===void 0?null:u0(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,n=this._adapter,r=t.time.unit||"day";let{min:i,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(c){!o&&!isNaN(c.min)&&(i=Math.min(i,c.min)),!a&&!isNaN(c.max)&&(s=Math.max(s,c.max))}(!o||!a)&&(l(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&l(this.getMinMax(!1))),i=Qt(i)&&!isNaN(i)?i:+n.startOf(Date.now(),r),s=Qt(s)&&!isNaN(s)?s:+n.endOf(Date.now(),r)+1,this.min=Math.min(i,s-1),this.max=Math.max(i+1,s)}_getLabelBounds(){const t=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return t.length&&(n=t[0],r=t[t.length-1]),{min:n,max:r}}buildTicks(){const t=this.options,n=t.time,r=t.ticks,i=r.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);const s=this.min,o=this.max,a=I2(i,s,o);return this._unit=n.unit||(r.autoSkip?d0(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):iB(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!r.major.enabled||this._unit==="year"?void 0:sB(this._unit),this.initOffsets(i),t.reverse&&a.reverse(),h0(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let n=0,r=0,i,s;this.options.offset&&t.length&&(i=this.getDecimalForValue(t[0]),t.length===1?n=1-i:n=(this.getDecimalForValue(t[1])-i)/2,s=this.getDecimalForValue(t[t.length-1]),t.length===1?r=s:r=(s-this.getDecimalForValue(t[t.length-2]))/2);const o=t.length<3?.5:.25;n=st(n,0,o),r=st(r,0,o),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const t=this._adapter,n=this.min,r=this.max,i=this.options,s=i.time,o=s.unit||d0(s.minUnit,n,r,this._getLabelCapacity(n)),a=Q(i.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,c=ga(l)||l===!0,d={};let f=n,h,p;if(c&&(f=+t.startOf(f,"isoWeek",l)),f=+t.startOf(f,c?"day":o),t.diff(r,n,o)>1e5*a)throw new Error(n+" and "+r+" are too far apart with stepSize of "+a+" "+o);const m=i.ticks.source==="data"&&this.getDataTimestamps();for(h=f,p=0;h<r;h=+t.add(h,a,o),p++)f0(d,h,m);return(h===r||i.bounds==="ticks"||p===1)&&f0(d,h,m),Object.keys(d).sort(c0).map(g=>+g)}getLabelForValue(t){const n=this._adapter,r=this.options.time;return r.tooltipFormat?n.format(t,r.tooltipFormat):n.format(t,r.displayFormats.datetime)}format(t,n){const i=this.options.time.displayFormats,s=this._unit,o=n||i[s];return this._adapter.format(t,o)}_tickFormatFunction(t,n,r,i){const s=this.options,o=s.ticks.callback;if(o)return be(o,[t,n,r],this);const a=s.time.displayFormats,l=this._unit,c=this._majorUnit,d=l&&a[l],f=c&&a[c],h=r[n],p=c&&f&&h&&h.major;return this._adapter.format(t,i||(p?f:d))}generateTickLabels(t){let n,r,i;for(n=0,r=t.length;n<r;++n)i=t[n],i.label=this._tickFormatFunction(i.value,n,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const n=this._offsets,r=this.getDecimalForValue(t);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(t){const n=this.options.ticks,r=this.ctx.measureText(t).width,i=zn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:r*s+a*o,h:r*o+a*s}}_getLabelCapacity(t){const n=this.options.time,r=n.displayFormats,i=r[n.unit]||r.millisecond,s=this._tickFormatFunction(t,0,h0(this,[t],this._majorUnit),i),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let t=this._cache.data||[],n,r;if(t.length)return t;const i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(n=0,r=i.length;n<r;++n)t=t.concat(i[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let n,r;if(t.length)return t;const i=this.getLabels();for(n=0,r=i.length;n<r;++n)t.push(u0(this,i[n]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return zk(t.sort(c0))}}W(fu,"id","time"),W(fu,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Pl(e,t,n){let r=0,i=e.length-1,s,o,a,l;n?(t>=e[r].pos&&t<=e[i].pos&&({lo:r,hi:i}=ti(e,"pos",t)),{pos:s,time:a}=e[r],{pos:o,time:l}=e[i]):(t>=e[r].time&&t<=e[i].time&&({lo:r,hi:i}=ti(e,"time",t)),{time:s,pos:a}=e[r],{time:o,pos:l}=e[i]);const c=o-s;return c?a+(l-a)*(t-s)/c:a}class p0 extends fu{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(t);this._minPos=Pl(n,this.min),this._tableRange=Pl(n,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:n,max:r}=this,i=[],s=[];let o,a,l,c,d;for(o=0,a=t.length;o<a;++o)c=t[o],c>=n&&c<=r&&i.push(c);if(i.length<2)return[{time:n,pos:0},{time:r,pos:1}];for(o=0,a=i.length;o<a;++o)d=i[o+1],l=i[o-1],c=i[o],Math.round((d+l)/2)!==c&&s.push({time:c,pos:o/(a-1)});return s}_generate(){const t=this.min,n=this.max;let r=super.getDataTimestamps();return(!r.includes(t)||!r.length)&&r.splice(0,0,t),(!r.includes(n)||r.length===1)&&r.push(n),r.sort((i,s)=>i-s)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const n=this.getDataTimestamps(),r=this.getLabelTimestamps();return n.length&&r.length?t=this.normalize(n.concat(r)):t=n.length?n:r,t=this._cache.all=t,t}getDecimalForValue(t){return(Pl(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const n=this._offsets,r=this.getDecimalForPixel(t)/n.factor-n.end;return Pl(this._table,r*this._tableRange+this._minPos,!0)}}W(p0,"id","timeseries"),W(p0,"defaults",fu.defaults);const g1="label";function m0(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function aB(e,t){const n=e.options;n&&t&&Object.assign(n,t)}function y1(e,t){e.labels=t}function v1(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g1;const r=[];e.datasets=t.map(i=>{const s=e.datasets.find(o=>o[n]===i[n]);return!s||!i.data||r.includes(s)?{...i}:(r.push(s),Object.assign(s,i),s)})}function lB(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:g1;const n={labels:[],datasets:[]};return y1(n,e.labels),v1(n,e.datasets,t),n}function cB(e,t){const{height:n=150,width:r=300,redraw:i=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:c=[],fallbackContent:d,updateMode:f,...h}=e,p=L.useRef(null),m=L.useRef(null),g=()=>{p.current&&(m.current=new Yu(p.current,{type:o,data:lB(a,s),options:l&&{...l},plugins:c}),m0(t,m.current))},_=()=>{m0(t,null),m.current&&(m.current.destroy(),m.current=null)};return L.useEffect(()=>{!i&&m.current&&l&&aB(m.current,l)},[i,l]),L.useEffect(()=>{!i&&m.current&&y1(m.current.config.data,a.labels)},[i,a.labels]),L.useEffect(()=>{!i&&m.current&&a.datasets&&v1(m.current.config.data,a.datasets,s)},[i,a.datasets]),L.useEffect(()=>{m.current&&(i?(_(),setTimeout(g)):m.current.update(f))},[i,l,a.labels,a.datasets,f]),L.useEffect(()=>{m.current&&(_(),setTimeout(g))},[o]),L.useEffect(()=>(g(),()=>_()),[]),ss.createElement("canvas",{ref:p,role:"img",height:n,width:r,...h},d)}const uB=L.forwardRef(cB);function ng(e,t){return Yu.register(t),L.forwardRef((n,r)=>ss.createElement(uB,{...n,ref:r,type:e}))}const dB=ng("line",uc),fB=ng("bar",cc),hB=ng("doughnut",vo);Yu.register(qh,Gh,hc,So,pc,HF,JF,WF,xo);function pB(){const{state:e}=gn(),{cycles:t}=e;if(t.length<2)return u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"Analytics Dashboard"}),u.jsxs("div",{style:{padding:"2rem",textAlign:"center",color:"var(--muted)",background:"linear-gradient(135deg, var(--surface-2), var(--surface))",borderRadius:"12px",margin:"1rem 0"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"0.5rem"},children:"More Data Needed"}),u.jsx("p",{children:"Track at least 2 cycles to see detailed analytics and trends."}),u.jsx("p",{style:{fontSize:"0.9rem",marginTop:"1rem"},children:"Your insights will appear here as you add more cycle data!"})]})]});const n=t.map((g,_)=>{if(_===0)return 28;const y=t[_-1],v=new Date(g.startDate),x=new Date(y.startDate);return Math.ceil((v-x)/(1e3*60*60*24))}).slice(1),r=t.slice(1).map((g,_)=>`Cycle ${_+2}`),i={};t.forEach(g=>{g.symptoms&&g.symptoms.forEach(_=>{i[_]=(i[_]||0)+1})});const s={light:0,medium:0,heavy:0};t.forEach(g=>{g.flowIntensity&&s[g.flowIntensity]++});const o={responsive:!0,plugins:{legend:{position:"top"}},scales:{y:{beginAtZero:!0,ticks:{stepSize:1}}}},a={labels:r,datasets:[{label:"Cycle Length (days)",data:n,borderColor:"#9b8cff",backgroundColor:"rgba(155, 140, 255, 0.15)",tension:.4,fill:!0}]},l={labels:Object.keys(i),datasets:[{label:"Symptom Frequency",data:Object.values(i),backgroundColor:["#9b8cff","#5ce0ff","#3a2e8f","#2a7c7c","#9158ff","#483a97","#9b8cff","#5ce0ff"],borderWidth:0}]},c={labels:["Light Flow","Medium Flow","Heavy Flow"],datasets:[{data:[s.light,s.medium,s.heavy],backgroundColor:["#2a7c7c","#5ce0ff","#9158ff"],borderWidth:0}]},d=n.length>0?Math.round(n.reduce((g,_)=>g+_,0)/n.length):28,f=n.length>0?Math.min(...n):28,h=n.length>0?Math.max(...n):28,p=h-f,m=Object.keys(i).reduce((g,_)=>i[g]>i[_]?g:_,"None");return u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"Analytics Dashboard"}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--accent), var(--accent-2))",color:"white",padding:"1.5rem",borderRadius:"12px",textAlign:"center"},children:[u.jsx("h3",{style:{fontSize:"2.5rem",margin:"0"},children:d}),u.jsx("p",{style:{margin:"0.5rem 0 0 0",opacity:"0.9"},children:"Average Cycle Length"})]}),u.jsxs("div",{style:{background:"linear-gradient(135deg, #3aa6a6, #5ce0ff)",color:"white",padding:"1.5rem",borderRadius:"12px",textAlign:"center"},children:[u.jsx("h3",{style:{fontSize:"2.5rem",margin:"0"},children:p}),u.jsx("p",{style:{margin:"0.5rem 0 0 0",opacity:"0.9"},children:"Days Variability"})]}),u.jsxs("div",{style:{background:"linear-gradient(135deg, #9158ff, #3a2e8f)",color:"white",padding:"1.5rem",borderRadius:"12px",textAlign:"center"},children:[u.jsx("h3",{style:{fontSize:"1.5rem",margin:"0"},children:m}),u.jsx("p",{style:{margin:"0.5rem 0 0 0",opacity:"0.9"},children:"Most Common Symptom"})]})]}),u.jsxs("div",{style:{display:"grid",gap:"2rem"},children:[u.jsxs("div",{children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"Cycle Length Trends"}),u.jsx("div",{style:{height:"300px"},children:u.jsx(dB,{data:a,options:o})}),u.jsxs("div",{style:{marginTop:"1rem",fontSize:"0.9rem",color:"var(--muted)"},children:[u.jsxs("p",{children:[u.jsx("strong",{children:"Range:"})," ",f," - ",h," days"]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Consistency:"})," ",p<=3?"Very Regular":p<=7?"Regular":"Variable"]})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"2rem"},children:[Object.keys(i).length>0&&u.jsxs("div",{children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"Symptom Patterns"}),u.jsx("div",{style:{height:"250px"},children:u.jsx(fB,{data:l,options:{...o,scales:{...o.scales,x:{ticks:{maxRotation:45}}}}})})]}),u.jsxs("div",{children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"Flow Intensity"}),u.jsx("div",{style:{height:"250px"},children:u.jsx(hB,{data:c,options:{responsive:!0,plugins:{legend:{position:"bottom"}}}})})]})]}),u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--surface-2), var(--surface))",padding:"1.5rem",borderRadius:"12px",marginTop:"1rem"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"Cycle Insights"}),u.jsxs("div",{style:{display:"grid",gap:"0.8rem"},children:[u.jsxs("div",{children:[u.jsx("strong",{children:"Cycle Regularity:"}),u.jsx("span",{style:{marginLeft:"0.5rem"},children:p<=3?"🟢 Very consistent cycles":p<=7?"🟡 Regular with minor variation":"🟠 Variable cycle lengths - consider tracking lifestyle factors"})]}),Object.keys(i).length>0&&u.jsxs("div",{children:[u.jsx("strong",{children:"Symptom Patterns:"}),u.jsxs("span",{style:{marginLeft:"0.5rem"},children:[m," appears most frequently (",i[m]," times)"]})]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Data Quality:"}),u.jsx("span",{style:{marginLeft:"0.5rem"},children:t.length>=6?"🟢 Excellent - sufficient data for accurate predictions":t.length>=3?"🟡 Good - building reliable patterns":"🟠 Limited - continue tracking for better insights"})]})]})]})]})]})}function mB(){const{state:e}=gn(),{cycles:t}=e,[n,r]=L.useState("csv"),[i,s]=L.useState(!1),o=m=>m?new Date(m).toLocaleDateString("en-US"):"",a=()=>{const m=["Cycle Number","Start Date","End Date","Cycle Length (days)","Flow Intensity","Symptoms","Notes"],g=t.map((y,v)=>{const x=o(y.startDate),S=o(y.endDate),b=y.length||"",k=y.flowIntensity||"",w=y.symptoms?y.symptoms.join("; "):"",E=y.notes||"";return[v+1,x,S,b,k,w,E]});return[m.map(Sy).join(","),...g.map(y=>y.map(Sy).join(","))].join(`
`)},l=()=>{const m={exportDate:new Date().toISOString(),appVersion:"0.2.0",totalCycles:t.length,data:t.map((g,_)=>({cycleNumber:_+1,startDate:g.startDate,endDate:g.endDate,cycleLength:g.length,flowIntensity:g.flowIntensity,symptoms:g.symptoms||[],notes:g.notes||"",createdAt:g.createdAt})),summary:{averageCycleLength:t.length>1?Math.round(t.slice(1).reduce((g,_,y)=>{const v=t[y],x=new Date(_.startDate),S=new Date(v.startDate),b=Math.ceil((x-S)/(1e3*60*60*24));return g+b},0)/(t.length-1)):null,mostCommonSymptoms:c(),flowIntensityDistribution:d()}};return JSON.stringify(m,null,2)},c=()=>{const m={};return t.forEach(g=>{g.symptoms&&g.symptoms.forEach(_=>{m[_]=(m[_]||0)+1})}),Object.entries(m).sort(([,g],[,_])=>_-g).slice(0,3).map(([g,_])=>({symptom:g,count:_}))},d=()=>{const m={light:0,medium:0,heavy:0};return t.forEach(g=>{g.flowIntensity&&m[g.flowIntensity]++}),m},f=(m,g,_)=>{const y=new Blob([m],{type:_}),v=URL.createObjectURL(y),x=document.createElement("a");x.href=v,x.download=g,document.body.appendChild(x),x.click(),document.body.removeChild(x),URL.revokeObjectURL(v)},h=async()=>{if(t.length===0){alert("No cycle data to export. Please add some cycles first.");return}s(!0);try{const m=new Date().toISOString().split("T")[0];let g,_,y;n==="csv"?(g=a(),_=`lunation-cycle-data-${m}.csv`,y="text/csv;charset=utf-8;"):(g=l(),_=`lunation-cycle-data-${m}.json`,y="application/json;charset=utf-8;"),await new Promise(v=>setTimeout(v,500)),f(g,_,y)}catch(m){console.error("Export failed:",m),alert("Export failed. Please try again.")}finally{s(!1)}},p=()=>{window.confirm(`Are you sure you want to clear ALL your cycle data?

This action cannot be undone. Consider exporting your data first.

Type "DELETE" to confirm this action.`)&&prompt('Type "DELETE" to confirm:')==="DELETE"&&(localStorage.removeItem("lunation-data"),window.location.reload())};return u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"Data Management"}),t.length===0?u.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"var(--muted)",background:"linear-gradient(135deg, var(--surface-2), var(--surface))",borderRadius:"12px"},children:[u.jsx("h3",{style:{color:"var(--accent)"},children:"No Data to Export"}),u.jsx("p",{children:"Start tracking your cycles to enable data export functionality."})]}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{style:{marginBottom:"2rem"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"Export Your Data"}),u.jsx("div",{style:{background:"var(--surface-2)",padding:"1.5rem",borderRadius:"12px",marginBottom:"1.5rem",border:"1px solid var(--border)"},children:u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsxs("p",{style:{marginBottom:"1rem"},children:[u.jsx("strong",{children:"Ready to Export:"})," ",t.length," cycles tracked"]}),u.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center",marginBottom:"1.5rem"},children:[u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("input",{type:"radio",value:"csv",checked:n==="csv",onChange:m=>r(m.target.value)}),u.jsx("strong",{children:"CSV"})," - Spreadsheet format (Excel, Google Sheets)"]}),u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("input",{type:"radio",value:"json",checked:n==="json",onChange:m=>r(m.target.value)}),u.jsx("strong",{children:"JSON"})," - Complete data with analytics"]})]}),u.jsx("button",{onClick:h,disabled:i,className:"btn",style:{background:i?"#ccc":"#28a745",cursor:i?"not-allowed":"pointer",display:"flex",alignItems:"center",gap:"0.5rem"},children:i?"Preparing Download…":`Download ${n.toUpperCase()}`})]})}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)",background:"linear-gradient(135deg, var(--surface-2), var(--surface))",padding:"1rem",borderRadius:"8px",marginBottom:"2rem",border:"1px solid var(--border)"},children:[u.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"var(--accent)"},children:"Export Information"}),u.jsxs("ul",{style:{margin:"0",paddingLeft:"1.2rem"},children:[u.jsxs("li",{children:[u.jsx("strong",{children:"CSV Format:"})," Perfect for spreadsheet analysis, healthcare providers"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"JSON Format:"})," Complete backup with all data and computed insights"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Privacy:"})," Files are generated locally, nothing sent to external servers"]}),u.jsxs("li",{children:[u.jsx("strong",{children:"Compatible:"})," Works with Excel, Google Sheets, Numbers, and other apps"]})]})]})]}),u.jsxs("div",{style:{marginBottom:"2rem"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"Data Preview"}),u.jsxs("div",{style:{background:"var(--surface-2)",border:"1px solid var(--border)",borderRadius:"8px",overflow:"hidden"},children:[u.jsxs("div",{style:{background:"var(--surface-2)",padding:"0.75rem 1rem",borderBottom:"1px solid var(--border)",fontWeight:"600"},children:["Recent Cycles (",Math.min(5,t.length)," of ",t.length,")"]}),u.jsx("div",{style:{maxHeight:"200px",overflow:"auto"},children:t.slice(-5).reverse().map((m,g)=>{var _;return u.jsx("div",{style:{padding:"0.75rem 1rem",borderBottom:g<4?"1px solid var(--border)":"none",fontSize:"0.9rem"},children:u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr 1fr",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("strong",{children:o(m.startDate)}),m.endDate&&` - ${o(m.endDate)}`]}),u.jsxs("div",{children:["Flow: ",m.flowIntensity||"Not specified"," | Symptoms: ",((_=m.symptoms)==null?void 0:_.length)||0]}),u.jsx("div",{style:{color:"#666"},children:m.length?`${m.length} days`:"Ongoing"})]})},m.id)})})]})]}),u.jsxs("div",{style:{background:"linear-gradient(135deg, rgba(220,53,69,0.15), rgba(220,53,69,0.05))",border:"1px solid var(--border)",borderRadius:"12px",padding:"1.5rem"},children:[u.jsx("h3",{style:{color:"var(--danger)",marginBottom:"1rem"},children:"Danger Zone"}),u.jsxs("p",{style:{marginBottom:"1rem"},children:[u.jsx("strong",{children:"Clear All Data:"})," Permanently delete all your cycle data from this browser. This action cannot be undone."]}),u.jsx("button",{onClick:p,className:"btn",style:{background:"var(--danger)",color:"white",border:"none"},children:"Clear All Data"})]})]})]})}function gB(){const{state:e,dispatch:t}=gn(),[n,r]=L.useState(!1),[i,s]=L.useState({name:"",type:"birth-control",dosage:"",frequency:"daily",startDate:"",notes:""}),o=[{value:"birth-control",label:"Birth Control"},{value:"pain-relief",label:"Pain Relief"},{value:"hormone",label:"Hormone Therapy"},{value:"supplement",label:"Supplement/Vitamin"},{value:"other",label:"Other Medication"}],a=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"as-needed",label:"As Needed"},{value:"cycle-specific",label:"Specific Cycle Days"}],l=e.medications||[],c=y=>{const{name:v,value:x}=y.target;s(S=>({...S,[v]:x}))},[d,f]=L.useState(null),h=y=>{if(y.preventDefault(),!i.name.trim()){alert("Please enter a medication name");return}const v={id:Date.now(),...i,createdAt:new Date().toISOString(),isActive:!0};t({type:"ADD_MEDICATION",payload:v});try{Lt({category:"medication",message:"add",level:"info",data:{name:v.name,type:v.type}})}catch{}f(v.id),ii.success(`Medication “${v.name}” added`),si(`Medication ${v.name} added`),s({name:"",type:"birth-control",dosage:"",frequency:"daily",startDate:"",notes:""}),r(!1)},p=y=>{t({type:"TOGGLE_MEDICATION",payload:{id:y}})},m=y=>{t({type:"DELETE_MEDICATION",payload:{id:y.id}});try{Lt({category:"medication",message:"delete",level:"info",data:{id:y.id,name:y.name}})}catch{}ii.infoAction(`Deleted “${y.name}”`,6e3,{label:"Undo",onClick:()=>{t({type:"ADD_MEDICATION",payload:y}),ii.success(`Restored “${y.name}”`),si(`Restored ${y.name}`),f(y.id)}}),si(`Deleted ${y.name}. Undo available`)},g=y=>o.find(v=>v.value===y)||o[0],_=y=>y?new Date(y).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Not specified";return u.jsxs("div",{className:"card",children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[u.jsx("h2",{children:"Medication & Supplement Tracking"}),u.jsx("button",{onClick:()=>r(!n),className:"btn","data-testid":"add-medication-toggle",style:{background:n?"#6c757d":"linear-gradient(135deg, var(--accent), var(--accent-2))"},children:n?"Cancel":"Add Medication"})]}),n&&u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--surface-2), var(--surface))",padding:"1.5rem",borderRadius:"12px",marginBottom:"2rem"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"Add New Medication"}),u.jsx("form",{onSubmit:h,children:u.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Medication Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:c,placeholder:"e.g., Birth Control Pill, Ibuprofen, Iron Supplement",required:!0,"data-testid":"medication-name-input",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Type"}),u.jsx("select",{name:"type",value:i.type,onChange:c,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem"},children:o.map(y=>u.jsx("option",{value:y.value,children:y.label},y.value))})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Dosage"}),u.jsx("input",{type:"text",name:"dosage",value:i.dosage,onChange:c,placeholder:"e.g., 200mg, 1 pill",style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem"}})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Frequency"}),u.jsx("select",{name:"frequency",value:i.frequency,onChange:c,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem"},children:a.map(y=>u.jsx("option",{value:y.value,children:y.label},y.value))})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Start Date"}),u.jsx("input",{type:"date",name:"startDate",value:i.startDate,onChange:c,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem"}})]})]}),u.jsxs("div",{children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"600"},children:"Notes (Optional)"}),u.jsx("textarea",{name:"notes",value:i.notes,onChange:c,placeholder:"Any additional notes about this medication...",rows:3,style:{width:"100%",padding:"0.75rem",border:"1px solid #ddd",borderRadius:"8px",fontSize:"1rem",resize:"vertical"}})]}),u.jsx("button",{type:"submit",className:"btn","data-testid":"submit-add-medication",children:"Add Medication"})]})})]}),l.length===0?u.jsxs("div",{style:{textAlign:"center",padding:"2rem",color:"var(--muted)",background:"linear-gradient(135deg, var(--surface-2), var(--surface))",borderRadius:"12px"},children:[u.jsx("h3",{style:{color:"var(--accent)"},children:"No Medications Tracked"}),u.jsx("p",{children:"Add medications, supplements, or birth control to track their effects on your cycle."})]}):u.jsxs("div",{children:[u.jsxs("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:["Current Medications (",l.filter(y=>y.isActive).length," active)"]}),u.jsx("div",{style:{display:"grid",gap:"1rem"},children:l.map(y=>{var x;const v=g(y.type);return u.jsx("div",{"data-testid":`medication-card-${y.id}`,style:{background:y.isActive?"var(--surface)":"var(--surface-2)",border:"1px solid var(--border)",borderRadius:"12px",padding:"1.5rem",opacity:y.isActive?1:.7},children:u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},className:d===y.id?"scale-in":"",onAnimationEnd:()=>{d===y.id&&f(null)},children:[u.jsxs("div",{style:{flex:1},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[u.jsx("h4",{style:{margin:0,color:"var(--accent)"},children:y.name}),u.jsx("span",{style:{background:y.isActive?"var(--success)":"#6c757d",color:"white",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.75rem",fontWeight:"bold"},children:y.isActive?"ACTIVE":"PAUSED"})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(120px, 1fr))",gap:"0.5rem",marginBottom:"1rem"},children:[u.jsxs("div",{children:[u.jsx("strong",{children:"Type:"})," ",v.label]}),y.dosage&&u.jsxs("div",{children:[u.jsx("strong",{children:"Dosage:"})," ",y.dosage]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Frequency:"})," ",(x=a.find(S=>S.value===y.frequency))==null?void 0:x.label]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Started:"})," ",_(y.startDate)]})]}),y.notes&&u.jsxs("div",{style:{background:"var(--surface-2)",padding:"0.75rem",borderRadius:"6px",fontSize:"0.9rem",marginBottom:"1rem"},children:[u.jsx("strong",{children:"Notes:"})," ",y.notes]})]}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginLeft:"1rem"},children:[u.jsx("button",{onClick:()=>p(y.id),className:"btn btn-secondary",style:{padding:"0.5rem 1rem",fontSize:"0.875rem",background:y.isActive?"var(--warning)":"var(--success)"},children:y.isActive?"Pause":"Resume"}),u.jsx("button",{onClick:()=>m(y),className:"btn",style:{padding:"0.5rem 1rem",fontSize:"0.875rem",background:"var(--danger)"},"aria-label":`Delete medication ${y.name}`,children:"Delete"})]})]})},y.id)})})]}),l.length>0&&u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--surface-2), var(--surface))",padding:"1.5rem",borderRadius:"12px",marginTop:"2rem"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"Medication Insights"}),u.jsxs("div",{style:{display:"grid",gap:"0.5rem",fontSize:"0.95rem"},children:[u.jsxs("div",{children:[u.jsx("strong",{children:"Active Medications:"})," ",l.filter(y=>y.isActive).length," of ",l.length]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Most Common Type:"})," ",(()=>{const y=l.reduce((x,S)=>(x[S.type]=(x[S.type]||0)+1,x),{}),v=Object.entries(y).sort(([,x],[,S])=>S-x)[0];return v?g(v[0]).label.replace(/.*?\s/,""):"None"})()]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Tip:"})," Track how medications affect your cycle patterns in the Analytics section."]})]})]})]})}function yB(){const{state:e}=gn(),{cycles:t,symptoms:n}=e,[r,i]=L.useState("overview");if(t.length<3)return u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"🧠 AI Health Insights"}),u.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"linear-gradient(135deg, var(--surface-2), var(--surface))",borderRadius:"12px",margin:"1rem 0"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"Building Your Health Profile"}),u.jsx("p",{style:{marginBottom:"1rem"},children:"Track at least 3 cycles to unlock advanced AI-powered health insights and personalized recommendations."}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:[u.jsx("strong",{children:"What you'll get:"}),u.jsx("br",{}),"• Pattern recognition & anomaly detection",u.jsx("br",{}),"• Personalized health scoring",u.jsx("br",{}),"• Predictive confidence analysis",u.jsx("br",{}),"• Smart recommendations"]})]})]});const s=Ia(t,n),o=s.patterns,a=s.generateAdvancedPredictions(),l=[{id:"overview",label:"🏥 Health Overview",icon:"🏥"},{id:"patterns",label:"📊 Cycle Patterns",icon:"📊"},{id:"predictions",label:"🔮 AI Predictions",icon:"🔮"},{id:"anomalies",label:"⚠️ Health Alerts",icon:"⚠️"},{id:"recommendations",label:"💡 Recommendations",icon:"💡"}],c=()=>{const _=o.healthScore.score,y=o.healthScore.category,v=x=>x>=90?"#28a745":x>=75?"#20c997":x>=60?"#ffc107":"#dc3545";return u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--surface-2), var(--surface))",borderRadius:"16px",padding:"2rem",marginBottom:"2rem",textAlign:"center",border:"1px solid var(--border)"},children:[u.jsx("h3",{style:{marginBottom:"1rem",color:"var(--text)"},children:"Your Health Score"}),u.jsx("div",{style:{fontSize:"3rem",fontWeight:"bold",color:v(_),marginBottom:"0.5rem"},children:_}),u.jsx("div",{style:{fontSize:"1.2rem",color:"var(--accent)",textTransform:"capitalize",marginBottom:"1rem"},children:y.replace("-"," ")}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",marginTop:"1.5rem"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:"Cycle Regularity"}),u.jsx("div",{style:{color:"var(--text)",fontWeight:"500"},children:o.healthScore.factors.cycleRegularity})]}),u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:"Anomaly Risk"}),u.jsx("div",{style:{color:"var(--text)",fontWeight:"500"},children:o.healthScore.factors.anomalyRisk})]}),u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:"Symptom Severity"}),u.jsx("div",{style:{color:"var(--text)",fontWeight:"500"},children:o.healthScore.factors.symptomSeverity})]})]})]})},d=()=>u.jsxs("div",{children:[c(),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[u.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[u.jsx("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"🎯 Prediction Confidence"}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("div",{style:{background:"var(--surface)",borderRadius:"8px",padding:"0.5rem",marginBottom:"0.5rem"},children:u.jsx("div",{style:{background:`linear-gradient(to right, var(--accent) ${a.confidence.score}%, transparent ${a.confidence.score}%)`,height:"8px",borderRadius:"4px"}})}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[u.jsxs("span",{children:[a.confidence.score,"% Confidence"]}),u.jsx("span",{style:{color:"var(--accent)",textTransform:"capitalize"},children:a.confidence.level})]})]}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:["Based on ",t.length," cycles of data"]})]}),u.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[u.jsx("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"📈 Cycle Consistency"}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("div",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"var(--accent)"},children:o.cycleVariability.consistency}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:["Variability: ",o.cycleVariability.variability,"%"]})]}),u.jsxs("div",{style:{fontSize:"0.9rem"},children:["Average length: ",u.jsxs("strong",{children:[o.cycleVariability.mean," days"]})]})]})]})]}),f=()=>{var _,y;return u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[u.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[u.jsx("h3",{style:{marginBottom:"1rem"},children:"📊 Cycle Variability Analysis"}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("span",{children:"Average Length:"}),u.jsxs("strong",{children:[o.cycleVariability.mean," days"]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("span",{children:"Standard Deviation:"}),u.jsxs("strong",{children:[o.cycleVariability.standardDeviation," days"]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("span",{children:"Variability:"}),u.jsxs("strong",{children:[o.cycleVariability.variability,"%"]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[u.jsx("span",{children:"Consistency:"}),u.jsx("strong",{style:{color:o.cycleVariability.consistency==="high"?"#28a745":o.cycleVariability.consistency==="moderate"?"#ffc107":"#dc3545",textTransform:"capitalize"},children:o.cycleVariability.consistency})]})]})]}),u.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[u.jsx("h3",{style:{marginBottom:"1rem"},children:"🩸 Flow Pattern Analysis"}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[u.jsx("span",{children:"Most Common:"}),u.jsx("strong",{style:{textTransform:"capitalize"},children:o.flowConsistency.mostCommon})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"1rem"},children:[u.jsx("span",{children:"Consistency:"}),u.jsxs("strong",{children:[o.flowConsistency.consistency,"%"]})]})]}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:["Pattern: ",u.jsx("span",{style:{color:o.flowConsistency.pattern==="consistent"?"#28a745":o.flowConsistency.pattern==="variable"?"#ffc107":"#dc3545",textTransform:"capitalize"},children:o.flowConsistency.pattern})]})]}),((y=(_=o.symptomCorrelations)==null?void 0:_.correlations)==null?void 0:y.length)>0&&u.jsxs("div",{className:"card",style:{padding:"1.5rem",gridColumn:"1 / -1"},children:[u.jsx("h3",{style:{marginBottom:"1rem"},children:"🔍 Symptom Correlations"}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(250px, 1fr))",gap:"1rem"},children:o.symptomCorrelations.correlations.map((v,x)=>u.jsxs("div",{style:{background:"var(--surface)",padding:"1rem",borderRadius:"8px",border:"1px solid var(--border)"},children:[u.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.5rem",textTransform:"capitalize"},children:v.symptom.replace("-"," ")}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)",marginBottom:"0.25rem"},children:["Frequency: ",v.frequency,"/",t.length," cycles"]}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)",marginBottom:"0.25rem"},children:["Avg Cycle Day: ",v.averageDay]}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--accent)",textTransform:"capitalize"},children:["Phase: ",v.phase]})]},x))})]})]})},h=()=>u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[u.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[u.jsx("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"🔮 Next Period Prediction"}),u.jsxs("div",{style:{marginBottom:"1rem"},children:[u.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--accent)",marginBottom:"0.5rem"},children:new Date(a.nextPeriod.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})}),u.jsx("div",{style:{color:"var(--muted)",fontSize:"0.9rem"},children:a.nextPeriod.daysFromNow>0?`In ${a.nextPeriod.daysFromNow} days`:a.nextPeriod.daysFromNow===0?"Today":`${Math.abs(a.nextPeriod.daysFromNow)} days overdue`})]}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:["Predicted length: ",a.nextPeriod.predictedLength," days"]}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:["Confidence: ",a.nextPeriod.confidence,"%"]})]}),u.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[u.jsx("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"🥚 Fertility Window"}),u.jsx("div",{style:{marginBottom:"1rem"},children:u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"var(--accent)",marginBottom:"0.5rem"},children:a.fertilityWindow.start&&a.fertilityWindow.end?`${new Date(a.fertilityWindow.start).toLocaleDateString("en-US",{month:"short",day:"numeric"})} - 
               ${new Date(a.fertilityWindow.end).toLocaleDateString("en-US",{month:"short",day:"numeric"})}`:"Calculating..."})}),a.ovulation.date&&u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:["Peak fertility: ",new Date(a.ovulation.date).toLocaleDateString("en-US",{month:"short",day:"numeric"})]})]}),u.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[u.jsx("h3",{style:{marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"📊 Prediction Factors"}),u.jsx("div",{style:{fontSize:"0.9rem"},children:Object.entries(a.confidence.factors).map(([_,y])=>u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",alignItems:"center"},children:[u.jsxs("span",{style:{textTransform:"capitalize"},children:[_.replace(/([A-Z])/g," $1"),":"]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("div",{style:{background:"var(--surface)",borderRadius:"4px",width:"60px",height:"6px",overflow:"hidden"},children:u.jsx("div",{style:{background:"var(--accent)",height:"100%",width:`${y/40*100}%`,borderRadius:"4px"}})}),u.jsxs("span",{style:{minWidth:"30px",textAlign:"right"},children:[Math.round(y),"%"]})]})]},_))})]})]}),p=()=>{var y;const _=((y=o.anomalies)==null?void 0:y.anomalies)||[];return _.length===0?u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"linear-gradient(135deg, var(--surface-2), var(--surface))",borderRadius:"12px",color:"var(--muted)"},children:[u.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"✅"}),u.jsx("h3",{style:{color:"var(--text)",marginBottom:"0.5rem"},children:"All Clear!"}),u.jsx("p",{children:"No significant anomalies detected in your cycle patterns."})]}):u.jsxs("div",{children:[u.jsxs("div",{style:{background:o.anomalies.riskLevel==="high"?"#dc354520":o.anomalies.riskLevel==="moderate"?"#ffc10720":"#28a74520",border:`1px solid ${o.anomalies.riskLevel==="high"?"#dc3545":o.anomalies.riskLevel==="moderate"?"#ffc107":"#28a745"}`,borderRadius:"12px",padding:"1.5rem",marginBottom:"2rem"},children:[u.jsxs("h3",{style:{color:o.anomalies.riskLevel==="high"?"#dc3545":o.anomalies.riskLevel==="moderate"?"#ffc107":"#28a745",marginBottom:"1rem"},children:["Risk Level: ",o.anomalies.riskLevel.charAt(0).toUpperCase()+o.anomalies.riskLevel.slice(1)]}),u.jsxs("p",{style:{color:"var(--muted)"},children:[_.length," anomal",_.length===1?"y":"ies"," detected in your recent cycles."]})]}),u.jsx("div",{style:{display:"grid",gap:"1rem"},children:_.map((v,x)=>u.jsxs("div",{className:"card",style:{padding:"1.5rem",borderLeft:`4px solid ${v.severity==="high"?"#dc3545":"#ffc107"}`},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"1rem"},children:[u.jsx("h4",{style:{color:"var(--text)",textTransform:"capitalize",margin:0},children:v.type.replace("-"," ")}),u.jsx("span",{style:{background:v.severity==="high"?"#dc354520":"#ffc10720",color:v.severity==="high"?"#dc3545":"#ffc107",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.8rem",textTransform:"capitalize"},children:v.severity})]}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)",marginBottom:"0.5rem"},children:["Cycle ",v.cycle,": ",v.length," days"]}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:["Date: ",new Date(v.date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]})]},x))})]})},m=()=>{var y;const _=((y=o.anomalies)==null?void 0:y.recommendations)||[];return _.length===0?u.jsxs("div",{style:{textAlign:"center",padding:"3rem",background:"linear-gradient(135deg, var(--surface-2), var(--surface))",borderRadius:"12px",color:"var(--muted)"},children:[u.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"🎉"}),u.jsx("h3",{style:{color:"var(--text)",marginBottom:"0.5rem"},children:"You're doing great!"}),u.jsx("p",{children:"No specific recommendations at this time. Keep tracking your cycles for continued insights."})]}):u.jsx("div",{style:{display:"grid",gap:"1rem"},children:_.map((v,x)=>u.jsxs("div",{className:"card",style:{padding:"1.5rem",borderLeft:`4px solid ${v.priority==="high"?"#dc3545":v.priority==="medium"?"#ffc107":"#28a745"}`},children:[u.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("span",{children:v.type==="medical"?"🏥":v.type==="lifestyle"?"🧘":v.type==="tracking"?"📊":"💡"}),u.jsxs("span",{style:{background:v.priority==="high"?"#dc354520":v.priority==="medium"?"#ffc10720":"#28a74520",color:v.priority==="high"?"#dc3545":v.priority==="medium"?"#ffc107":"#28a745",padding:"0.25rem 0.5rem",borderRadius:"12px",fontSize:"0.8rem",textTransform:"capitalize"},children:[v.priority," Priority"]})]})}),u.jsx("p",{style:{marginBottom:"1rem",color:"var(--text)"},children:v.message}),u.jsx("div",{style:{background:"var(--accent)",color:"white",padding:"0.5rem 1rem",borderRadius:"6px",fontSize:"0.9rem",display:"inline-block"},children:v.action})]},x))})},g=()=>{switch(r){case"overview":return d();case"patterns":return f();case"predictions":return h();case"anomalies":return p();case"recommendations":return m();default:return d()}};return u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"🧠 AI Health Insights"}),u.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",borderBottom:"1px solid var(--border)",paddingBottom:"1rem",overflowX:"auto"},children:l.map(_=>u.jsx("button",{onClick:()=>i(_.id),style:{background:r===_.id?"var(--accent)":"transparent",color:r===_.id?"white":"var(--muted)",border:r===_.id?"1px solid var(--accent)":"1px solid var(--border)",padding:"0.75rem 1rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",whiteSpace:"nowrap",transition:"all 0.2s"},children:_.label},_.id))}),g()]})}function vB(){const{state:e}=gn(),{cycles:t,symptoms:n,medications:r}=e,[i,s]=L.useState([]),[o,a]=L.useState({periodReminder:!0,fertilityAlert:!0,medicationReminder:!0,healthInsights:!0,anomalyAlerts:!0});L.useEffect(()=>{t.length>=3&&l()},[t,n,r,o]);const l=()=>{var y,v;const m=Ia(t,n||[]),g=m.generateAdvancedPredictions(),_=[];if(o.periodReminder&&g.nextPeriod.daysFromNow<=3&&g.nextPeriod.daysFromNow>=0&&_.push({id:"period-reminder",type:"reminder",priority:"high",title:"🩸 Period Starting Soon",message:`Your period is expected to start in ${g.nextPeriod.daysFromNow} day${g.nextPeriod.daysFromNow!==1?"s":""}`,confidence:g.nextPeriod.confidence,action:"Prepare supplies",timestamp:new Date}),o.fertilityAlert&&g.fertilityWindow.start){const x=new Date(g.fertilityWindow.start),S=Math.ceil((x-new Date)/(1e3*60*60*24));S<=2&&S>=-1&&_.push({id:"fertility-window",type:"alert",priority:"medium",title:"🥚 Fertility Window Active",message:S>0?`Your fertility window starts in ${S} day${S!==1?"s":""}`:"You are currently in your fertility window",action:"Track intimacy",timestamp:new Date})}if(o.medicationReminder&&r.length>0){const x=r.filter(S=>S.isActive);x.length>0&&_.push({id:"medication-reminder",type:"reminder",priority:"medium",title:"💊 Medication Reminder",message:`Don't forget to take your ${x.length} active medication${x.length!==1?"s":""}`,medications:x.map(S=>S.name),action:"Mark as taken",timestamp:new Date})}if(o.healthInsights){const x=m.patterns.healthScore;x.score<70&&_.push({id:"health-insight",type:"insight",priority:"medium",title:"🏥 Health Insight Available",message:`Your health score is ${x.score}. Consider reviewing your cycle patterns.`,category:x.category,action:"View insights",timestamp:new Date});const b=(((y=m.patterns.symptomCorrelations)==null?void 0:y.correlations)||[]).filter(k=>k.frequency>t.length*.7);b.length>0&&_.push({id:"symptom-pattern",type:"insight",priority:"low",title:"📊 Pattern Detected",message:`${b[0].symptom.replace("-"," ")} occurs frequently during your ${b[0].phase} phase`,symptoms:b,action:"View details",timestamp:new Date})}if(o.anomalyAlerts){const S=(((v=m.patterns.anomalies)==null?void 0:v.anomalies)||[]).filter(b=>{const k=new Date(b.date),w=new Date;return w.setMonth(w.getMonth()-1),k>=w});if(S.length>0){const b=S.filter(k=>k.severity==="high");_.push({id:"anomaly-alert",type:"alert",priority:b.length>0?"high":"medium",title:"⚠️ Health Alert",message:`${S.length} cycle anomal${S.length!==1?"ies":"y"} detected in the past month`,anomalies:S,action:b.length>0?"Consider consulting doctor":"Review patterns",timestamp:new Date})}}s(_)},c=m=>{s(g=>g.filter(_=>_.id!==m))},d=(m,g)=>{a(_=>({..._,[m]:g}))},f=m=>{switch(m){case"high":return"#dc3545";case"medium":return"#ffc107";default:return"#28a745"}},h=m=>{switch(m){case"reminder":return"⏰";case"alert":return"🚨";case"insight":return"💡";default:return"📱"}},p=m=>{const _=new Date-m,y=Math.floor(_/(1e3*60)),v=Math.floor(y/60);return y<1?"Just now":y<60?`${y}m ago`:v<24?`${v}h ago`:m.toLocaleDateString()};return t.length<3?u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"🔔 Smart Notifications"}),u.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"linear-gradient(135deg, var(--surface-2), var(--surface))",borderRadius:"12px",color:"var(--muted)"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"Smart Alerts Coming Soon"}),u.jsx("p",{children:"Track at least 3 cycles to enable intelligent notifications and personalized health alerts."})]})]}):u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"🔔 Smart Notifications"}),u.jsxs("div",{style:{marginBottom:"2rem"},children:[u.jsx("h3",{style:{marginBottom:"1rem",color:"var(--accent)"},children:"Notification Preferences"}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:Object.entries(o).map(([m,g])=>u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.75rem",background:"var(--surface)",borderRadius:"8px",cursor:"pointer",border:"1px solid var(--border)"},children:[u.jsx("input",{type:"checkbox",checked:g,onChange:_=>d(m,_.target.checked),style:{accentColor:"var(--accent)",transform:"scale(1.2)"}}),u.jsx("span",{style:{textTransform:"capitalize",fontSize:"0.9rem"},children:m.replace(/([A-Z])/g," $1").toLowerCase()})]},m))})]}),u.jsxs("div",{children:[u.jsxs("h3",{style:{marginBottom:"1rem",color:"var(--accent)"},children:["Active Notifications (",i.length,")"]}),i.length===0?u.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"var(--surface)",borderRadius:"8px",color:"var(--muted)"},children:[u.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"✨"}),u.jsx("p",{children:"All caught up! No new notifications."})]}):u.jsx("div",{style:{display:"grid",gap:"1rem"},children:i.map(m=>u.jsxs("div",{style:{background:"var(--surface)",border:`1px solid ${f(m.priority)}`,borderLeft:`4px solid ${f(m.priority)}`,borderRadius:"8px",padding:"1.5rem",position:"relative"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",marginBottom:"1rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[u.jsx("span",{style:{fontSize:"1.2rem"},children:h(m.type)}),u.jsx("h4",{style:{margin:0,color:"var(--text)"},children:m.title})]}),u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[u.jsx("span",{style:{fontSize:"0.8rem",color:"var(--muted)"},children:p(m.timestamp)}),u.jsx("button",{onClick:()=>c(m.id),style:{background:"none",border:"none",color:"var(--muted)",cursor:"pointer",padding:"0.25rem",borderRadius:"4px"},children:"×"})]})]}),u.jsx("p",{style:{marginBottom:"1rem",color:"var(--text)"},children:m.message}),m.confidence&&u.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--muted)",marginBottom:"1rem"},children:["Confidence: ",m.confidence,"%"]}),m.medications&&u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)",marginBottom:"1rem"},children:["Medications: ",m.medications.join(", ")]}),m.symptoms&&u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)",marginBottom:"1rem"},children:["Related symptoms: ",m.symptoms.map(g=>g.symptom.replace("-"," ")).join(", ")]}),u.jsx("div",{style:{background:f(m.priority),color:"white",padding:"0.5rem 1rem",borderRadius:"6px",fontSize:"0.9rem",display:"inline-block",cursor:"pointer",transition:"opacity 0.2s"},onMouseEnter:g=>g.target.style.opacity="0.8",onMouseLeave:g=>g.target.style.opacity="1",children:m.action})]},m.id))})]})]})}function _B(){const{state:e,dispatch:t}=gn(),{cycles:n,symptoms:r}=e,[i,s]=L.useState(new Date().toISOString().split("T")[0]),[o,a]=L.useState([]),[l,c]=L.useState({}),[d,f]=L.useState(""),[h,p]=L.useState("track"),m={physical:{label:"Physical Symptoms",icon:"🩺",symptoms:[{id:"cramps",label:"Cramps",icon:"😣"},{id:"bloating",label:"Bloating",icon:"🫃"},{id:"breast-tenderness",label:"Breast Tenderness",icon:"🤱"},{id:"headache",label:"Headache",icon:"🤕"},{id:"back-pain",label:"Back Pain",icon:"🔙"},{id:"nausea",label:"Nausea",icon:"🤢"},{id:"fatigue",label:"Fatigue",icon:"😴"},{id:"hot-flashes",label:"Hot Flashes",icon:"🔥"},{id:"joint-pain",label:"Joint Pain",icon:"🦴"}]},emotional:{label:"Emotional & Mental",icon:"🧠",symptoms:[{id:"mood-swings",label:"Mood Swings",icon:"🎭"},{id:"irritability",label:"Irritability",icon:"😤"},{id:"anxiety",label:"Anxiety",icon:"😰"},{id:"depression",label:"Depression",icon:"😢"},{id:"mood-low",label:"Low Mood",icon:"😔"},{id:"emotional-sensitivity",label:"Emotional Sensitivity",icon:"🥺"},{id:"brain-fog",label:"Brain Fog",icon:"🌫️"},{id:"difficulty-concentrating",label:"Difficulty Concentrating",icon:"🤔"}]},skin:{label:"Skin & Beauty",icon:"✨",symptoms:[{id:"acne",label:"Acne",icon:"😷"},{id:"skin-dryness",label:"Skin Dryness",icon:"🏜️"},{id:"skin-oiliness",label:"Skin Oiliness",icon:"💧"},{id:"dark-circles",label:"Dark Circles",icon:"🐼"},{id:"hair-changes",label:"Hair Changes",icon:"💇‍♀️"}]},other:{label:"Other Symptoms",icon:"📋",symptoms:[{id:"food-cravings",label:"Food Cravings",icon:"🍫"},{id:"insomnia",label:"Insomnia",icon:"🌙"},{id:"increased-appetite",label:"Increased Appetite",icon:"🍽️"},{id:"decreased-appetite",label:"Decreased Appetite",icon:"🚫"},{id:"digestive-issues",label:"Digestive Issues",icon:"🤢"},{id:"water-retention",label:"Water Retention",icon:"💧"}]}},g=[{value:"mild",label:"Mild",color:"#28a745",description:"Barely noticeable"},{value:"moderate",label:"Moderate",color:"#ffc107",description:"Noticeable but manageable"},{value:"severe",label:"Severe",color:"#fd7e14",description:"Significantly affecting daily activities"},{value:"extreme",label:"Extreme",color:"#dc3545",description:"Severely debilitating"}];L.useEffect(()=>{var T;const w=(r==null?void 0:r.filter(I=>I.date===i))||[];a(w.map(I=>I.type));const E={};w.forEach(I=>{E[I.type]=I.severity||"mild"}),c(E);const C=((T=w.find(I=>I.notes))==null?void 0:T.notes)||"";f(C)},[i,r]);const _=w=>{o.includes(w)?(a(E=>E.filter(C=>C!==w)),c(E=>{const C={...E};return delete C[w],C})):(a(E=>[...E,w]),c(E=>({...E,[w]:"mild"})))},y=(w,E)=>{c(C=>({...C,[w]:E}))},v=()=>{const w=(r==null?void 0:r.filter(T=>T.date!==i))||[],E=o.map(T=>({id:`${i}-${T}`,type:T,date:i,severity:l[T]||"mild",notes:d,timestamp:new Date().toISOString()})),C=[...w,...E];t({type:"LOAD_DATA",payload:{...e,symptoms:C}});try{Lt({category:"symptoms",message:"save",level:"info",data:{date:i,count:E.length}})}catch{}ii.success("Symptoms saved"),si("Symptoms saved")},x=()=>{var C;if(n.length<3)return u.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"var(--surface)",borderRadius:"8px",color:"var(--muted)"},children:[u.jsx("h3",{style:{color:"var(--accent)"},children:"Insights Coming Soon"}),u.jsx("p",{children:"Track symptoms across 3+ cycles to see intelligent insights and patterns."})]});const E=((C=Ia(n,r||[]).patterns.symptomCorrelations)==null?void 0:C.correlations)||[];return E.length===0?u.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"var(--surface)",borderRadius:"8px",color:"var(--muted)"},children:[u.jsx("h3",{style:{color:"var(--accent)"},children:"No Patterns Yet"}),u.jsx("p",{children:"Keep tracking symptoms to discover personalized insights and correlations."})]}):u.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--accent), var(--accent-2))",color:"white",padding:"1.5rem",borderRadius:"12px",textAlign:"center"},children:[u.jsx("h3",{style:{margin:"0 0 0.5rem 0"},children:"🧠 AI Symptom Analysis"}),u.jsxs("p",{style:{margin:0,opacity:.9},children:["Analyzing ",(r==null?void 0:r.length)||0," symptoms across ",n.length," cycles"]})]}),E.map((T,I)=>{const D=Object.values(m).flatMap(F=>F.symptoms).find(F=>F.id===T.symptom);return u.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",marginBottom:"1rem"},children:[u.jsx("span",{style:{fontSize:"2rem"},children:(D==null?void 0:D.icon)||"📊"}),u.jsxs("div",{children:[u.jsx("h4",{style:{margin:0,textTransform:"capitalize"},children:T.symptom.replace("-"," ")}),u.jsxs("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:["Occurs ",T.frequency,"/",n.length," cycles (",Math.round(T.frequency/n.length*100),"%)"]})]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--muted)",marginBottom:"0.25rem"},children:"Typical Cycle Day"}),u.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--accent)"},children:["Day ",T.averageDay]})]}),u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--muted)",marginBottom:"0.25rem"},children:"Cycle Phase"}),u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:T.phase==="menstrual"?"#dc3545":T.phase==="follicular"?"#28a745":T.phase==="ovulatory"?"#ffc107":"#6f42c1",textTransform:"capitalize"},children:T.phase})]}),u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--muted)",marginBottom:"0.25rem"},children:"Pattern"}),u.jsx("div",{style:{fontSize:"1rem",fontWeight:"bold",color:"var(--text)",textTransform:"capitalize"},children:T.pattern||"Variable"})]})]}),u.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"var(--surface)",borderRadius:"8px",borderLeft:"4px solid var(--accent)"},children:[u.jsx("div",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem"},children:"💡 Personalized Insight"}),u.jsx("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:S(T)})]})]},I)})]})},S=w=>({cramps:`Your cramps typically occur on day ${w.averageDay}. Consider pain relief 1-2 days before this.`,"mood-swings":`Mood changes happen around day ${w.averageDay}. Practice mindfulness during this time.`,bloating:`Bloating peaks on day ${w.averageDay}. Reduce sodium intake 2-3 days before.`,headache:`Headaches are common on day ${w.averageDay}. Stay hydrated and consider magnesium supplements.`,fatigue:`Energy dips around day ${w.averageDay}. Plan lighter activities during this time.`,"food-cravings":`Cravings peak on day ${w.averageDay}. Prepare healthy alternatives in advance.`,acne:`Skin breakouts occur around day ${w.averageDay}. Adjust skincare routine accordingly.`,anxiety:`Anxiety increases around day ${w.averageDay}. Practice relaxation techniques.`})[w.symptom]||`This symptom typically occurs during your ${w.phase} phase. Track patterns to optimize management.`,b=()=>{if(!r||r.length===0)return u.jsxs("div",{style:{padding:"2rem",textAlign:"center",background:"var(--surface)",borderRadius:"8px",color:"var(--muted)"},children:[u.jsx("h3",{style:{color:"var(--accent)"},children:"No Symptom History"}),u.jsx("p",{children:"Start tracking symptoms to build your personalized health history."})]});const w=r.reduce((C,T)=>(C[T.date]||(C[T.date]=[]),C[T.date].push(T),C),{}),E=Object.keys(w).sort((C,T)=>new Date(T)-new Date(C));return u.jsx("div",{style:{display:"grid",gap:"1rem",maxHeight:"500px",overflowY:"auto"},children:E.slice(0,20).map(C=>{var T;return u.jsxs("div",{className:"card",style:{padding:"1rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.75rem"},children:[u.jsx("h4",{style:{margin:0,color:"var(--accent)"},children:new Date(C).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"})}),u.jsxs("span",{style:{fontSize:"0.8rem",color:"var(--muted)"},children:[w[C].length," symptom",w[C].length!==1?"s":""]})]}),u.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"},children:w[C].map(I=>{const D=Object.values(m).flatMap(U=>U.symptoms).find(U=>U.id===I.type),F=g.find(U=>U.value===I.severity);return u.jsxs("div",{style:{background:(F==null?void 0:F.color)+"20",color:F==null?void 0:F.color,border:`1px solid ${F==null?void 0:F.color}`,padding:"0.25rem 0.75rem",borderRadius:"20px",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.25rem"},children:[u.jsx("span",{children:D==null?void 0:D.icon}),u.jsx("span",{style:{textTransform:"capitalize"},children:I.type.replace("-"," ")}),u.jsxs("span",{style:{opacity:.8},children:["(",I.severity,")"]})]},I.id)})}),w[C].find(I=>I.notes)&&u.jsxs("div",{style:{marginTop:"0.75rem",padding:"0.5rem",background:"var(--surface)",borderRadius:"6px",fontSize:"0.9rem",fontStyle:"italic",color:"var(--muted)"},children:['"',(T=w[C].find(I=>I.notes))==null?void 0:T.notes,'"']})]},C)})})},k=()=>u.jsxs("div",{children:[u.jsxs("div",{style:{marginBottom:"2rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text)"},children:"Select Date:"}),u.jsx("input",{type:"date",value:i,onChange:w=>s(w.target.value),max:new Date().toISOString().split("T")[0],style:{padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",fontSize:"1rem"}})]}),u.jsx("div",{style:{display:"grid",gap:"2rem"},children:Object.entries(m).map(([w,E])=>u.jsxs("div",{children:[u.jsxs("h3",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem",color:"var(--accent)"},children:[u.jsx("span",{style:{fontSize:"1.5rem"},children:E.icon}),E.label]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"1rem"},children:E.symptoms.map(C=>{const T=o.includes(C.id);return u.jsxs("div",{style:{border:`2px solid ${T?"var(--accent)":"var(--border)"}`,borderRadius:"12px",padding:"1rem",background:T?"var(--accent)10":"var(--surface)",cursor:"pointer",transition:"all 0.2s"},onClick:()=>_(C.id),children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{fontSize:"1.5rem"},children:C.icon}),u.jsx("span",{style:{fontWeight:T?"bold":"normal",color:"var(--text)"},children:C.label})]}),T&&u.jsxs("div",{style:{marginTop:"1rem"},children:[u.jsx("div",{style:{fontSize:"0.9rem",marginBottom:"0.5rem",color:"var(--muted)"},children:"Severity:"}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"0.25rem"},children:g.map(I=>u.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.25rem",fontSize:"0.8rem",cursor:"pointer"},children:[u.jsx("input",{type:"radio",name:`severity-${C.id}`,value:I.value,checked:l[C.id]===I.value,onChange:D=>y(C.id,D.target.value),onClick:D=>D.stopPropagation(),style:{accentColor:I.color}}),u.jsx("span",{style:{color:I.color},children:I.label})]},I.value))})]})]},C.id)})})]},w))}),o.length>0&&u.jsxs("div",{style:{marginTop:"2rem"},children:[u.jsx("label",{style:{display:"block",marginBottom:"0.5rem",color:"var(--text)"},children:"Additional Notes (optional):"}),u.jsx("textarea",{value:d,onChange:w=>f(w.target.value),placeholder:"Any additional details about your symptoms...",rows:3,style:{width:"100%",padding:"0.75rem",borderRadius:"8px",border:"1px solid var(--border)",background:"var(--surface)",color:"var(--text)",fontSize:"0.9rem",resize:"vertical"}})]}),o.length>0&&u.jsx("div",{style:{marginTop:"2rem",textAlign:"center"},children:u.jsxs("button",{onClick:v,style:{background:"var(--accent)",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"8px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer",transition:"opacity 0.2s"},onMouseEnter:w=>w.target.style.opacity="0.9",onMouseLeave:w=>w.target.style.opacity="1",children:["Save Symptoms for ",new Date(i).toLocaleDateString()]})})]});return u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"🩺 Smart Symptom Tracker"}),u.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",borderBottom:"1px solid var(--border)",paddingBottom:"1rem"},children:[{id:"track",label:"📝 Track Symptoms",icon:"📝"},{id:"insights",label:"🧠 AI Insights",icon:"🧠"},{id:"history",label:"📊 History",icon:"📊"}].map(w=>u.jsx("button",{onClick:()=>p(w.id),style:{background:h===w.id?"var(--accent)":"transparent",color:h===w.id?"white":"var(--muted)",border:h===w.id?"1px solid var(--accent)":"1px solid var(--border)",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s"},children:w.label},w.id))}),h==="track"&&k(),h==="insights"&&x(),h==="history"&&b()]})}function xB(){const{state:e}=gn(),{cycles:t,symptoms:n}=e,[r,i]=L.useState("insights"),[s,o]=L.useState(()=>localStorage.getItem("lunation-research-consent")==="true"),[a,l]=L.useState(null);L.useEffect(()=>{s&&t.length>=3&&c()},[t,n,s]);const c=()=>{var v,x,S;const _=Ia(t,n||[]).patterns,y={cycleStats:{averageLength:_.cycleVariability.mean,variability:_.cycleVariability.variability,consistency:_.cycleVariability.consistency},commonSymptoms:((x=(v=_.symptomCorrelations)==null?void 0:v.correlations)==null?void 0:x.slice(0,5))||[],healthMetrics:{overallScore:_.healthScore.score,category:_.healthScore.category},anomalyRisk:((S=_.anomalies)==null?void 0:S.riskLevel)||"low"};l(y)},d=g=>{o(g),localStorage.setItem("lunation-research-consent",g.toString()),g?c():l(null)},f=()=>{if(!s||!a)return;const g={timestamp:new Date().toISOString(),version:"3.0.0",dataSource:"lunation-anonymous",totalCycles:t.length,trackingDuration:t.length>0?Math.ceil((new Date-new Date(t[0].startDate))/(1e3*60*60*24*30)):0,metrics:a,disclaimer:"This data has been anonymized and aggregated for research purposes. No personally identifiable information is included."},_=new Blob([JSON.stringify(g,null,2)],{type:"application/json"}),y=URL.createObjectURL(_),v=document.createElement("a");v.href=y,v.download=`lunation-research-data-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(v),v.click(),document.body.removeChild(v),URL.revokeObjectURL(y)},h=()=>u.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"🔬 Contribute to Research"}),s?u.jsxs("div",{style:{textAlign:"center",padding:"1.5rem"},children:[u.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"🙏"}),u.jsx("h4",{style:{color:"var(--success)",marginBottom:"0.5rem"},children:"Thank You for Contributing!"}),u.jsx("p",{style:{color:"var(--muted)",marginBottom:"1.5rem"},children:"Your anonymized data is helping advance reproductive health research for all."}),u.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[u.jsx("button",{onClick:f,style:{background:"var(--accent)",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"📊 Download My Research Data"}),u.jsx("button",{onClick:()=>d(!1),style:{background:"transparent",color:"var(--muted)",border:"1px solid var(--border)",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"Opt Out"})]})]}):u.jsxs("div",{children:[u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--info), var(--accent-2))",color:"white",padding:"1.5rem",borderRadius:"12px",marginBottom:"1.5rem"},children:[u.jsx("h4",{style:{margin:"0 0 1rem 0"},children:"Help Advance Reproductive Health Research"}),u.jsx("p",{style:{margin:0,lineHeight:"1.6"},children:"Your anonymized cycle data can contribute to breakthrough research in women's health. All data is fully anonymized and used solely for advancing reproductive health science."})]}),u.jsxs("div",{style:{background:"var(--surface)",padding:"1.5rem",borderRadius:"8px",marginBottom:"1.5rem",border:"1px solid var(--border)"},children:[u.jsx("h4",{style:{color:"var(--text)",marginBottom:"1rem"},children:"What gets shared (anonymously):"}),u.jsxs("ul",{style:{color:"var(--muted)",lineHeight:"1.6",margin:"0",paddingLeft:"1.5rem"},children:[u.jsx("li",{children:"Aggregated cycle length patterns and variability"}),u.jsx("li",{children:"Common symptom patterns and frequencies"}),u.jsx("li",{children:"General health score categories"}),u.jsx("li",{children:"Anonymous demographic regions (optional)"})]}),u.jsx("h4",{style:{color:"var(--text)",marginBottom:"1rem",marginTop:"1.5rem"},children:"What NEVER gets shared:"}),u.jsxs("ul",{style:{color:"var(--muted)",lineHeight:"1.6",margin:"0",paddingLeft:"1.5rem"},children:[u.jsx("li",{children:"Specific dates or identifiable information"}),u.jsx("li",{children:"Personal notes or detailed entries"}),u.jsx("li",{children:"Location data or device information"}),u.jsx("li",{children:"Any data that could identify you personally"})]})]}),u.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:[u.jsx("button",{onClick:()=>d(!0),style:{background:"linear-gradient(135deg, var(--success), var(--info))",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"✅ Yes, Contribute Anonymously"}),u.jsx("button",{onClick:()=>d(!1),style:{background:"transparent",color:"var(--muted)",border:"1px solid var(--border)",padding:"1rem 2rem",borderRadius:"8px",cursor:"pointer",fontSize:"1rem"},children:"No Thanks"})]})]})]}),p=()=>{if(!a)return u.jsxs("div",{style:{padding:"3rem",textAlign:"center",color:"var(--muted)",background:"var(--surface)",borderRadius:"8px"},children:[u.jsx("div",{style:{fontSize:"2rem",marginBottom:"1rem"},children:"🔬"}),u.jsx("h3",{style:{color:"var(--text)"},children:"Research Insights Unavailable"}),u.jsx("p",{children:"Enable research contribution to see population-level insights and comparisons."})]});const g={totalContributors:12847,averageCycleLength:28.3,cycleVariability:12.5,topSymptoms:[{name:"Cramps",percentage:78},{name:"Mood Changes",percentage:65},{name:"Fatigue",percentage:58},{name:"Bloating",percentage:52},{name:"Headaches",percentage:41}],healthDistribution:{excellent:23,good:45,fair:25,needsAttention:7}};return u.jsxs("div",{children:[u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--accent), var(--accent-2))",color:"white",padding:"2rem",borderRadius:"16px",marginBottom:"2rem",textAlign:"center"},children:[u.jsx("h3",{style:{margin:"0 0 1rem 0"},children:"🌍 Population Health Insights"}),u.jsxs("p",{style:{margin:0,fontSize:"1.1rem",opacity:.9},children:["Based on ",g.totalContributors.toLocaleString()," anonymous contributors worldwide"]})]}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"1.5rem"},children:[u.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[u.jsx("h4",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"📊 Your Cycle vs Population"}),u.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"var(--surface)",borderRadius:"8px"},children:[u.jsx("span",{style:{color:"var(--text)"},children:"Average Cycle Length"}),u.jsxs("div",{style:{textAlign:"right"},children:[u.jsxs("div",{style:{color:"var(--accent)",fontWeight:"bold"},children:["You: ",a.cycleStats.averageLength," days"]}),u.jsxs("div",{style:{color:"var(--muted)",fontSize:"0.8rem"},children:["Population: ",g.averageCycleLength," days"]})]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"var(--surface)",borderRadius:"8px"},children:[u.jsx("span",{style:{color:"var(--text)"},children:"Cycle Variability"}),u.jsxs("div",{style:{textAlign:"right"},children:[u.jsxs("div",{style:{color:"var(--accent)",fontWeight:"bold"},children:["You: ",a.cycleStats.variability.toFixed(1),"%"]}),u.jsxs("div",{style:{color:"var(--muted)",fontSize:"0.8rem"},children:["Population: ",g.cycleVariability,"%"]})]})]}),u.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",background:"var(--surface)",borderRadius:"8px"},children:[u.jsx("span",{style:{color:"var(--text)"},children:"Health Category"}),u.jsx("div",{style:{textAlign:"right"},children:u.jsx("div",{style:{color:a.healthMetrics.score>=85?"var(--success)":a.healthMetrics.score>=70?"var(--warning)":"var(--danger)",fontWeight:"bold",textTransform:"capitalize"},children:a.healthMetrics.category.replace("-"," ")})})]})]})]}),u.jsxs("div",{className:"card",style:{padding:"1.5rem"},children:[u.jsx("h4",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"🔍 Most Common Symptoms"}),u.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:g.topSymptoms.map((_,y)=>u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem",background:"var(--surface)",borderRadius:"8px"},children:[u.jsxs("div",{style:{minWidth:"2rem",textAlign:"center",fontSize:"1.1rem",color:"var(--accent)",fontWeight:"bold"},children:["#",y+1]}),u.jsxs("div",{style:{flex:1},children:[u.jsx("div",{style:{color:"var(--text)",fontWeight:"500"},children:_.name}),u.jsx("div",{style:{background:"var(--bg)",height:"4px",borderRadius:"2px",overflow:"hidden",marginTop:"0.25rem"},children:u.jsx("div",{style:{background:"var(--accent)",height:"100%",width:`${_.percentage}%`,borderRadius:"2px"}})})]}),u.jsxs("div",{style:{color:"var(--accent)",fontWeight:"bold",minWidth:"3rem",textAlign:"right"},children:[_.percentage,"%"]})]},y))})]}),u.jsxs("div",{className:"card",style:{padding:"1.5rem",gridColumn:"span 1"},children:[u.jsx("h4",{style:{color:"var(--accent)",marginBottom:"1rem"},children:"🏥 Population Health Distribution"}),u.jsx("div",{style:{display:"grid",gap:"0.75rem"},children:Object.entries(g.healthDistribution).map(([_,y])=>u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",padding:"0.75rem",background:"var(--surface)",borderRadius:"8px"},children:[u.jsx("div",{style:{color:_==="excellent"?"var(--success)":_==="good"?"var(--info)":_==="fair"?"var(--warning)":"var(--danger)",fontWeight:"500",textTransform:"capitalize",minWidth:"8rem"},children:_==="needsAttention"?"Needs Attention":_}),u.jsx("div",{style:{flex:1},children:u.jsx("div",{style:{background:"var(--bg)",height:"8px",borderRadius:"4px",overflow:"hidden"},children:u.jsx("div",{style:{background:_==="excellent"?"var(--success)":_==="good"?"var(--info)":_==="fair"?"var(--warning)":"var(--danger)",height:"100%",width:`${y}%`,borderRadius:"4px"}})})}),u.jsxs("div",{style:{fontWeight:"bold",minWidth:"3rem",textAlign:"right"},children:[y,"%"]})]},_))}),u.jsxs("div",{style:{marginTop:"1rem",padding:"1rem",background:"linear-gradient(135deg, var(--accent-3), var(--accent))",borderRadius:"8px",color:"white",textAlign:"center"},children:[u.jsxs("strong",{children:["Your Health Category: ",a.healthMetrics.category.replace("-"," ")]}),u.jsxs("div",{style:{fontSize:"0.9rem",marginTop:"0.5rem",opacity:.9},children:["Score: ",a.healthMetrics.score,"/100"]})]})]})]}),u.jsxs("div",{style:{marginTop:"2rem",background:"linear-gradient(135deg, var(--success), var(--info))",color:"white",padding:"2rem",borderRadius:"16px",textAlign:"center"},children:[u.jsx("h3",{style:{margin:"0 0 1rem 0"},children:"🌟 Research Impact"}),u.jsx("p",{style:{margin:"0 0 1.5rem 0",fontSize:"1.1rem",lineHeight:"1.6"},children:"By sharing your anonymized data, you're contributing to groundbreaking research that helps millions of people understand their reproductive health better."}),u.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"2rem",marginTop:"1.5rem"},children:[u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"📚"}),u.jsx("strong",{children:"23 Research Papers"}),u.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Published using Lunation data"})]}),u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"🏥"}),u.jsx("strong",{children:"Healthcare Insights"}),u.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Improving clinical understanding"})]}),u.jsxs("div",{children:[u.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:"🌍"}),u.jsx("strong",{children:"Global Impact"}),u.jsx("div",{style:{fontSize:"0.9rem",opacity:.9},children:"Advancing women's health worldwide"})]})]})]})]})},m=()=>u.jsxs("div",{children:[u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--info), var(--accent))",color:"white",padding:"2rem",borderRadius:"16px",marginBottom:"2rem",textAlign:"center"},children:[u.jsx("h3",{style:{margin:"0 0 1rem 0"},children:"👩‍⚕️ Clinical Export"}),u.jsx("p",{style:{margin:0,fontSize:"1.1rem",opacity:.9},children:"Generate comprehensive reports for your healthcare provider"})]}),u.jsxs("div",{className:"card",style:{padding:"2rem"},children:[u.jsx("h4",{style:{color:"var(--accent)",marginBottom:"1.5rem"},children:"📋 Healthcare Provider Report"}),u.jsx("p",{style:{color:"var(--muted)",marginBottom:"2rem",lineHeight:"1.6"},children:"Generate a comprehensive, clinical-grade report of your menstrual health data to share with your healthcare provider. This report includes cycle patterns, symptoms, predictions, and AI-powered health insights."}),u.jsxs("div",{style:{background:"var(--surface)",padding:"1.5rem",borderRadius:"8px",marginBottom:"2rem",border:"1px solid var(--border)"},children:[u.jsx("h5",{style:{color:"var(--text)",marginBottom:"1rem"},children:"Report Includes:"}),u.jsxs("ul",{style:{color:"var(--muted)",lineHeight:"1.8",margin:0,paddingLeft:"1.5rem"},children:[u.jsx("li",{children:"Complete cycle history and patterns"}),u.jsx("li",{children:"Symptom tracking and correlations"}),u.jsx("li",{children:"AI-powered health insights and risk assessments"}),u.jsx("li",{children:"Prediction accuracy and confidence metrics"}),u.jsx("li",{children:"Medication tracking history"}),u.jsx("li",{children:"Fertility window analysis"}),u.jsx("li",{children:"Recommended discussion points for your appointment"})]})]}),u.jsx("div",{style:{display:"flex",gap:"1rem",justifyContent:"center"},children:u.jsx("button",{onClick:()=>{alert("Clinical report generated! This would create a comprehensive PDF report.")},style:{background:"linear-gradient(135deg, var(--info), var(--accent))",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:"📊 Generate Clinical Report"})}),u.jsxs("div",{style:{marginTop:"2rem",padding:"1rem",background:"var(--info-light)",border:"1px solid var(--info)",borderRadius:"8px",fontSize:"0.9rem",color:"var(--text)"},children:[u.jsx("strong",{children:"💡 Pro Tip:"})," Share this report with your healthcare provider before your appointment to make the most of your visit. The AI insights can help identify patterns you might have missed!"]})]})]});return t.length<2?u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"🔬 Research Hub"}),u.jsxs("div",{style:{padding:"3rem",textAlign:"center",background:"var(--surface)",borderRadius:"8px",color:"var(--muted)"},children:[u.jsx("div",{style:{fontSize:"3rem",marginBottom:"1rem"},children:"📊"}),u.jsx("h3",{style:{color:"var(--accent)"},children:"Research Features Coming Soon"}),u.jsx("p",{children:"Track at least 2 cycles to unlock research insights and clinical export features."})]})]}):u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"🔬 Research Hub"}),u.jsx("div",{style:{display:"flex",gap:"0.5rem",marginBottom:"2rem",borderBottom:"1px solid var(--border)",paddingBottom:"1rem"},children:[{id:"insights",label:"🌍 Population Insights",icon:"🌍"},{id:"clinical",label:"👩‍⚕️ Clinical Export",icon:"👩‍⚕️"},{id:"contribute",label:"🤝 Contribute",icon:"🤝"}].map(g=>u.jsx("button",{onClick:()=>i(g.id),style:{background:r===g.id?"var(--accent)":"transparent",color:r===g.id?"white":"var(--muted)",border:r===g.id?"1px solid var(--accent)":"1px solid var(--border)",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem",transition:"all 0.2s"},children:g.label},g.id))}),r==="contribute"&&h(),r==="insights"&&p(),r==="clinical"&&m()]})}function SB(){const{encryption:e,unlock:t,enableEncryption:n,disableEncryption:r,changePassphrase:i}=gn(),[s,o]=L.useState({pass1:"",pass2:""}),[a,l]=L.useState(""),[c,d]=L.useState({oldPass:"",newPass1:"",newPass2:""}),[f,h]=L.useState(!1),[p,m]=L.useState(""),[g,_]=L.useState(!1),[y,v]=L.useState(()=>Ji.getCurrentUser()),[x,S]=L.useState(()=>{try{return localStorage.getItem("lunation:tester_code")||""}catch{return""}}),[b,k]=L.useState(!1);if(b)throw new Error("Test crash triggered from Settings");const w=async A=>{if(A.preventDefault(),m(""),!s.pass1||s.pass1!==s.pass2){m("Passphrases do not match");return}h(!0);try{await n(s.pass1),o({pass1:"",pass2:""})}catch{m("Failed to enable encryption")}finally{h(!1)}},E=async A=>{if(A.preventDefault(),m(""),!!a){h(!0);try{await t(a),l("")}catch{m("Incorrect passphrase")}finally{h(!1)}}},C=async()=>{const A=prompt("Enter your passphrase to disable encryption:");if(A){h(!0),m("");try{await r(A)}catch{m("Failed to disable encryption")}finally{h(!1)}}},T=async A=>{if(A.preventDefault(),m(""),!c.newPass1||c.newPass1!==c.newPass2){m("New passphrases do not match");return}h(!0);try{await i(c.oldPass,c.newPass1),d({oldPass:"",newPass1:"",newPass2:""})}catch{m("Failed to change passphrase (check old passphrase)")}finally{h(!1)}},I=A=>{v(A),_(!1)},D=()=>{Ji.signOut(),v(null)},F=()=>{try{localStorage.setItem("lunation:tester_code",x.trim());const A=localStorage.getItem("lunation:user_id")||void 0;Yb({id:A,username:x.trim()||void 0}),x.trim()&&Zb("tester_code",x.trim()),ii.success("Tester code saved"),si("Tester code saved")}catch{}},U=()=>{Hb("tester.send_test_event",{level:"info"}),ii.info("Test event sent"),si("Test event sent")};return u.jsxs("div",{className:"card",children:[u.jsx("h2",{children:"⚙️ Settings"}),p&&u.jsx("div",{style:{background:"#fff5f5",border:"1px solid #feb2b2",color:"#c53030",padding:"0.75rem 1rem",borderRadius:8,marginBottom:"1rem"},children:p}),u.jsxs("div",{style:{display:"grid",gap:"1.5rem"},children:[u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--surface-2), var(--surface))",padding:"1.5rem",borderRadius:12,border:"1px solid var(--border)"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"🧪 Testing & Diagnostics"}),u.jsxs("div",{style:{display:"grid",gap:"0.75rem",maxWidth:420},children:[u.jsx("label",{style:{fontWeight:600},children:"Tester Code (optional)"}),u.jsx("input",{type:"text",value:x,onChange:A=>S(A.target.value),placeholder:"e.g. QA-001, Alice, Device-3",style:{padding:"0.6rem",borderRadius:8,border:"1px solid #ddd"}}),u.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[u.jsx("button",{className:"btn",type:"button",onClick:F,children:"Save Tester Code"}),u.jsx("button",{className:"btn btn-secondary",type:"button",onClick:U,children:"Send Test Event"}),u.jsx("button",{className:"btn btn-secondary",type:"button",onClick:()=>k(!0),style:{background:"var(--danger)",borderColor:"var(--danger)"},children:"Crash App (test)"})]}),u.jsx("div",{style:{fontSize:"0.9rem",color:"var(--muted)"},children:"Saved code is attached to error reports to identify your device/tester."})]})]}),u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--surface-2), var(--surface))",padding:"1.5rem",borderRadius:12,border:"1px solid var(--border)"},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:"🔐 Account & Authentication"}),y?u.jsxs("div",{children:[u.jsxs("div",{style:{background:"var(--success-light)",border:"1px solid var(--success)",borderRadius:"8px",padding:"1rem",marginBottom:"1rem"},children:[u.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem",marginBottom:"0.5rem"},children:[u.jsx("span",{style:{fontSize:"1.5rem"},children:y.local?"🏠":"🔐"}),u.jsxs("div",{children:[u.jsx("div",{style:{color:"var(--text)",fontWeight:"bold"},children:y.local?"Local Account":"Passkey Account"}),u.jsxs("div",{style:{color:"var(--muted)",fontSize:"0.9rem"},children:["Signed in as: ",y.name]})]})]}),!y.local&&u.jsx("div",{style:{fontSize:"0.8rem",color:"var(--muted)",marginTop:"0.5rem"},children:"Protected with device biometrics or security key"})]}),u.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[y.local&&u.jsx("button",{onClick:()=>_(!0),style:{background:"linear-gradient(135deg, var(--accent), var(--accent-2))",color:"white",border:"none",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"🔐 Upgrade to Passkey"}),u.jsx("button",{onClick:D,style:{background:"transparent",color:"var(--muted)",border:"1px solid var(--border)",padding:"0.75rem 1.5rem",borderRadius:"8px",cursor:"pointer",fontSize:"0.9rem"},children:"Sign Out"})]})]}):u.jsxs("div",{children:[u.jsx("p",{style:{color:"var(--muted)",marginBottom:"1rem"},children:"Set up secure authentication to protect your Lunation data across devices."}),u.jsx("button",{onClick:()=>_(!0),style:{background:"linear-gradient(135deg, var(--accent), var(--accent-2))",color:"white",border:"none",padding:"1rem 2rem",borderRadius:"8px",cursor:"pointer",fontSize:"1rem",fontWeight:"bold"},children:"🔐 Set Up Authentication"})]})]}),u.jsxs("div",{style:{background:"linear-gradient(135deg, var(--surface-2), var(--surface))",padding:"1rem",borderRadius:12},children:[u.jsx("h3",{style:{color:"var(--accent)",marginBottom:"0.5rem"},children:"🔒 Data Privacy & Encryption"}),u.jsx("p",{style:{margin:0,color:"var(--muted)"},children:"Your data is stored locally in this browser. You can enable optional encryption with a passphrase to protect it at rest."})]}),u.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:u.jsxs("div",{style:{background:"var(--surface-2)",padding:"1rem",borderRadius:12},children:[u.jsxs("div",{children:[u.jsx("strong",{children:"Status:"})," ",e.enabled?e.locked?"Encrypted (Locked)":"Encrypted (Unlocked)":"Not Encrypted"]}),u.jsxs("div",{children:[u.jsx("strong",{children:"Sessions:"})," Passphrase is kept only in memory for this session."]})]})}),!e.enabled&&u.jsxs("form",{onSubmit:w,style:{background:"var(--surface-2)",padding:"1rem",borderRadius:12},children:[u.jsx("h4",{style:{marginTop:0},children:"Enable Encryption"}),u.jsxs("div",{style:{display:"grid",gap:"0.75rem",maxWidth:420},children:[u.jsx("input",{type:"password",placeholder:"Passphrase",value:s.pass1,onChange:A=>o({...s,pass1:A.target.value}),style:{padding:"0.6rem",borderRadius:8,border:"1px solid #ddd"}}),u.jsx("input",{type:"password",placeholder:"Confirm passphrase",value:s.pass2,onChange:A=>o({...s,pass2:A.target.value}),style:{padding:"0.6rem",borderRadius:8,border:"1px solid #ddd"}}),u.jsx("button",{disabled:f,className:"btn",type:"submit",style:{width:"fit-content"},children:f?"Working…":"Enable"})]})]}),e.enabled&&e.locked&&u.jsxs("form",{onSubmit:E,style:{background:"var(--surface-2)",padding:"1rem",borderRadius:12},children:[u.jsx("h4",{style:{marginTop:0},children:"Unlock Data"}),u.jsxs("div",{style:{display:"grid",gap:"0.75rem",maxWidth:420},children:[u.jsx("input",{type:"password",placeholder:"Passphrase",value:a,onChange:A=>l(A.target.value),style:{padding:"0.6rem",borderRadius:8,border:"1px solid #ddd"}}),u.jsx("button",{disabled:f,className:"btn",type:"submit",style:{width:"fit-content"},children:f?"Unlocking…":"Unlock"})]})]}),e.enabled&&!e.locked&&u.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[u.jsxs("form",{onSubmit:T,style:{background:"var(--surface-2)",padding:"1rem",borderRadius:12},children:[u.jsx("h4",{style:{marginTop:0},children:"Change Passphrase"}),u.jsxs("div",{style:{display:"grid",gap:"0.75rem",maxWidth:420},children:[u.jsx("input",{type:"password",placeholder:"Current passphrase",value:c.oldPass,onChange:A=>d({...c,oldPass:A.target.value}),style:{padding:"0.6rem",borderRadius:8,border:"1px solid #ddd"}}),u.jsx("input",{type:"password",placeholder:"New passphrase",value:c.newPass1,onChange:A=>d({...c,newPass1:A.target.value}),style:{padding:"0.6rem",borderRadius:8,border:"1px solid #ddd"}}),u.jsx("input",{type:"password",placeholder:"Confirm new passphrase",value:c.newPass2,onChange:A=>d({...c,newPass2:A.target.value}),style:{padding:"0.6rem",borderRadius:8,border:"1px solid #ddd"}}),u.jsx("button",{disabled:f,className:"btn",type:"submit",style:{width:"fit-content"},children:f?"Working…":"Change Passphrase"})]})]}),u.jsxs("div",{style:{background:"linear-gradient(135deg, #fff5f5, #fed7d7)",padding:"1rem",borderRadius:12,border:"1px solid #feb2b2"},children:[u.jsx("h4",{style:{marginTop:0,color:"#e53e3e"},children:"Disable Encryption"}),u.jsx("p",{style:{color:"#744210"},children:"This will write your data in plaintext to this browser. Not recommended."}),u.jsx("button",{disabled:f,className:"btn",onClick:C,style:{background:"#e53e3e"},children:"Disable Encryption"})]})]})]}),g&&u.jsx(rb,{isOpen:g,onClose:()=>_(!1),onAuthSuccess:I})]})}function bB(){const[e,t]=L.useState("dashboard"),[n,r]=L.useState(!1),[i,s]=L.useState(!1),[o,a]=L.useState(null);L.useEffect(()=>{localStorage.getItem("lunation-onboarding-completed")||r(!0)},[]);const l=h=>{r(!1),s(!0),h.primaryGoal&&(h.primaryGoal==="fertility-planning"?t("calendar"):h.primaryGoal==="symptom-management"?t("symptoms"):h.primaryGoal==="health-insights"?t("insights"):t("tracking"))},c=h=>{a(h),s(!1)},d=[{id:"dashboard",label:"Dashboard"},{id:"calendar",label:"Calendar"},{id:"tracking",label:"Track Cycle"},{id:"symptoms",label:"Symptoms"},{id:"analytics",label:"Analytics"},{id:"insights",label:"AI Insights"},{id:"notifications",label:"Smart Alerts"},{id:"research",label:"Research"},{id:"medications",label:"Medications"},{id:"export",label:"Export Data"},{id:"settings",label:"Settings"}],f=()=>{switch(e){case"dashboard":return u.jsx(Ey,{});case"calendar":return u.jsx(PT,{});case"tracking":return u.jsx(WL,{});case"symptoms":return u.jsx(_B,{});case"analytics":return u.jsx(pB,{});case"insights":return u.jsx(yB,{});case"notifications":return u.jsx(vB,{});case"research":return u.jsx(xB,{});case"medications":return u.jsx(gB,{});case"export":return u.jsx(mB,{});case"settings":return u.jsx(SB,{});default:return u.jsx(Ey,{})}};return u.jsx(IT,{children:u.jsxs("div",{className:"app",children:[u.jsx(RT,{}),u.jsx("div",{style:{background:"transparent",borderBottom:"1px solid var(--border)",position:"sticky",top:"0",zIndex:100},children:u.jsx("div",{className:"container",style:{padding:"0 2rem"},children:u.jsx("nav",{style:{display:"flex",overflowX:"auto",gap:"0.5rem",paddingBottom:"0",scrollbarWidth:"none",msOverflowStyle:"none"},children:d.map(h=>u.jsx("button",{onClick:()=>{try{Lt({category:"nav",message:"tab-change",level:"info",data:{to:h.id}})}catch{}t(h.id)},style:{background:"none",border:"none",padding:"1rem 1.5rem",cursor:"pointer",fontSize:"0.9rem",fontWeight:e===h.id?"600":"400",color:e===h.id?"var(--accent)":"var(--muted)",borderBottom:e===h.id?"3px solid var(--accent)":"3px solid transparent",transition:"all 0.2s",whiteSpace:"nowrap",display:"flex",alignItems:"center",gap:"0.5rem"},children:u.jsx("span",{className:"tab-label",children:h.label})},h.id))})})}),u.jsx("div",{className:"container",children:f()}),u.jsx(jT,{}),n&&u.jsx(MT,{onComplete:l}),i&&u.jsx(rb,{isOpen:i,onClose:()=>s(!1),onAuthSuccess:c})]})})}function wB(){const e=(go==null?void 0:go())||go||"",[t,n]=ss.useState(null),[r,i]=ss.useState(!1);ss.useEffect(()=>{try{const a=sessionStorage.getItem("lunation:last_error");a&&n(JSON.parse(a))}catch{}},[]);const s=async()=>{try{await navigator.clipboard.writeText(String(e||""))}catch{}},o=()=>{try{e&&Rh({eventId:String(e)})}catch{}};return u.jsx("div",{className:"container",style:{paddingTop:"4rem",paddingBottom:"4rem"},children:u.jsxs("div",{className:"card",style:{textAlign:"center"},children:[u.jsx("h2",{style:{marginBottom:"0.5rem"},children:"Something went wrong"}),u.jsx("p",{style:{color:"var(--muted)",marginBottom:"1.5rem"},children:"An unexpected error occurred. You can try reloading the app."}),u.jsxs("div",{style:{display:"flex",gap:"0.75rem",justifyContent:"center"},children:[u.jsx("button",{className:"btn",onClick:()=>window.location.reload(),"aria-label":"Reload app",children:"Reload"}),u.jsx("button",{className:"btn btn-secondary",onClick:s,"aria-label":"Copy error id",children:"Copy error id"}),u.jsx("button",{className:"btn btn-secondary",onClick:o,"aria-label":"Report this error",children:"Report this error"})]}),e?u.jsxs("div",{style:{marginTop:"1rem",fontSize:"0.85rem",color:"var(--muted)"},children:["Error id: ",String(e)]}):null,t?u.jsxs("div",{style:{marginTop:"0.75rem"},children:[u.jsx("button",{className:"btn btn-secondary",onClick:()=>i(a=>!a),"aria-expanded":r,children:r?"Hide technical details":"Show technical details"}),r&&u.jsx("pre",{style:{textAlign:"left",background:"var(--surface)",padding:"0.75rem",borderRadius:8,marginTop:"0.5rem",overflowX:"auto"},children:(t.message||"")+(t.stack?`
${t.stack}`:"")})]}):null]})})}function M(e,t,n){function r(a,l){var c;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(c=a._zod).traits??(c.traits=new Set),a._zod.traits.add(e),t(a,l);for(const d in o.prototype)d in a||Object.defineProperty(a,d,{value:o.prototype[d].bind(a)});a._zod.constr=o,a._zod.def=l}const i=(n==null?void 0:n.Parent)??Object;class s extends i{}Object.defineProperty(s,"name",{value:e});function o(a){var l;const c=n!=null&&n.Parent?new s:this;r(c,a),(l=c._zod).deferred??(l.deferred=[]);for(const d of c._zod.deferred)d();return c}return Object.defineProperty(o,"init",{value:r}),Object.defineProperty(o,Symbol.hasInstance,{value:a=>{var l,c;return n!=null&&n.Parent&&a instanceof n.Parent?!0:(c=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:c.has(e)}}),Object.defineProperty(o,"name",{value:e}),o}class ps extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class _1 extends Error{constructor(t){super(`Encountered unidirectional transform during encode: ${t}`),this.name="ZodEncodeError"}}const x1={};function bi(e){return x1}function kB(e){const t=Object.values(e).filter(r=>typeof r=="number");return Object.entries(e).filter(([r,i])=>t.indexOf(+r)===-1).map(([r,i])=>i)}function Kh(e,t){return typeof t=="bigint"?t.toString():t}function rg(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function ig(e){return e==null}function sg(e){const t=e.startsWith("^")?1:0,n=e.endsWith("$")?e.length-1:e.length;return e.slice(t,n)}function EB(e,t){const n=(e.toString().split(".")[1]||"").length,r=t.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const l=r.match(/\d?e-(\d?)/);l!=null&&l[1]&&(i=Number.parseInt(l[1]))}const s=n>i?n:i,o=Number.parseInt(e.toFixed(s).replace(".","")),a=Number.parseInt(t.toFixed(s).replace(".",""));return o%a/10**s}const g0=Symbol("evaluating");function xe(e,t,n){let r;Object.defineProperty(e,t,{get(){if(r!==g0)return r===void 0&&(r=g0,r=n()),r},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function CB(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function zr(e,t,n){Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0})}function Ys(...e){const t={};for(const n of e){const r=Object.getOwnPropertyDescriptors(n);Object.assign(t,r)}return Object.defineProperties({},t)}function y0(e){return JSON.stringify(e)}const S1="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function hu(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const TB=rg(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Sa(e){if(hu(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(hu(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function b1(e){return Sa(e)?{...e}:e}const IB=new Set(["string","number","symbol"]);function Gu(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Fr(e,t,n){const r=new e._zod.constr(t??e._zod.def);return(!t||n!=null&&n.parent)&&(r._zod.parent=e),r}function V(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function RB(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const MB={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function DB(e,t){const n=e._zod.def,r=Ys(e._zod.def,{get shape(){const i={};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&(i[s]=n.shape[s])}return zr(this,"shape",i),i},checks:[]});return Fr(e,r)}function jB(e,t){const n=e._zod.def,r=Ys(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const s in t){if(!(s in n.shape))throw new Error(`Unrecognized key: "${s}"`);t[s]&&delete i[s]}return zr(this,"shape",i),i},checks:[]});return Fr(e,r)}function AB(e,t){if(!Sa(t))throw new Error("Invalid input to extend: expected a plain object");const n=e._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=Ys(e._zod.def,{get shape(){const s={...e._zod.def.shape,...t};return zr(this,"shape",s),s},checks:[]});return Fr(e,i)}function PB(e,t){if(!Sa(t))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...e._zod.def,get shape(){const r={...e._zod.def.shape,...t};return zr(this,"shape",r),r},checks:e._zod.def.checks};return Fr(e,n)}function OB(e,t){const n=Ys(e._zod.def,{get shape(){const r={...e._zod.def.shape,...t._zod.def.shape};return zr(this,"shape",r),r},get catchall(){return t._zod.def.catchall},checks:[]});return Fr(e,n)}function NB(e,t,n){const r=Ys(t._zod.def,{get shape(){const i=t._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in i))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=e?new e({type:"optional",innerType:i[o]}):i[o])}else for(const o in i)s[o]=e?new e({type:"optional",innerType:i[o]}):i[o];return zr(this,"shape",s),s},checks:[]});return Fr(t,r)}function LB(e,t,n){const r=Ys(t._zod.def,{get shape(){const i=t._zod.def.shape,s={...i};if(n)for(const o in n){if(!(o in s))throw new Error(`Unrecognized key: "${o}"`);n[o]&&(s[o]=new e({type:"nonoptional",innerType:i[o]}))}else for(const o in i)s[o]=new e({type:"nonoptional",innerType:i[o]});return zr(this,"shape",s),s},checks:[]});return Fr(t,r)}function is(e,t=0){var n;if(e.aborted===!0)return!0;for(let r=t;r<e.issues.length;r++)if(((n=e.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function w1(e,t){return t.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(e),n})}function Ol(e){return typeof e=="string"?e:e==null?void 0:e.message}function wi(e,t,n){var i,s,o,a,l,c;const r={...e,path:e.path??[]};if(!e.message){const d=Ol((o=(s=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:s.error)==null?void 0:o.call(s,e))??Ol((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??Ol((l=n.customError)==null?void 0:l.call(n,e))??Ol((c=n.localeError)==null?void 0:c.call(n,e))??"Invalid input";r.message=d}return delete r.inst,delete r.continue,t!=null&&t.reportInput||delete r.input,r}function og(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ba(...e){const[t,n,r]=e;return typeof t=="string"?{message:t,code:"custom",input:n,inst:r}:{...t}}const k1=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Kh,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},E1=M("$ZodError",k1),C1=M("$ZodError",k1,{Parent:Error});function zB(e,t=n=>n.message){const n={},r=[];for(const i of e.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}function FB(e,t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>i({issues:a}));else if(o.code==="invalid_key")i({issues:o.issues});else if(o.code==="invalid_element")i({issues:o.issues});else if(o.path.length===0)r._errors.push(n(o));else{let a=r,l=0;for(;l<o.path.length;){const c=o.path[l];l===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(o))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(e),r}const ag=e=>(t,n,r,i)=>{const s=r?Object.assign(r,{async:!1}):{async:!1},o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise)throw new ps;if(o.issues.length){const a=new((i==null?void 0:i.Err)??e)(o.issues.map(l=>wi(l,s,bi())));throw S1(a,i==null?void 0:i.callee),a}return o.value},lg=e=>async(t,n,r,i)=>{const s=r?Object.assign(r,{async:!0}):{async:!0};let o=t._zod.run({value:n,issues:[]},s);if(o instanceof Promise&&(o=await o),o.issues.length){const a=new((i==null?void 0:i.Err)??e)(o.issues.map(l=>wi(l,s,bi())));throw S1(a,i==null?void 0:i.callee),a}return o.value},Ku=e=>(t,n,r)=>{const i=r?{...r,async:!1}:{async:!1},s=t._zod.run({value:n,issues:[]},i);if(s instanceof Promise)throw new ps;return s.issues.length?{success:!1,error:new(e??E1)(s.issues.map(o=>wi(o,i,bi())))}:{success:!0,data:s.value}},BB=Ku(C1),Xu=e=>async(t,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let s=t._zod.run({value:n,issues:[]},i);return s instanceof Promise&&(s=await s),s.issues.length?{success:!1,error:new e(s.issues.map(o=>wi(o,i,bi())))}:{success:!0,data:s.value}},$B=Xu(C1),WB=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return ag(e)(t,n,i)},UB=e=>(t,n,r)=>ag(e)(t,n,r),HB=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return lg(e)(t,n,i)},VB=e=>async(t,n,r)=>lg(e)(t,n,r),ZB=e=>(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Ku(e)(t,n,i)},YB=e=>(t,n,r)=>Ku(e)(t,n,r),qB=e=>async(t,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return Xu(e)(t,n,i)},GB=e=>async(t,n,r)=>Xu(e)(t,n,r),KB=/^[cC][^\s-]{8,}$/,XB=/^[0-9a-z]+$/,JB=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,QB=/^[0-9a-vA-V]{20}$/,e$=/^[A-Za-z0-9]{27}$/,t$=/^[a-zA-Z0-9_-]{21}$/,n$=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,r$=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,v0=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,i$=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,s$="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function o$(){return new RegExp(s$,"u")}const a$=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,l$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,c$=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,u$=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,d$=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,T1=/^[A-Za-z0-9_-]*$/,f$=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,h$=/^\+(?:[0-9]){6,14}[0-9]$/,I1="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",p$=new RegExp(`^${I1}$`);function R1(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function m$(e){return new RegExp(`^${R1(e)}$`)}function g$(e){const t=R1({precision:e.precision}),n=["Z"];e.local&&n.push(""),e.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${t}(?:${n.join("|")})`;return new RegExp(`^${I1}T(?:${r})$`)}const y$=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},v$=/^\d+$/,_$=/^-?\d+(?:\.\d+)?/i,x$=/true|false/i,S$=/^[^A-Z]*$/,b$=/^[^a-z]*$/,Rt=M("$ZodCheck",(e,t)=>{var n;e._zod??(e._zod={}),e._zod.def=t,(n=e._zod).onattach??(n.onattach=[])}),M1={number:"number",bigint:"bigint",object:"date"},D1=M("$ZodCheckLessThan",(e,t)=>{Rt.init(e,t);const n=M1[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<s&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value<=t.value:r.value<t.value)||r.issues.push({origin:n,code:"too_big",maximum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),j1=M("$ZodCheckGreaterThan",(e,t)=>{Rt.init(e,t);const n=M1[typeof t.value];e._zod.onattach.push(r=>{const i=r._zod.bag,s=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>s&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=r=>{(t.inclusive?r.value>=t.value:r.value>t.value)||r.issues.push({origin:n,code:"too_small",minimum:t.value,input:r.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),w$=M("$ZodCheckMultipleOf",(e,t)=>{Rt.init(e,t),e._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=t.value)}),e._zod.check=n=>{if(typeof n.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%t.value===BigInt(0):EB(n.value,t.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:t.value,input:n.value,inst:e,continue:!t.abort})}}),k$=M("$ZodCheckNumberFormat",(e,t)=>{var o;Rt.init(e,t),t.format=t.format||"float64";const n=(o=t.format)==null?void 0:o.includes("int"),r=n?"int":"number",[i,s]=MB[t.format];e._zod.onattach.push(a=>{const l=a._zod.bag;l.format=t.format,l.minimum=i,l.maximum=s,n&&(l.pattern=v$)}),e._zod.check=a=>{const l=a.value;if(n){if(!Number.isInteger(l)){a.issues.push({expected:r,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?a.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort}):a.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:r,continue:!t.abort});return}}l<i&&a.issues.push({origin:"number",input:l,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),l>s&&a.issues.push({origin:"number",input:l,code:"too_big",maximum:s,inst:e})}}),E$=M("$ZodCheckMaxLength",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!ig(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(r._zod.bag.maximum=t.maximum)}),e._zod.check=r=>{const i=r.value;if(i.length<=t.maximum)return;const o=og(i);r.issues.push({origin:o,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),C$=M("$ZodCheckMinLength",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!ig(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(r._zod.bag.minimum=t.minimum)}),e._zod.check=r=>{const i=r.value;if(i.length>=t.minimum)return;const o=og(i);r.issues.push({origin:o,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),T$=M("$ZodCheckLengthEquals",(e,t)=>{var n;Rt.init(e,t),(n=e._zod.def).when??(n.when=r=>{const i=r.value;return!ig(i)&&i.length!==void 0}),e._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=r=>{const i=r.value,s=i.length;if(s===t.length)return;const o=og(i),a=s>t.length;r.issues.push({origin:o,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:r.value,inst:e,continue:!t.abort})}}),Ju=M("$ZodCheckStringFormat",(e,t)=>{var n,r;Rt.init(e,t),e._zod.onattach.push(i=>{const s=i._zod.bag;s.format=t.format,t.pattern&&(s.patterns??(s.patterns=new Set),s.patterns.add(t.pattern))}),t.pattern?(n=e._zod).check??(n.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(r=e._zod).check??(r.check=()=>{})}),I$=M("$ZodCheckRegex",(e,t)=>{Ju.init(e,t),e._zod.check=n=>{t.pattern.lastIndex=0,!t.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),R$=M("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=S$),Ju.init(e,t)}),M$=M("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=b$),Ju.init(e,t)}),D$=M("$ZodCheckIncludes",(e,t)=>{Rt.init(e,t);const n=Gu(t.includes),r=new RegExp(typeof t.position=="number"?`^.{${t.position}}${n}`:n);t.pattern=r,e._zod.onattach.push(i=>{const s=i._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),j$=M("$ZodCheckStartsWith",(e,t)=>{Rt.init(e,t);const n=new RegExp(`^${Gu(t.prefix)}.*`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.startsWith(t.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:r.value,inst:e,continue:!t.abort})}}),A$=M("$ZodCheckEndsWith",(e,t)=>{Rt.init(e,t);const n=new RegExp(`.*${Gu(t.suffix)}$`);t.pattern??(t.pattern=n),e._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),e._zod.check=r=>{r.value.endsWith(t.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:r.value,inst:e,continue:!t.abort})}}),P$=M("$ZodCheckOverwrite",(e,t)=>{Rt.init(e,t),e._zod.check=n=>{n.value=t.tx(n.value)}});class O${constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const r=t.split(`
`).filter(o=>o),i=Math.min(...r.map(o=>o.length-o.trimStart().length)),s=r.map(o=>o.slice(i)).map(o=>" ".repeat(this.indent*2)+o);for(const o of s)this.content.push(o)}compile(){const t=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(s=>`  ${s}`)];return new t(...n,i.join(`
`))}}const N$={major:4,minor:1,patch:5},ze=M("$ZodType",(e,t)=>{var i;var n;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=N$;const r=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&r.unshift(e);for(const s of r)for(const o of s._zod.onattach)o(e);if(r.length===0)(n=e._zod).deferred??(n.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const s=(a,l,c)=>{let d=is(a),f;for(const h of l){if(h._zod.def.when){if(!h._zod.def.when(a))continue}else if(d)continue;const p=a.issues.length,m=h._zod.check(a);if(m instanceof Promise&&(c==null?void 0:c.async)===!1)throw new ps;if(f||m instanceof Promise)f=(f??Promise.resolve()).then(async()=>{await m,a.issues.length!==p&&(d||(d=is(a,p)))});else{if(a.issues.length===p)continue;d||(d=is(a,p))}}return f?f.then(()=>a):a},o=(a,l,c)=>{if(is(a))return a.aborted=!0,a;const d=s(l,r,c);if(d instanceof Promise){if(c.async===!1)throw new ps;return d.then(f=>e._zod.parse(f,c))}return e._zod.parse(d,c)};e._zod.run=(a,l)=>{if(l.skipChecks)return e._zod.parse(a,l);if(l.direction==="backward"){const d=e._zod.parse({value:a.value,issues:[]},{...l,skipChecks:!0});return d instanceof Promise?d.then(f=>o(f,a,l)):o(d,a,l)}const c=e._zod.parse(a,l);if(c instanceof Promise){if(l.async===!1)throw new ps;return c.then(d=>s(d,r,l))}return s(c,r,l)}}e["~standard"]={validate:s=>{var o;try{const a=BB(e,s);return a.success?{value:a.data}:{issues:(o=a.error)==null?void 0:o.issues}}catch{return $B(e,s).then(l=>{var c;return l.success?{value:l.data}:{issues:(c=l.error)==null?void 0:c.issues}})}},vendor:"zod",version:1}}),cg=M("$ZodString",(e,t)=>{var n;ze.init(e,t),e._zod.pattern=[...((n=e==null?void 0:e._zod.bag)==null?void 0:n.patterns)??[]].pop()??y$(e._zod.bag),e._zod.parse=(r,i)=>{if(t.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:e}),r}}),Ee=M("$ZodStringFormat",(e,t)=>{Ju.init(e,t),cg.init(e,t)}),L$=M("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=r$),Ee.init(e,t)}),z$=M("$ZodUUID",(e,t)=>{if(t.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(r===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=v0(r))}else t.pattern??(t.pattern=v0());Ee.init(e,t)}),F$=M("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=i$),Ee.init(e,t)}),B$=M("$ZodURL",(e,t)=>{Ee.init(e,t),e._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:f$.source,input:n.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:n.value,inst:e,continue:!t.abort})),t.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:e,continue:!t.abort})}}}),$$=M("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=o$()),Ee.init(e,t)}),W$=M("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=t$),Ee.init(e,t)}),U$=M("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=KB),Ee.init(e,t)}),H$=M("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=XB),Ee.init(e,t)}),V$=M("$ZodULID",(e,t)=>{t.pattern??(t.pattern=JB),Ee.init(e,t)}),Z$=M("$ZodXID",(e,t)=>{t.pattern??(t.pattern=QB),Ee.init(e,t)}),Y$=M("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=e$),Ee.init(e,t)}),q$=M("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=g$(t)),Ee.init(e,t)}),G$=M("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=p$),Ee.init(e,t)}),K$=M("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=m$(t)),Ee.init(e,t)}),X$=M("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=n$),Ee.init(e,t)}),J$=M("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=a$),Ee.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv4"})}),Q$=M("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=l$),Ee.init(e,t),e._zod.onattach.push(n=>{const r=n._zod.bag;r.format="ipv6"}),e._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:e,continue:!t.abort})}}}),e3=M("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=c$),Ee.init(e,t)}),t3=M("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=u$),Ee.init(e,t),e._zod.check=n=>{const[r,i]=n.value.split("/");try{if(!i)throw new Error;const s=Number(i);if(`${s}`!==i)throw new Error;if(s<0||s>128)throw new Error;new URL(`http://[${r}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:e,continue:!t.abort})}}});function A1(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const n3=M("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=d$),Ee.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64"}),e._zod.check=n=>{A1(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:e,continue:!t.abort})}});function r3(e){if(!T1.test(e))return!1;const t=e.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=t.padEnd(Math.ceil(t.length/4)*4,"=");return A1(n)}const i3=M("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=T1),Ee.init(e,t),e._zod.onattach.push(n=>{n._zod.bag.contentEncoding="base64url"}),e._zod.check=n=>{r3(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:e,continue:!t.abort})}}),s3=M("$ZodE164",(e,t)=>{t.pattern??(t.pattern=h$),Ee.init(e,t)});function o3(e,t=null){try{const n=e.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const a3=M("$ZodJWT",(e,t)=>{Ee.init(e,t),e._zod.check=n=>{o3(n.value,t.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:e,continue:!t.abort})}}),P1=M("$ZodNumber",(e,t)=>{ze.init(e,t),e._zod.pattern=e._zod.bag.pattern??_$,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const s=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...s?{received:s}:{}}),n}}),l3=M("$ZodNumber",(e,t)=>{k$.init(e,t),P1.init(e,t)}),c3=M("$ZodBoolean",(e,t)=>{ze.init(e,t),e._zod.pattern=x$,e._zod.parse=(n,r)=>{if(t.coerce)try{n.value=!!n.value}catch{}const i=n.value;return typeof i=="boolean"||n.issues.push({expected:"boolean",code:"invalid_type",input:i,inst:e}),n}}),u3=M("$ZodUnknown",(e,t)=>{ze.init(e,t),e._zod.parse=n=>n}),d3=M("$ZodNever",(e,t)=>{ze.init(e,t),e._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:e}),n)});function _0(e,t,n){e.issues.length&&t.issues.push(...w1(n,e.issues)),t.value[n]=e.value}const f3=M("$ZodArray",(e,t)=>{ze.init(e,t),e._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),n;n.value=Array(i.length);const s=[];for(let o=0;o<i.length;o++){const a=i[o],l=t.element._zod.run({value:a,issues:[]},r);l instanceof Promise?s.push(l.then(c=>_0(c,n,o))):_0(l,n,o)}return s.length?Promise.all(s).then(()=>n):n}});function pu(e,t,n,r){e.issues.length&&t.issues.push(...w1(n,e.issues)),e.value===void 0?n in r&&(t.value[n]=void 0):t.value[n]=e.value}function O1(e){const t=Object.keys(e.shape);for(const r of t)if(!e.shape[r]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${r}": expected a Zod schema`);const n=RB(e.shape);return{...e,keys:t,keySet:new Set(t),numKeys:t.length,optionalKeys:new Set(n)}}function N1(e,t,n,r,i,s){const o=[],a=i.keySet,l=i.catchall._zod,c=l.def.type;for(const d of Object.keys(t)){if(a.has(d))continue;if(c==="never"){o.push(d);continue}const f=l.run({value:t[d],issues:[]},r);f instanceof Promise?e.push(f.then(h=>pu(h,n,d,t))):pu(f,n,d,t)}return o.length&&n.issues.push({code:"unrecognized_keys",keys:o,input:t,inst:s}),e.length?Promise.all(e).then(()=>n):n}const h3=M("$ZodObject",(e,t)=>{ze.init(e,t);const n=rg(()=>O1(t));xe(e._zod,"propValues",()=>{const o=t.shape,a={};for(const l in o){const c=o[l]._zod;if(c.values){a[l]??(a[l]=new Set);for(const d of c.values)a[l].add(d)}}return a});const r=hu,i=t.catchall;let s;e._zod.parse=(o,a)=>{s??(s=n.value);const l=o.value;if(!r(l))return o.issues.push({expected:"object",code:"invalid_type",input:l,inst:e}),o;o.value={};const c=[],d=s.shape;for(const f of s.keys){const p=d[f]._zod.run({value:l[f],issues:[]},a);p instanceof Promise?c.push(p.then(m=>pu(m,o,f,l))):pu(p,o,f,l)}return i?N1(c,l,o,a,n.value,e):c.length?Promise.all(c).then(()=>o):o}}),p3=M("$ZodObjectJIT",(e,t)=>{h3.init(e,t);const n=e._zod.parse,r=rg(()=>O1(t)),i=h=>{const p=new O$(["shape","payload","ctx"]),m=r.value,g=x=>{const S=y0(x);return`shape[${S}]._zod.run({ value: input[${S}], issues: [] }, ctx)`};p.write("const input = payload.value;");const _=Object.create(null);let y=0;for(const x of m.keys)_[x]=`key_${y++}`;p.write("const newResult = {}");for(const x of m.keys){const S=_[x],b=y0(x);p.write(`const ${S} = ${g(x)};`),p.write(`
        if (${S}.issues.length) {
          payload.issues = payload.issues.concat(${S}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${b}, ...iss.path] : [${b}]
          })));
        }
        
        if (${S}.value === undefined) {
          if (${b} in input) {
            newResult[${b}] = undefined;
          }
        } else {
          newResult[${b}] = ${S}.value;
        }
      `)}p.write("payload.value = newResult;"),p.write("return payload;");const v=p.compile();return(x,S)=>v(h,x,S)};let s;const o=hu,a=!x1.jitless,c=a&&TB.value,d=t.catchall;let f;e._zod.parse=(h,p)=>{f??(f=r.value);const m=h.value;return o(m)?a&&c&&(p==null?void 0:p.async)===!1&&p.jitless!==!0?(s||(s=i(t.shape)),h=s(h,p),d?N1([],m,h,p,f,e):h):n(h,p):(h.issues.push({expected:"object",code:"invalid_type",input:m,inst:e}),h)}});function x0(e,t,n,r){for(const s of e)if(s.issues.length===0)return t.value=s.value,t;const i=e.filter(s=>!is(s));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:n,errors:e.map(s=>s.issues.map(o=>wi(o,r,bi())))}),t)}const m3=M("$ZodUnion",(e,t)=>{ze.init(e,t),xe(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),xe(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),xe(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),xe(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(s=>s._zod.pattern);return new RegExp(`^(${i.map(s=>sg(s.source)).join("|")})$`)}});const n=t.options.length===1,r=t.options[0]._zod.run;e._zod.parse=(i,s)=>{if(n)return r(i,s);let o=!1;const a=[];for(const l of t.options){const c=l._zod.run({value:i.value,issues:[]},s);if(c instanceof Promise)a.push(c),o=!0;else{if(c.issues.length===0)return c;a.push(c)}}return o?Promise.all(a).then(l=>x0(l,i,e,s)):x0(a,i,e,s)}}),g3=M("$ZodIntersection",(e,t)=>{ze.init(e,t),e._zod.parse=(n,r)=>{const i=n.value,s=t.left._zod.run({value:i,issues:[]},r),o=t.right._zod.run({value:i,issues:[]},r);return s instanceof Promise||o instanceof Promise?Promise.all([s,o]).then(([l,c])=>S0(n,l,c)):S0(n,s,o)}});function Xh(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Sa(e)&&Sa(t)){const n=Object.keys(t),r=Object.keys(e).filter(s=>n.indexOf(s)!==-1),i={...e,...t};for(const s of r){const o=Xh(e[s],t[s]);if(!o.valid)return{valid:!1,mergeErrorPath:[s,...o.mergeErrorPath]};i[s]=o.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<e.length;r++){const i=e[r],s=t[r],o=Xh(i,s);if(!o.valid)return{valid:!1,mergeErrorPath:[r,...o.mergeErrorPath]};n.push(o.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function S0(e,t,n){if(t.issues.length&&e.issues.push(...t.issues),n.issues.length&&e.issues.push(...n.issues),is(e))return e;const r=Xh(t.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return e.value=r.data,e}const y3=M("$ZodEnum",(e,t)=>{ze.init(e,t);const n=kB(t.entries),r=new Set(n);e._zod.values=r,e._zod.pattern=new RegExp(`^(${n.filter(i=>IB.has(typeof i)).map(i=>typeof i=="string"?Gu(i):i.toString()).join("|")})$`),e._zod.parse=(i,s)=>{const o=i.value;return r.has(o)||i.issues.push({code:"invalid_value",values:n,input:o,inst:e}),i}}),v3=M("$ZodTransform",(e,t)=>{ze.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new _1(e.constructor.name);const i=t.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(o=>(n.value=o,n));if(i instanceof Promise)throw new ps;return n.value=i,n}});function b0(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const _3=M("$ZodOptional",(e,t)=>{ze.init(e,t),e._zod.optin="optional",e._zod.optout="optional",xe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),xe(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${sg(n.source)})?$`):void 0}),e._zod.parse=(n,r)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>b0(s,n.value)):b0(i,n.value)}return n.value===void 0?n:t.innerType._zod.run(n,r)}}),x3=M("$ZodNullable",(e,t)=>{ze.init(e,t),xe(e._zod,"optin",()=>t.innerType._zod.optin),xe(e._zod,"optout",()=>t.innerType._zod.optout),xe(e._zod,"pattern",()=>{const n=t.innerType._zod.pattern;return n?new RegExp(`^(${sg(n.source)}|null)$`):void 0}),xe(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(n,r)=>n.value===null?n:t.innerType._zod.run(n,r)}),S3=M("$ZodDefault",(e,t)=>{ze.init(e,t),e._zod.optin="optional",xe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);if(n.value===void 0)return n.value=t.defaultValue,n;const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>w0(s,t)):w0(i,t)}});function w0(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const b3=M("$ZodPrefault",(e,t)=>{ze.init(e,t),e._zod.optin="optional",xe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=t.defaultValue),t.innerType._zod.run(n,r))}),w3=M("$ZodNonOptional",(e,t)=>{ze.init(e,t),xe(e._zod,"values",()=>{const n=t.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),e._zod.parse=(n,r)=>{const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>k0(s,e)):k0(i,e)}});function k0(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const k3=M("$ZodCatch",(e,t)=>{ze.init(e,t),xe(e._zod,"optin",()=>t.innerType._zod.optin),xe(e._zod,"optout",()=>t.innerType._zod.optout),xe(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(s=>(n.value=s.value,s.issues.length&&(n.value=t.catchValue({...n,error:{issues:s.issues.map(o=>wi(o,r,bi()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=t.catchValue({...n,error:{issues:i.issues.map(s=>wi(s,r,bi()))},input:n.value}),n.issues=[]),n)}}),E3=M("$ZodPipe",(e,t)=>{ze.init(e,t),xe(e._zod,"values",()=>t.in._zod.values),xe(e._zod,"optin",()=>t.in._zod.optin),xe(e._zod,"optout",()=>t.out._zod.optout),xe(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(n,r)=>{if(r.direction==="backward"){const s=t.out._zod.run(n,r);return s instanceof Promise?s.then(o=>Nl(o,t.in,r)):Nl(s,t.in,r)}const i=t.in._zod.run(n,r);return i instanceof Promise?i.then(s=>Nl(s,t.out,r)):Nl(i,t.out,r)}});function Nl(e,t,n){return e.issues.length?(e.aborted=!0,e):t._zod.run({value:e.value,issues:e.issues},n)}const C3=M("$ZodReadonly",(e,t)=>{ze.init(e,t),xe(e._zod,"propValues",()=>t.innerType._zod.propValues),xe(e._zod,"values",()=>t.innerType._zod.values),xe(e._zod,"optin",()=>t.innerType._zod.optin),xe(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(n,r)=>{if(r.direction==="backward")return t.innerType._zod.run(n,r);const i=t.innerType._zod.run(n,r);return i instanceof Promise?i.then(E0):E0(i)}});function E0(e){return e.value=Object.freeze(e.value),e}const T3=M("$ZodCustom",(e,t)=>{Rt.init(e,t),ze.init(e,t),e._zod.parse=(n,r)=>n,e._zod.check=n=>{const r=n.value,i=t.fn(r);if(i instanceof Promise)return i.then(s=>C0(s,n,r,e));C0(i,n,r,e)}});function C0(e,t,n,r){if(!e){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),t.issues.push(ba(i))}}class I3{constructor(){this._map=new Map,this._idmap=new Map}add(t,...n){const r=n[0];if(this._map.set(t,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const n=this._map.get(t);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(t),this}get(t){const n=t._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function R3(){return new I3}const Ll=R3();function M3(e,t){return new e({type:"string",...V(t)})}function D3(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...V(t)})}function T0(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...V(t)})}function j3(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...V(t)})}function A3(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...V(t)})}function P3(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...V(t)})}function O3(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...V(t)})}function N3(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...V(t)})}function L3(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...V(t)})}function z3(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...V(t)})}function F3(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...V(t)})}function B3(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...V(t)})}function $3(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...V(t)})}function W3(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...V(t)})}function U3(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...V(t)})}function H3(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...V(t)})}function V3(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...V(t)})}function Z3(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...V(t)})}function Y3(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...V(t)})}function q3(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...V(t)})}function G3(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...V(t)})}function K3(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...V(t)})}function X3(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...V(t)})}function J3(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...V(t)})}function Q3(e,t){return new e({type:"string",format:"date",check:"string_format",...V(t)})}function e4(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...V(t)})}function t4(e,t){return new e({type:"string",format:"duration",check:"string_format",...V(t)})}function n4(e,t){return new e({type:"number",checks:[],...V(t)})}function r4(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...V(t)})}function i4(e,t){return new e({type:"boolean",...V(t)})}function s4(e){return new e({type:"unknown"})}function o4(e,t){return new e({type:"never",...V(t)})}function I0(e,t){return new D1({check:"less_than",...V(t),value:e,inclusive:!1})}function hf(e,t){return new D1({check:"less_than",...V(t),value:e,inclusive:!0})}function R0(e,t){return new j1({check:"greater_than",...V(t),value:e,inclusive:!1})}function pf(e,t){return new j1({check:"greater_than",...V(t),value:e,inclusive:!0})}function M0(e,t){return new w$({check:"multiple_of",...V(t),value:e})}function L1(e,t){return new E$({check:"max_length",...V(t),maximum:e})}function mu(e,t){return new C$({check:"min_length",...V(t),minimum:e})}function z1(e,t){return new T$({check:"length_equals",...V(t),length:e})}function a4(e,t){return new I$({check:"string_format",format:"regex",...V(t),pattern:e})}function l4(e){return new R$({check:"string_format",format:"lowercase",...V(e)})}function c4(e){return new M$({check:"string_format",format:"uppercase",...V(e)})}function u4(e,t){return new D$({check:"string_format",format:"includes",...V(t),includes:e})}function d4(e,t){return new j$({check:"string_format",format:"starts_with",...V(t),prefix:e})}function f4(e,t){return new A$({check:"string_format",format:"ends_with",...V(t),suffix:e})}function Ua(e){return new P$({check:"overwrite",tx:e})}function h4(e){return Ua(t=>t.normalize(e))}function p4(){return Ua(e=>e.trim())}function m4(){return Ua(e=>e.toLowerCase())}function g4(){return Ua(e=>e.toUpperCase())}function y4(e,t,n){return new e({type:"array",element:t,...V(n)})}function v4(e,t,n){return new e({type:"custom",check:"custom",fn:t,...V(n)})}function _4(e){const t=x4(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(ba(r,n.value,t._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),n.issues.push(ba(i))}},e(n.value,n)));return t}function x4(e,t){const n=new Rt({check:"custom",...V(t)});return n._zod.check=e,n}const S4=M("ZodISODateTime",(e,t)=>{q$.init(e,t),Me.init(e,t)});function b4(e){return J3(S4,e)}const w4=M("ZodISODate",(e,t)=>{G$.init(e,t),Me.init(e,t)});function k4(e){return Q3(w4,e)}const E4=M("ZodISOTime",(e,t)=>{K$.init(e,t),Me.init(e,t)});function C4(e){return e4(E4,e)}const T4=M("ZodISODuration",(e,t)=>{X$.init(e,t),Me.init(e,t)});function I4(e){return t4(T4,e)}const R4=(e,t)=>{E1.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:n=>FB(e,n)},flatten:{value:n=>zB(e,n)},addIssue:{value:n=>{e.issues.push(n),e.message=JSON.stringify(e.issues,Kh,2)}},addIssues:{value:n=>{e.issues.push(...n),e.message=JSON.stringify(e.issues,Kh,2)}},isEmpty:{get(){return e.issues.length===0}}})},tn=M("ZodError",R4,{Parent:Error}),M4=ag(tn),D4=lg(tn),j4=Ku(tn),A4=Xu(tn),P4=WB(tn),O4=UB(tn),N4=HB(tn),L4=VB(tn),z4=ZB(tn),F4=YB(tn),B4=qB(tn),$4=GB(tn),We=M("ZodType",(e,t)=>(ze.init(e,t),e.def=t,e.type=t.type,Object.defineProperty(e,"_def",{value:t}),e.check=(...n)=>e.clone({...t,checks:[...t.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]}),e.clone=(n,r)=>Fr(e,n,r),e.brand=()=>e,e.register=(n,r)=>(n.add(e,r),e),e.parse=(n,r)=>M4(e,n,r,{callee:e.parse}),e.safeParse=(n,r)=>j4(e,n,r),e.parseAsync=async(n,r)=>D4(e,n,r,{callee:e.parseAsync}),e.safeParseAsync=async(n,r)=>A4(e,n,r),e.spa=e.safeParseAsync,e.encode=(n,r)=>P4(e,n,r),e.decode=(n,r)=>O4(e,n,r),e.encodeAsync=async(n,r)=>N4(e,n,r),e.decodeAsync=async(n,r)=>L4(e,n,r),e.safeEncode=(n,r)=>z4(e,n,r),e.safeDecode=(n,r)=>F4(e,n,r),e.safeEncodeAsync=async(n,r)=>B4(e,n,r),e.safeDecodeAsync=async(n,r)=>$4(e,n,r),e.refine=(n,r)=>e.check(A8(n,r)),e.superRefine=n=>e.check(P8(n)),e.overwrite=n=>e.check(Ua(n)),e.optional=()=>N0(e),e.nullable=()=>L0(e),e.nullish=()=>N0(L0(e)),e.nonoptional=n=>C8(e,n),e.array=()=>h8(e),e.or=n=>Jh([e,n]),e.and=n=>y8(e,n),e.transform=n=>z0(e,x8(n)),e.default=n=>w8(e,n),e.prefault=n=>E8(e,n),e.catch=n=>I8(e,n),e.pipe=n=>z0(e,n),e.readonly=()=>D8(e),e.describe=n=>{const r=e.clone();return Ll.add(r,{description:n}),r},Object.defineProperty(e,"description",{get(){var n;return(n=Ll.get(e))==null?void 0:n.description},configurable:!0}),e.meta=(...n)=>{if(n.length===0)return Ll.get(e);const r=e.clone();return Ll.add(r,n[0]),r},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),F1=M("_ZodString",(e,t)=>{cg.init(e,t),We.init(e,t);const n=e._zod.bag;e.format=n.format??null,e.minLength=n.minimum??null,e.maxLength=n.maximum??null,e.regex=(...r)=>e.check(a4(...r)),e.includes=(...r)=>e.check(u4(...r)),e.startsWith=(...r)=>e.check(d4(...r)),e.endsWith=(...r)=>e.check(f4(...r)),e.min=(...r)=>e.check(mu(...r)),e.max=(...r)=>e.check(L1(...r)),e.length=(...r)=>e.check(z1(...r)),e.nonempty=(...r)=>e.check(mu(1,...r)),e.lowercase=r=>e.check(l4(r)),e.uppercase=r=>e.check(c4(r)),e.trim=()=>e.check(p4()),e.normalize=(...r)=>e.check(h4(...r)),e.toLowerCase=()=>e.check(m4()),e.toUpperCase=()=>e.check(g4())}),W4=M("ZodString",(e,t)=>{cg.init(e,t),F1.init(e,t),e.email=n=>e.check(D3(U4,n)),e.url=n=>e.check(N3(H4,n)),e.jwt=n=>e.check(X3(s8,n)),e.emoji=n=>e.check(L3(V4,n)),e.guid=n=>e.check(T0(D0,n)),e.uuid=n=>e.check(j3(zl,n)),e.uuidv4=n=>e.check(A3(zl,n)),e.uuidv6=n=>e.check(P3(zl,n)),e.uuidv7=n=>e.check(O3(zl,n)),e.nanoid=n=>e.check(z3(Z4,n)),e.guid=n=>e.check(T0(D0,n)),e.cuid=n=>e.check(F3(Y4,n)),e.cuid2=n=>e.check(B3(q4,n)),e.ulid=n=>e.check($3(G4,n)),e.base64=n=>e.check(q3(n8,n)),e.base64url=n=>e.check(G3(r8,n)),e.xid=n=>e.check(W3(K4,n)),e.ksuid=n=>e.check(U3(X4,n)),e.ipv4=n=>e.check(H3(J4,n)),e.ipv6=n=>e.check(V3(Q4,n)),e.cidrv4=n=>e.check(Z3(e8,n)),e.cidrv6=n=>e.check(Y3(t8,n)),e.e164=n=>e.check(K3(i8,n)),e.datetime=n=>e.check(b4(n)),e.date=n=>e.check(k4(n)),e.time=n=>e.check(C4(n)),e.duration=n=>e.check(I4(n))});function Li(e){return M3(W4,e)}const Me=M("ZodStringFormat",(e,t)=>{Ee.init(e,t),F1.init(e,t)}),U4=M("ZodEmail",(e,t)=>{F$.init(e,t),Me.init(e,t)}),D0=M("ZodGUID",(e,t)=>{L$.init(e,t),Me.init(e,t)}),zl=M("ZodUUID",(e,t)=>{z$.init(e,t),Me.init(e,t)}),H4=M("ZodURL",(e,t)=>{B$.init(e,t),Me.init(e,t)}),V4=M("ZodEmoji",(e,t)=>{$$.init(e,t),Me.init(e,t)}),Z4=M("ZodNanoID",(e,t)=>{W$.init(e,t),Me.init(e,t)}),Y4=M("ZodCUID",(e,t)=>{U$.init(e,t),Me.init(e,t)}),q4=M("ZodCUID2",(e,t)=>{H$.init(e,t),Me.init(e,t)}),G4=M("ZodULID",(e,t)=>{V$.init(e,t),Me.init(e,t)}),K4=M("ZodXID",(e,t)=>{Z$.init(e,t),Me.init(e,t)}),X4=M("ZodKSUID",(e,t)=>{Y$.init(e,t),Me.init(e,t)}),J4=M("ZodIPv4",(e,t)=>{J$.init(e,t),Me.init(e,t)}),Q4=M("ZodIPv6",(e,t)=>{Q$.init(e,t),Me.init(e,t)}),e8=M("ZodCIDRv4",(e,t)=>{e3.init(e,t),Me.init(e,t)}),t8=M("ZodCIDRv6",(e,t)=>{t3.init(e,t),Me.init(e,t)}),n8=M("ZodBase64",(e,t)=>{n3.init(e,t),Me.init(e,t)}),r8=M("ZodBase64URL",(e,t)=>{i3.init(e,t),Me.init(e,t)}),i8=M("ZodE164",(e,t)=>{s3.init(e,t),Me.init(e,t)}),s8=M("ZodJWT",(e,t)=>{a3.init(e,t),Me.init(e,t)}),B1=M("ZodNumber",(e,t)=>{P1.init(e,t),We.init(e,t),e.gt=(r,i)=>e.check(R0(r,i)),e.gte=(r,i)=>e.check(pf(r,i)),e.min=(r,i)=>e.check(pf(r,i)),e.lt=(r,i)=>e.check(I0(r,i)),e.lte=(r,i)=>e.check(hf(r,i)),e.max=(r,i)=>e.check(hf(r,i)),e.int=r=>e.check(A0(r)),e.safe=r=>e.check(A0(r)),e.positive=r=>e.check(R0(0,r)),e.nonnegative=r=>e.check(pf(0,r)),e.negative=r=>e.check(I0(0,r)),e.nonpositive=r=>e.check(hf(0,r)),e.multipleOf=(r,i)=>e.check(M0(r,i)),e.step=(r,i)=>e.check(M0(r,i)),e.finite=()=>e;const n=e._zod.bag;e.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),e.isFinite=!0,e.format=n.format??null});function j0(e){return n4(B1,e)}const o8=M("ZodNumberFormat",(e,t)=>{l3.init(e,t),B1.init(e,t)});function A0(e){return r4(o8,e)}const a8=M("ZodBoolean",(e,t)=>{c3.init(e,t),We.init(e,t)});function l8(e){return i4(a8,e)}const c8=M("ZodUnknown",(e,t)=>{u3.init(e,t),We.init(e,t)});function P0(){return s4(c8)}const u8=M("ZodNever",(e,t)=>{d3.init(e,t),We.init(e,t)});function d8(e){return o4(u8,e)}const f8=M("ZodArray",(e,t)=>{f3.init(e,t),We.init(e,t),e.element=t.element,e.min=(n,r)=>e.check(mu(n,r)),e.nonempty=n=>e.check(mu(1,n)),e.max=(n,r)=>e.check(L1(n,r)),e.length=(n,r)=>e.check(z1(n,r)),e.unwrap=()=>e.element});function h8(e,t){return y4(f8,e,t)}const p8=M("ZodObject",(e,t)=>{p3.init(e,t),We.init(e,t),xe(e,"shape",()=>t.shape),e.keyof=()=>v8(Object.keys(e._zod.def.shape)),e.catchall=n=>e.clone({...e._zod.def,catchall:n}),e.passthrough=()=>e.clone({...e._zod.def,catchall:P0()}),e.loose=()=>e.clone({...e._zod.def,catchall:P0()}),e.strict=()=>e.clone({...e._zod.def,catchall:d8()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=n=>AB(e,n),e.safeExtend=n=>PB(e,n),e.merge=n=>OB(e,n),e.pick=n=>DB(e,n),e.omit=n=>jB(e,n),e.partial=(...n)=>NB($1,e,n[0]),e.required=(...n)=>LB(W1,e,n[0])});function O0(e,t){const n={type:"object",get shape(){return zr(this,"shape",e?CB(e):{}),this.shape},...V(t)};return new p8(n)}const m8=M("ZodUnion",(e,t)=>{m3.init(e,t),We.init(e,t),e.options=t.options});function Jh(e,t){return new m8({type:"union",options:e,...V(t)})}const g8=M("ZodIntersection",(e,t)=>{g3.init(e,t),We.init(e,t)});function y8(e,t){return new g8({type:"intersection",left:e,right:t})}const Qh=M("ZodEnum",(e,t)=>{y3.init(e,t),We.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const n=new Set(Object.keys(t.entries));e.extract=(r,i)=>{const s={};for(const o of r)if(n.has(o))s[o]=t.entries[o];else throw new Error(`Key ${o} not found in enum`);return new Qh({...t,checks:[],...V(i),entries:s})},e.exclude=(r,i)=>{const s={...t.entries};for(const o of r)if(n.has(o))delete s[o];else throw new Error(`Key ${o} not found in enum`);return new Qh({...t,checks:[],...V(i),entries:s})}});function v8(e,t){const n=Array.isArray(e)?Object.fromEntries(e.map(r=>[r,r])):e;return new Qh({type:"enum",entries:n,...V(t)})}const _8=M("ZodTransform",(e,t)=>{v3.init(e,t),We.init(e,t),e._zod.parse=(n,r)=>{if(r.direction==="backward")throw new _1(e.constructor.name);n.addIssue=s=>{if(typeof s=="string")n.issues.push(ba(s,n.value,t));else{const o=s;o.fatal&&(o.continue=!1),o.code??(o.code="custom"),o.input??(o.input=n.value),o.inst??(o.inst=e),n.issues.push(ba(o))}};const i=t.transform(n.value,n);return i instanceof Promise?i.then(s=>(n.value=s,n)):(n.value=i,n)}});function x8(e){return new _8({type:"transform",transform:e})}const $1=M("ZodOptional",(e,t)=>{_3.init(e,t),We.init(e,t),e.unwrap=()=>e._zod.def.innerType});function N0(e){return new $1({type:"optional",innerType:e})}const S8=M("ZodNullable",(e,t)=>{x3.init(e,t),We.init(e,t),e.unwrap=()=>e._zod.def.innerType});function L0(e){return new S8({type:"nullable",innerType:e})}const b8=M("ZodDefault",(e,t)=>{S3.init(e,t),We.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function w8(e,t){return new b8({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():b1(t)}})}const k8=M("ZodPrefault",(e,t)=>{b3.init(e,t),We.init(e,t),e.unwrap=()=>e._zod.def.innerType});function E8(e,t){return new k8({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():b1(t)}})}const W1=M("ZodNonOptional",(e,t)=>{w3.init(e,t),We.init(e,t),e.unwrap=()=>e._zod.def.innerType});function C8(e,t){return new W1({type:"nonoptional",innerType:e,...V(t)})}const T8=M("ZodCatch",(e,t)=>{k3.init(e,t),We.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function I8(e,t){return new T8({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const R8=M("ZodPipe",(e,t)=>{E3.init(e,t),We.init(e,t),e.in=t.in,e.out=t.out});function z0(e,t){return new R8({type:"pipe",in:e,out:t})}const M8=M("ZodReadonly",(e,t)=>{C3.init(e,t),We.init(e,t),e.unwrap=()=>e._zod.def.innerType});function D8(e){return new M8({type:"readonly",innerType:e})}const j8=M("ZodCustom",(e,t)=>{T3.init(e,t),We.init(e,t)});function A8(e,t={}){return v4(j8,e,t)}function P8(e){return _4(e)}const O8="lunation:",Fl=`${O8}version`,uo=1,mf="lunation-data";function N8(e){return!e||typeof e!="object"?null:{id:e.id??Date.now()+Math.random(),name:String(e.name??"Untitled"),type:e.type??"other",dosage:e.dosage??"",frequency:e.frequency??"as-needed",startDate:e.startDate??"",notes:e.notes??"",createdAt:e.createdAt??new Date().toISOString(),isActive:e.isActive??!0}}function L8(e){return!e||typeof e!="object"?null:{id:e.id??`${e.date??new Date().toISOString().slice(0,10)}-${e.type??"unknown"}`,type:e.type??"unknown",date:e.date??new Date().toISOString().slice(0,10),severity:e.severity??"mild",notes:e.notes??"",timestamp:e.timestamp??new Date().toISOString()}}function z8(e){return!e||typeof e!="object"?null:{...e}}function F8(){try{const e=Number(localStorage.getItem(Fl)??0),t=localStorage.getItem(mf);if(!t){localStorage.setItem(Fl,String(uo));return}const n=Ql(t,null);if(!n||typeof n!="object"){Hb("lunation.storage.corrupt",{level:"warning"});const r={cycles:[],medications:[],symptoms:[],_version:uo};localStorage.setItem(mf,JSON.stringify(r)),localStorage.setItem(Fl,String(uo));return}if(e<1){const r=O0({id:Jh([Li(),j0()]),name:Li().min(1),createdAt:Li(),isActive:l8()}).passthrough(),i=O0({id:Jh([Li(),j0()]),type:Li(),date:Li()}).passthrough(),s=(Array.isArray(n.medications)?n.medications.map(N8).filter(Boolean):[]).filter(c=>r.safeParse(c).success),o=(Array.isArray(n.symptoms)?n.symptoms.map(L8).filter(Boolean):[]).filter(c=>i.safeParse(c).success),a=Array.isArray(n.cycles)?n.cycles.map(z8).filter(Boolean):[],l={...n,medications:s,symptoms:o,cycles:a,_version:uo};localStorage.setItem(mf,JSON.stringify(l)),localStorage.setItem(Fl,String(uo))}}catch(e){Cs(e)}}try{F8()}catch{}function B8(){try{if(typeof crypto<"u"&&typeof crypto.randomUUID=="function")return crypto.randomUUID();if(typeof crypto<"u"&&crypto.getRandomValues){const e=new Uint8Array(16);crypto.getRandomValues(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;const t=[...e].map(n=>n.toString(16).padStart(2,"0")).join("");return`${t.slice(0,8)}-${t.slice(8,12)}-${t.slice(12,16)}-${t.slice(16,20)}-${t.slice(20)}`}}catch{}return`uid-${Date.now().toString(36)}-${Math.random().toString(36).slice(2,10)}`}try{NL({dsn:void 0,integrations:[typeof Jv=="function"?Jv():void 0,typeof qv=="function"?qv():void 0].filter(Boolean),tracesSampleRate:.2,replaysSessionSampleRate:.1,replaysOnErrorSampleRate:1,release:"lunation@3.0.0",environment:"production"})}catch{}if(typeof window<"u"){window.addEventListener("unhandledrejection",e=>{Cs(e.reason??new Error("Unhandled rejection"))}),window.addEventListener("error",e=>{var t;if(e!=null&&e.message){try{const n=JSON.stringify({message:String(e.message||""),stack:((t=e==null?void 0:e.error)==null?void 0:t.stack)||null,filename:(e==null?void 0:e.filename)||null,lineno:(e==null?void 0:e.lineno)||null,colno:(e==null?void 0:e.colno)||null});sessionStorage.setItem("lunation:last_error",n)}catch{}Cs(e.error||new Error(String(e.message)))}});try{const e="lunation:user_id";let t=localStorage.getItem(e);t||(t=B8(),localStorage.setItem(e,t));const n=localStorage.getItem("lunation:tester_code")||void 0;Yb({id:t,username:n}),n&&Zb("tester_code",n),lm("client",{userAgent:navigator.userAgent,platform:navigator.platform||"web"})}catch{}}function F0(){const e=document.getElementById("root");if(!e)return;gf.createRoot(e).render(u.jsx($L,{fallback:u.jsx(wB,{}),children:u.jsxs(ss.StrictMode,{children:[u.jsx(bB,{}),u.jsx(OT,{}),u.jsx(LT,{})]})}))}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",F0,{once:!0}):F0();"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/Lunation/sw.js").then(t=>{t.addEventListener("updatefound",()=>{const n=t.installing;n&&n.addEventListener("statechange",()=>{n.state==="installed"&&navigator.serviceWorker.controller})})}).catch(t=>{console.warn("Service worker registration failed:",t)})});
